(this.webpackJsonpcovid_19_dashboard=this.webpackJsonpcovid_19_dashboard||[]).push([[0],{16:function(e,t,n){e.exports={axisLabel:"AreaChart_axisLabel__2fPGs",primary:"AreaChart_primary__1hZ-8",secondary:"AreaChart_secondary__1Twap",tick:"AreaChart_tick__3FpEN",markerLine:"AreaChart_markerLine__xijer",markerLineLabel:"AreaChart_markerLineLabel__3_cqB",markerLineLabelStroke:"AreaChart_markerLineLabelStroke__KZmM1",cursorLine:"AreaChart_cursorLine__2v8r_",captureArea:"AreaChart_captureArea__2JADi",dataPoint:"AreaChart_dataPoint__3WLiC",tooltip:"AreaChart_tooltip__hteRd",tooltipStroke:"AreaChart_tooltipStroke__zx4Qc",legend:"AreaChart_legend__zjzU7",legendStroke:"AreaChart_legendStroke__1X5we"}},21:function(e,t,n){e.exports={axisLabel:"AreaChart_axisLabel__5XHsT",marks:"AreaChart_marks__2G7MT",marksDown:"AreaChart_marksDown__UyMdG",tick:"AreaChart_tick__3MRek",markerLine:"AreaChart_markerLine__36MSZ",markerLineLabel:"AreaChart_markerLineLabel__36Kxd",markerLineLabelStroke:"AreaChart_markerLineLabelStroke__2LZ7n",cursorLine:"AreaChart_cursorLine__RJ2aZ",captureArea:"AreaChart_captureArea__2bdw1",dataPoint:"AreaChart_dataPoint__3YTf0",tooltip:"AreaChart_tooltip__3k8Kw",tooltipStroke:"AreaChart_tooltipStroke__wO-u4",nav:"AreaChart_nav__1qzG6"}},25:function(e,t,n){e.exports={axisLabel:"LineChart_axisLabel__1LkT5",line:"LineChart_line__2oRKE",tick:"LineChart_tick__1oFx8",markerLine:"LineChart_markerLine__3KKE9",markerLineLabel:"LineChart_markerLineLabel__gajax",markerLineLabelStroke:"LineChart_markerLineLabelStroke__5C0q5",cursorLine:"LineChart_cursorLine__j_nVV",captureArea:"LineChart_captureArea__1tieL",dataPoint:"LineChart_dataPoint__1z2Q2",tooltip:"LineChart_tooltip__ewJfn",tooltipStroke:"LineChart_tooltipStroke__3Y4Wg",legend:"LineChart_legend__6gwnu",legendStroke:"LineChart_legendStroke__1EVqV"}},26:function(e,t,n){e.exports={axisLabel:"AreaChart_axisLabel__1BZxp",marks:"AreaChart_marks__1RRqk",marksDown:"AreaChart_marksDown__2of59",tick:"AreaChart_tick__7-s8G",markerLine:"AreaChart_markerLine__fLKcc",markerLineLabel:"AreaChart_markerLineLabel__xTA18",markerLineLabelStroke:"AreaChart_markerLineLabelStroke__3y6SN",cursorLine:"AreaChart_cursorLine__21Hqk",captureArea:"AreaChart_captureArea__1Ox93",dataPoint:"AreaChart_dataPoint__2ue2O",tooltip:"AreaChart_tooltip__3xTT3",tooltipStroke:"AreaChart_tooltipStroke__3EjxC",nav:"AreaChart_nav__2EXGQ"}},28:function(e,t,n){e.exports={axisLabel:"AreaChart_axisLabel__1IBFP",areaLabel:"AreaChart_areaLabel__xitdM",primary:"AreaChart_primary__S1qiG",secondary:"AreaChart_secondary__-g2kW",tick:"AreaChart_tick__1WyOy",markerLine:"AreaChart_markerLine__X_jjp",markerLineLabel:"AreaChart_markerLineLabel__3EMdD",markerLineLabelStroke:"AreaChart_markerLineLabelStroke__1OP6q",cursorLine:"AreaChart_cursorLine__H6QT-",captureArea:"AreaChart_captureArea__17Aig",dataPoint:"AreaChart_dataPoint__JA3KJ",tooltip:"AreaChart_tooltip__2qVCW",tooltipStroke:"AreaChart_tooltipStroke__1ZPoE",legend:"AreaChart_legend__1vI5n",legendStroke:"AreaChart_legendStroke__1VAM9"}},35:function(e,t,n){e.exports={axisLabel:"LineChart_axisLabel__1-97Z",marks:"LineChart_marks__11N8a",tick:"LineChart_tick__yUXMe",markerLine:"LineChart_markerLine__3kErs",voronoi:"LineChart_voronoi__2zZI6",captureArea:"LineChart_captureArea__hSXqA",dataPoint:"LineChart_dataPoint__1iKpg",tooltip:"LineChart_tooltip__2_Kd8",tooltipStroke:"LineChart_tooltipStroke__1QqwS"}},36:function(e,t,n){e.exports={axisLabel:"BarChart_axisLabel__2-9Bw",marks:"BarChart_marks__yHRyn",tooltip:"BarChart_tooltip__3jn8Q",tooltipStroke:"BarChart_tooltipStroke__2ytli",tick:"BarChart_tick__3VW2r",legendLabel:"BarChart_legendLabel__1fB-B",legend:"BarChart_legend__VJ36v",nav:"BarChart_nav__1Seek"}},42:function(e,t,n){e.exports={pieChart:"OverviewPie_pieChart__2EFDR",pieLabel:"OverviewPie_pieLabel__uPT91",pieLabelStroke:"OverviewPie_pieLabelStroke__1SyMy",legendLabel:"OverviewPie_legendLabel__l9Ve0",legend:"OverviewPie_legend__2UIkD",nav:"OverviewPie_nav__1vWZo",hideshow:"OverviewPie_hideshow__3BMBg"}},47:function(e,t,n){e.exports={pieChart:"OverviewPie_pieChart__15fCk",pieLabel:"OverviewPie_pieLabel__dryXg",pieLabelStroke:"OverviewPie_pieLabelStroke__uz8Cz",legendLabel:"OverviewPie_legendLabel__2ffI6",legend:"OverviewPie_legend__Svigk",hideshow:"OverviewPie_hideshow__8JcRd"}},48:function(e,t,n){e.exports={marks:"ChoroplethMap_marks__Ia8M_",interiors:"ChoroplethMap_interiors__1c6ly",sphere:"ChoroplethMap_sphere__253Ra",graticules:"ChoroplethMap_graticules__1pM2M",tick:"ChoroplethMap_tick__1KjU2","menus-container":"ChoroplethMap_menus-container__s4izW","axis-label":"ChoroplethMap_axis-label__3xZac","dropdown-label":"ChoroplethMap_dropdown-label__2PVQG","Dropdown-root":"ChoroplethMap_Dropdown-root__Q0kxi","Dropdown-menu":"ChoroplethMap_Dropdown-menu__3rY1g",sliderContainer:"ChoroplethMap_sliderContainer__3H94e",tooltip:"ChoroplethMap_tooltip__-fR-T",tooltipStroke:"ChoroplethMap_tooltipStroke__2yB2m"}},60:function(e,t,n){e.exports={pieChart:"OverviewPie_pieChart__2qoEZ",pieLabel:"OverviewPie_pieLabel__3Z03q",pieLabelStroke:"OverviewPie_pieLabelStroke__GFSqY",legendLabel:"OverviewPie_legendLabel__xD4s4",legend:"OverviewPie_legend__2n99N",hideshow:"OverviewPie_hideshow__5FUxk"}},639:function(e,t,n){},641:function(e,t,n){},661:function(e,t,n){"use strict";n.r(t);n(402),n(452);var a=n(1),c=n(92),r=n.n(c),i=(n(639),n.p,n(4)),s=n(155),o=n.n(s),l=(n(641),n(75)),d=n(0),j=function(e){var t=e.user,n=e.repo;return Object(d.jsx)("div",{style:{marginTop:"0.5rem",marginLeft:"0.5rem"},children:Object(d.jsx)("iframe",{src:"https://ghbtns.com/github-btn.html?user=".concat(t,"&repo=").concat(n,"&type=star&count=false&size=large"),frameborder:"0",scrolling:"0",width:"170",height:"30",title:"GitHub"})})};function u(){var e=new Date;return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()}var b=function(){return Object(d.jsxs)("div",{className:"app-title",children:[Object(d.jsxs)("h1",{children:["Covid",Object(d.jsx)("span",{className:"title-numerals",children:"-19"})," Dashboard"]}),Object(d.jsx)("h2",{className:"title-date",children:u()})]})},h=n(51),O=function(e){var t=e.view,n=e.setView,c=[{name:"Global",view_name:"global",className:"global"===t?"active view-button":"view-button"},{name:"\u53f0\u7063\u7248",view_name:"taiwan",className:"taiwan"===t?"active view-button":"view-button"}];return Object(d.jsx)("div",{className:"nav",children:c.map((function(e){return Object(a.createElement)(f,Object(h.a)(Object(h.a)({setView:n},e),{},{key:e.view_name}))}))})},f=function(e){var t=e.name,n=e.view_name,a=e.className,c=e.setView;return Object(d.jsx)("button",{onClick:function(e){e.preventDefault(),Object(l.setCookie)("view",n),c(n)},type:"button",className:a,children:t})},x=function(){return Object(d.jsxs)("div",{className:"lds-spinner",children:[Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{}),Object(d.jsx)("div",{})]})},m=function(e){var t=e.children,n=e.className;return Object(d.jsx)("li",{className:"flex-card-listitem".concat(n?" "+n:""),children:Object(d.jsx)("div",{className:"flex-card",children:t})})},v=function(){return Object(d.jsx)("div",{className:"footer",children:Object(d.jsxs)("p",{children:["\xa9 2021 ",Object(d.jsx)("a",{href:"https://eternallogger.com",children:"George Huang"}),". All rights reserved."]})})},p=n(2),g=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=!0;return Object(p.o)("https://morning-wave-49482.herokuapp.com/https://covid-19.nchc.org.tw/api/covid19?CK=covid-19@nchc.org.tw&querydata=5001&limited=\u5168\u90e8\u7e23\u5e02").then((function(t){e&&c(function(e){return e.map((function(e){return e.date=new Date(e.a02),e.county=e.a03,e.area=e.a04,e.gender=e.a05,e.foreign=e.a06,e.ageGroup=e.a07,e}))}(t))})),function(){e=!1}}),[]),n},k=n(42),w=n.n(k),_=function(e){var t=e.view,n=e.setView,c=[{name:"\u73fe\u6cc1",view_name:"condition",className:"condition"===t?"active view-button":"view-button"},{name:"\u5e74\u9f61\u5c64",view_name:"age",className:"age"===t?"active view-button":"view-button"},{name:"\u751f\u7406\u6027\u5225",view_name:"gender",className:"gender"===t?"active view-button":"view-button"}];return Object(d.jsx)("div",{className:w.a.nav,children:c.map((function(e){return Object(a.createElement)(y,Object(h.a)(Object(h.a)({setView:n},e),{},{key:e.view_name}))}))})},y=function(e){var t=e.name,n=e.view_name,a=e.className,c=e.setView;return Object(d.jsx)("button",{onClick:function(e){e.preventDefault(),c(n)},type:"button",className:a,children:t})},S=function(e){var t=e.colorScale,n=e.tickSpacing,a=void 0===n?20:n,c=e.tickSize,r=void 0===c?10:c,i=e.tickTextOffset,s=void 0===i?20:i,o=e.onHover,l=e.hoveredValue,j=e.fadeOpacity,u=void 0===j?.2:j;return t.domain().map((function(e,n){return Object(d.jsxs)("g",{className:w.a.legend,transform:"translate(0, ".concat(n*a,")"),onMouseEnter:function(){return o(e)},onMouseLeave:function(){return o(null)},opacity:l&&e!==l?u:1,children:[Object(d.jsx)("circle",{fill:t(e),r:r}),Object(d.jsx)("text",{dy:".32em",x:s,children:e})]},t(e))}))},N=function(e){var t=e.items;return Object(d.jsx)("div",{className:"small-table",children:Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:Object(d.jsx)("th",{children:"\u7e3d\u78ba\u8a3a\u6578"})})}),Object(d.jsx)("tbody",{children:Object(d.jsx)("tr",{children:Object(d.jsx)("td",{className:"numerical-data",children:t.reduce((function(e,t){return e+t.value}),0).toLocaleString()})})})]})})},C=function(e){var t=e.pieData,n=e.pieArc,a=e.colorPie,c=e.colorScale,r=e.dataType,i=e.onHover,s=e.hoveredValue,o=e.fadeOpacity,l=void 0===o?.2:o;return a(t).map((function(e){var t=r(e.data);return Object(d.jsx)("g",{className:w.a.pieChart,opacity:s&&t!==s?l:1,onClick:function(){return i(t)},onMouseEnter:function(){return i(t)},onMouseLeave:function(){return i(null)},children:Object(d.jsx)("path",{fill:c(t),d:n(e)})},e.data.case)}))},L=function(e){var t=e.pieData,n=e.pieArc,a=e.colorPie,c=e.dataType,r=e.dataValue,i=e.onHover,s=e.hoveredValue,o=e.fadeOpacity,l=void 0===o?.2:o,j=e.labelOffsetY,u=void 0===j?18:j;return a(t).map((function(e){var a=c(e.data),o=n.centroid(e);e.endAngle-e.startAngle<.25&&(o[0]*=1.65,o[1]*=1.65);var j=(r(e.data)/Object(p.F)(t,(function(e){return e.value}))*100).toFixed(1);return Object(d.jsxs)("g",{className:w.a.pieChart,opacity:s&&a!==s?l:1,onMouseEnter:function(){return i(a)},onClick:function(){return i(a)},onMouseLeave:function(){return i(null)},children:[Object(d.jsxs)("text",{className:w.a.pieLabelStroke,transform:"translate(".concat(o,")"),textAnchor:"middle",dominantBaseline:"middle",children:[Object(d.jsxs)("tspan",{className:"num",x:"0",dy:-u/2,fill:"black",children:[j,"%"]}),Object(d.jsx)("tspan",{x:"0",dy:u,fill:"#635F5D",children:r(e.data).toLocaleString()})]}),Object(d.jsxs)("text",{className:w.a.pieLabel,transform:"translate(".concat(o,")"),textAnchor:"middle",dominantBaseline:"middle",children:[Object(d.jsxs)("tspan",{className:"num",x:"0",dy:-u/2,fill:"black",children:[j,"%"]}),Object(d.jsx)("tspan",{x:"0",dy:u,fill:"#635F5D",children:r(e.data).toLocaleString()})]})]},c(e.data))}))},A=window.innerWidth<1e3?window.innerWidth:1e3,M=A>480?.6*A:.7*A,D=Math.min(.66*A,M)/2,F=.7*D,T=.25*D,V=.66*A,W=Object(p.a)().innerRadius(0).outerRadius(F).innerRadius(T),B=function(e){return e.case},P=function(e){return e.value},H=function(e){var t,n=e.data,c=e.view,r=Object(a.useState)(null),s=Object(i.a)(r,2),o=s[0],l=s[1],j=Object(a.useMemo)((function(){return Object.keys(n).map((function(e){return{case:e,value:n[e]}}))}),[n]),u=Object(a.useMemo)((function(){return(M-26*(j.length-1))/2}),[j]);switch(c){case"condition":t="\u6cc1";break;case"age":t="\u5e74";break;case"gender":t="\u6027";break;default:t=""}var b=Object(a.useMemo)((function(){return Object(p.s)().sort(null).value(P)}),[]),h=Object(a.useMemo)((function(){return Object(p.w)().domain(j.map(B)).range(p.A)}),[j]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(N,{items:j,dataType:B,dataValue:P}),Object(d.jsxs)("svg",{viewBox:"0 0 ".concat(A," ").concat(M),preserveAspectRatio:"xMinYMid",children:[Object(d.jsxs)("g",{transform:"translate(".concat(D,",").concat(M/2,")"),children:[Object(d.jsx)("text",{dominantBaseline:"middle",textAnchor:"middle",dy:".1em",fontSize:T,fontWeight:"bold",children:t}),Object(d.jsx)(C,{pieData:j,colorPie:b,colorScale:h,pieArc:W,dataType:B,onHover:l,hoveredValue:o,fadeOpacity:.3}),Object(d.jsx)(L,{pieData:j,colorPie:b,pieArc:W,dataType:B,dataValue:P,onHover:l,hoveredValue:o,fadeOpacity:.3})]}),Object(d.jsxs)("g",{transform:"translate(".concat(V,", ").concat(u,")"),children:[Object(d.jsx)("text",{className:w.a.legendLabel,x:-7,y:-26,children:"\u6848\u4f8b\u5225"}),Object(d.jsx)(S,{colorScale:h,tickSpacing:26,tickSize:8,tickTextOffset:16,onHover:l,hoveredValue:o,fadeOpacity:.3})]})]})]})},E=function(){return Object(d.jsxs)("p",{className:"footnote",children:["\u8cc7\u6599\u4f86\u6e90\uff1a\u885b\u751f\u798f\u5229\u90e8\u75be\u75c5\u7ba1\u5236\u7f72\uff08API\uff1a"," ",Object(d.jsx)("a",{href:"https://disease.sh",children:"disease.sh"}),"\u3001",Object(d.jsx)("a",{href:"https://covid-19.nchc.org.tw/dt_005-covidTable_taiwan.php",children:"\u570b\u5bb6\u9ad8\u901f\u7db2\u8def\u8207\u8a08\u7b97\u4e2d\u5fc3"}),"\u3002\u8cc7\u6599\u6536\u96c6\uff1a",Object(d.jsx)("a",{href:"https://www.worldometers.info/coronavirus/#countries",children:"Worldometer"}),"\u3001",Object(d.jsx)("a",{href:"https://covid-19.nchc.org.tw/dt_005-covidTable_taiwan.php",children:"\u570b\u5bb6\u9ad8\u901f\u7db2\u8def\u8207\u8a08\u7b97\u4e2d\u5fc3"}),"\uff09\u3002"]})},R=function(e){var t=e.id;return Object(d.jsxs)("div",{className:"wrap-collapsible",children:[Object(d.jsx)("input",{id:t,className:"toggle",type:"checkbox"}),Object(d.jsx)("label",{htmlFor:t,className:"lbl-toggle",children:"\u9019\u5f35\u5716\u8868\u53ef\u4ee5\u600e\u9ebc\u770b\uff1f"}),Object(d.jsx)("div",{className:"collapsible-content",children:Object(d.jsxs)("div",{className:"content-inner",children:[Object(d.jsx)("p",{children:"\u9019\u5f35\u5716\u8868\u7684\u7528\u610f\u662f\u5448\u73fe\u6b64\u6642\u6b64\u523bCOVID-19\u5728\u53f0\u7063\u7684\u75ab\u60c5\u6982\u6cc1\u3002\u5de6\u4e0a\u89d2\u7684\u300c\u7e3d\u78ba\u8a3a\u6578\u300d\u4ee3\u8868\u7be9\u6aa2\u967d\u6027\u6848\u4f8b\u7684\u7e3d\u8a08\uff0c\u4e0d\u904e\uff0c\u7531\u65bc\u4e26\u975e\u6240\u6709\u4eba\u90fd\u7d93\u904e\u7be9\u6aa2\uff0c\u9019\u500b\u6578\u76ee\u4e26\u4e0d\u8db3\u4ee5\u4ee3\u8868\u793e\u6703\u4e2d\u771f\u6b63\u67d3\u75ab\u7684\u4eba\u6578\uff0c\u9802\u591a\u4ee3\u8868\u76ee\u524d\u5df2\u77e5\u7684\u78ba\u8a3a\u4eba\u6578\u800c\u5df2\u3002"}),Object(d.jsxs)("p",{children:["\u6b63\u5982\u5713\u9905\u5716\u6240\u793a\uff0c\u7e3d\u78ba\u8a3a\u6578\u53ef\u4ee5\u7d30\u5206\u70ba\u4e09\u985e\uff1a\u75c5\u4e2d\u3001\u6b7b\u4ea1\u3001\u89e3\u9664\u9694\u96e2\u3002\u6b64\u8655\u5217\u51fa\u89e3\u9664\u9694\u96e2\u7684\u6bd4\u4f8b\uff0c\u7528\u610f\u5728\u986f\u793a\u53f0\u7063\u8ddd\u96e2\u75ab\u75c5\u7684\u7d42\u9ede\u9084\u6709\u591a\u9060\u3002\u4f46\u8981\u77e5\u9053\uff0c\u9019\u7d44\u300c\u6062\u5fa9\u9418\u300d\u5728\u75ab\u60c5\u8fc5\u901f\u589e\u6eab\u7684\u6642\u5019\u662f\u6709\u53ef\u80fd\u5012\u8f49\u7684\u3002\u75c5\u4e2d\u6848\u4f8b\u4ee3\u8868\u76ee\u524d\u9084\u672a\u5eb7\u5fa9\u3001\u6b63\u5728\u8207\u75be\u75c5\u596e\u9b25\u4e2d\u7684\u4eba\u5011\u3002\u6839\u64da\u300a\u7d10\u7d04\u6642\u5831\u300b",Object(d.jsx)("a",{href:"https://www.nytimes.com/interactive/2020/world/asia/china-coronavirus-contain.html",children:"\u4e00\u7bc7\u75ab\u60c5\u7206\u767c\u521d\u671f\u7684\u5831\u5c0e"}),"\uff0c\u5927\u591a\u6578\u67d3\u75ab\u8005\u6700\u7d42\u90fd\u6703\u5eb7\u5fa9\uff0c\u78ba\u8a3a\u8005\u7684\u6b7b\u4ea1\u6bd4\u4f8b\u53ef\u80fd\u6703\u5c0f\u65bc\u767e\u5206\u4e4b\u4e09\u3002"]}),Object(d.jsx)("p",{children:"2021\u5e746\u670820\u65e5\u65b0\u589e\u300c\u5e74\u9f61\u5c64\u300d\u8207\u300c\u751f\u7406\u6027\u5225\u300d\u5169\u7a2e\u5340\u5206\u6cd5\u3002COVID-19\u7684\u67d3\u75c5\u81f4\u6b7b\u7387\u8207\u5e74\u9f61\u7684\u95dc\u4fc2\u5bc6\u5207\uff0c\u7531\u6b64\u6216\u53ef\u5927\u81f4\u63a8\u4f30\u6574\u9ad4\u4e0d\u5e78\u75c5\u6b7b\u4eba\u6578\u6703\u6709\u591a\u5c11\u3002"}),Object(d.jsx)(E,{})]})})]})},G="COVID-19 \u53f0\u7063\u67d3\u75ab\u73fe\u6cc1",I=function(e){var t=e.title;return Object(d.jsx)("div",{className:"chart-title",children:t})},z=function(e,t){var n=Array.from(new Set(e.map((function(e){return e[t]})))),a={};return n.forEach((function(n){a[n]=e.reduce((function(e,a){return a[t]===n?e+=1:e}),0)})),a},Y=function(){var e,t,n=Object(a.useState)("condition"),c=Object(i.a)(n,2),r=c[0],s=c[1],o=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){Object(p.o)("https://disease.sh/v3/covid-19/countries/Taiwan?strict=true").then(c)}),[]),n}(),l=g();if(!o||!l||!l.length)return Object(d.jsx)(x,{});switch(r){case"condition":e=function(e){var t=e.active,n=e.deaths;return{"\u89e3\u9664\u9694\u96e2":e.recovered,"\u75c5\u4e2d":t,"\u6b7b\u4ea1":n}}(o);break;case"gender":e=z(l,"gender");break;case"age":var j=z(l,"ageGroup");e={"0-9":(t=j)[0]+t[1]+t[2]+t[3]+t[4]+t["5-9"],"10-19":t["10-14"]+t["15-19"],"20-29":t["20-24"]+t["25-29"],"30-39":t["30-34"]+t["35-39"],"40-49":t["40-44"]+t["45-49"],"50-59":t["50-54"]+t["55-59"],"60-69":t["60-64"]+t["65-69"],"70+":t["70+"]};break;default:e=o}return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(I,{title:G}),Object(d.jsx)(_,{view:r,setView:s}),Object(d.jsx)(H,{data:e,view:r}),Object(d.jsx)(R,{id:G})]})},q=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){Object(p.o)("https://covid19dashboard.cdc.gov.tw/dash3").then((function(e){(e=function(e){return Object.keys(e).forEach((function(t){"number"!==typeof e[t]&&(e[t]=e[t].replaceAll(",",""),e[t]=+e[t])})),e}(e[0])).confirmed=+e["\u78ba\u8a3a"],e.recovered=+e["\u89e3\u9664\u9694\u96e2"],e.deaths=+e["\u6b7b\u4ea1"],e.excludedYesterday=+e["\u6628\u65e5\u6392\u9664"],e.confirmedYesterday=+e["\u6628\u65e5\u78ba\u8a3a"],e.testsYesterday=+e["\u6628\u65e5\u9001\u9a57"],e.tests=+e["\u9001\u9a57"],e.excluded=+e["\u6392\u9664"],c(e)}))}),[]),n},K=function(){return Object(d.jsxs)("p",{className:"footnote",children:["\u8cc7\u6599\u4f86\u6e90\uff1a",Object(d.jsx)("a",{href:"https://sites.google.com/cdc.gov.tw/2019ncov/taiwan",children:"\u885b\u751f\u798f\u5229\u90e8\u75be\u75c5\u7ba1\u5236\u7f72"})]})},Z=function(e){var t=e.id;return Object(d.jsxs)("div",{className:"wrap-collapsible",children:[Object(d.jsx)("input",{id:t,className:"toggle",type:"checkbox"}),Object(d.jsx)("label",{htmlFor:t,className:"lbl-toggle",children:"\u9019\u5f35\u5716\u8868\u53ef\u4ee5\u600e\u9ebc\u770b\uff1f"}),Object(d.jsx)("div",{className:"collapsible-content",children:Object(d.jsxs)("div",{className:"content-inner",children:[Object(d.jsx)("p",{children:"\u9019\u5f35\u5713\u9905\u5716\u7528\u4f86\u986f\u793a\u6b64\u6642\u6b64\u523bCOVID-19\u5728\u53f0\u7063\u7684\u7be9\u6aa2\u5de5\u4f5c\u73fe\u6cc1\u3002"}),Object(d.jsx)("p",{children:"\u6574\u584a\u5927\u9905\u8868\u793a\u53f0\u7063\u5f9e\u6709\u75ab\u60c5\u4ee5\u4f86\u7d2f\u8a08\u7684\u6aa2\u9a57\u4ef6\u6578\uff1b\u8981\u6ce8\u610f\u4ef6\u6578\u4e0d\u4ee3\u8868\u4eba\u6578\uff0c\u56e0\u70ba\u4e00\u500b\u4eba\u53ef\u80fd\u6aa2\u9a57\u4e0d\u53ea\u4e00\u6b21\uff0c\u6240\u4ee5\u9019\u500b\u6578\u5b57\u6703\u6bd4\u7d2f\u8a08\u6aa2\u9a57\u4eba\u6578\u8981\u591a\u3002\u6574\u500b\u5927\u9905\u53c8\u5206\u6210\u5169\u5927\u584a\uff1a"}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:"\u7070\u8272\u7684\uff1a\u5df2\u6aa2\u9a57\uff0c\u672a\u901a\u5831\u3002"}),Object(d.jsx)("li",{children:"\u5f69\u8272\u7684\uff1a\u5df2\u901a\u5831\u6848\u4f8b\u3002"})]}),Object(d.jsxs)("p",{children:["\u4e26\u975e\u6240\u6709\u7684\u6aa2\u9a57\u6848\u4f8b\u90fd\u9808\u901a\u5831\uff0c\u7531",Object(d.jsx)("a",{href:"https://www.cdc.gov.tw/Category/MPage/np0wef4IjYh9hvbiW2BnoQ#collapseOne84473",children:"\u75be\u7ba1\u7f72\u7684\u898f\u5b9a"}),"\u770b\u4f86\uff0c\u9a57\u5fc3\u5b89\u7684\u6848\u4f8b\u5c31\u4e0d\u6703\u901a\u5831\u4e0a\u50b3\u3002\u7136\u800c\uff0c\u9019\u500b\u7070\u8272\u5340\u584a\u537b\u4e5f\u662f\u76f2\u9ede\u6240\u5728\u3002\u53f0\u7063\u7531\u65bc\u4e0a\u50b3\u901a\u5831\u7cfb\u7d71\u5b58\u5728\u300c\u585e\u8eca\u300d\u7684\u554f\u984c\uff0c\u4ee3\u8868\u6709\u4e9b\u5df2\u7d93\u6aa2\u9a57\u4e14\u7b26\u5408\u901a\u5831\u6a19\u6e96\u7684\u6848\u4f8b\u4e26\u6c92\u6709\u5373\u6642\u901a\u5831\u3002\u9019\u4e9b\u6848\u4f8b\u4ee5\u53ca\u672a\u4f86\u53ef\u80fd\u7684\u300c\u6821\u6b63\u56de\u6b78\u300d\u90fd\u5305\u7d0d\u5728\u7070\u8272\u7684\u300c\u5df2\u6aa2\u9a57\uff0c\u672a\u901a\u5831\u300d\u5340\u584a\u4e2d\u3002\u5927\u9905\u7684\u5f69\u8272\u90e8\u5206\u5247\u662f\u5df2\u901a\u5831\u7684\u4ef6\u6578\uff0c\u9019\u53c8\u53ef\u4ee5\u5340\u5206\u70ba\u4e09\u584a\uff1a"]}),Object(d.jsxs)("ul",{children:[Object(d.jsx)("li",{children:"\u901a\u5831\u78ba\u8a3a\u3002"}),Object(d.jsx)("li",{children:"\u901a\u5831\u6392\u9664\u3002"}),Object(d.jsx)("li",{children:"\u901a\u5831\u5f85\u78ba\u8a8d\u3002"})]}),Object(d.jsxs)("p",{children:["\u7372\u901a\u5831\u7684\u6848\u4f8b\u6b63\u5e38\u4f86\u8aaa\u53ea\u6709\u5169\u500b\u53ef\u80fd\uff0c\u4e0d\u662f\u78ba\u8a3a\u5c31\u662f\u6392\u9664\uff0c\u56e0\u6b64\u4e0d\u61c9\u8a72\u5b58\u5728\u7b2c\u4e09\u985e\u3002\u7136\u800c\u5728\u901a\u5831\u4e4b\u5f8c\u3001\u78ba\u8a8d\u6aa2\u9a57\u7d50\u679c\u4e4b\u524d\uff0c\u9084\u662f\u5b58\u5728\u6642\u9593\u5dee\u3002\u64da",Object(d.jsx)("a",{href:"https://health.udn.com/health/story/120950/5479893",children:"\u300a\u806f\u5408\u5831\u5143\u6c23\u7db2\u300b\u7684\u5831\u5c0e"}),"\uff0c\u6b64\u8655\u7684\u843d\u5dee\u5927\u591a\u4f86\u81ea\u65bc\u5404\u7a2e\u7f3a\u4ef6\uff0c\u4e5f\u5305\u62ec\u6b63\u5728\u6aa2\u9a57\u4e2d\uff0c\u6216\u662f\u9810\u5148\u901a\u5831\u537b\u5c1a\u672a\u63a1\u6aa2\u7684\u60c5\u5f62\u3002"]}),Object(d.jsx)(K,{})]})})]})},J=n(47),Q=n.n(J),U=function(e){var t=e.colorScale,n=e.tickSpacing,a=void 0===n?20:n,c=e.tickSize,r=void 0===c?10:c,i=e.tickTextOffset,s=void 0===i?20:i,o=e.onHover,l=e.hoveredValue,j=e.fadeOpacity,u=void 0===j?.2:j;return t.domain().map((function(e,n){return Object(d.jsxs)("g",{className:Q.a.legend,transform:"translate(0, ".concat(n*a,")"),onMouseEnter:function(){return o(e)},onMouseLeave:function(){return o(null)},opacity:l&&e!==l?u:1,children:[Object(d.jsx)("circle",{fill:t(e),r:r}),Object(d.jsx)("text",{dy:".32em",x:s,children:e})]},t(e))}))},X=function(e){var t=e.items,n=e.dataType,a=e.dataValue;return Object(d.jsx)("div",{className:"small-table",children:Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:t.map((function(e){return Object(d.jsx)("th",{children:n(e)},n(e))}))})}),Object(d.jsx)("tbody",{children:Object(d.jsx)("tr",{children:t.map((function(e,t){return Object(d.jsx)("td",{className:"numerical-data",children:a(e).toLocaleString()},t)}))})})]})})},$=function(e){var t=e.pieData,n=e.pieArc,a=e.colorPie,c=e.colorValue,r=e.dataType,i=e.onHover,s=e.hoveredValue,o=e.fadeOpacity,l=void 0===o?.2:o;return a(t).map((function(e){var t=r(e.data);return Object(d.jsx)("g",{className:Q.a.pieChart,opacity:s&&t!==s?l:1,onMouseEnter:function(){return i(t)},onClick:function(){return i(t)},onMouseLeave:function(){return i(null)},children:Object(d.jsx)("path",{fill:c(e.data),d:n(e)})},r(e.data))}))},ee=function(e){var t=e.pieData,n=e.pieArc,a=e.colorPie,c=e.dataType,r=e.dataValue,i=e.onHover,s=e.hoveredValue,o=e.fadeOpacity,l=void 0===o?.2:o,j=e.labelOffsetY,u=void 0===j?18:j;return a(t).map((function(e){var a=c(e.data),o=n.centroid(e);e.endAngle-e.startAngle<.25&&(o[0]*=2.4,o[1]*=2.4);var j=(r(e.data)/Object(p.F)(t,(function(e){return e.value}))*100).toFixed(1);return Object(d.jsxs)("g",{className:Q.a.pieChart,opacity:s&&a!==s?l:1,onMouseEnter:function(){return i(a)},onClick:function(){return i(a)},onMouseLeave:function(){return i(null)},children:[Object(d.jsxs)("text",{className:Q.a.pieLabelStroke,transform:"translate(".concat(o,")"),textAnchor:"middle",dominantBaseline:"middle",children:[Object(d.jsxs)("tspan",{className:"num",x:"0",dy:-u/2,fill:"black",children:[j,"%"]}),Object(d.jsx)("tspan",{x:"0",dy:u,fill:"#635F5D",children:r(e.data).toLocaleString()})]}),Object(d.jsxs)("text",{className:Q.a.pieLabel,transform:"translate(".concat(o,")"),textAnchor:"middle",dominantBaseline:"middle",children:[Object(d.jsxs)("tspan",{className:"num",x:"0",dy:-u/2,fill:"black",children:[j,"%"]}),Object(d.jsx)("tspan",{x:"0",dy:u,fill:"#635F5D",children:r(e.data).toLocaleString()})]})]},c(e.data))}))},te=window.innerWidth<1e3?window.innerWidth:1e3,ne=te>480?.7*te:.8*te,ae=.66*te/2,ce=.7*ae,re=.66*te,ie=ae-13,se=Object(p.a)().innerRadius(0).outerRadius(ce),oe=function(e){return e.case},le=function(e){return e.value},de=function(e){return e.color},je=function(e){var t=e.data,n=e.testsData,c=Object(a.useState)(null),r=Object(i.a)(c,2),s=r[0],o=r[1],l=[{case:"\u7d2f\u8a08\u6aa2\u9a57\u4ef6\u6578",value:n.tests},{case:"\u7d2f\u8a08\u901a\u5831\u4ef6\u6578",value:t.tests},{case:"\u6628\u65e5\u901a\u5831\u4ef6\u6578",value:t.testsYesterday}],j=Object(a.useMemo)((function(){return[{case:"\u6aa2\u9a57\u672a\u901a\u5831",value:n.tests-t.tests,color:"#E5E2E0"},{case:"\u901a\u5831\u78ba\u8a3a",value:t.confirmed,color:"#005D6E"},{case:"\u901a\u5831\u6392\u9664",value:t.excluded,color:"#42A5B3"},{case:"\u901a\u5831\u5f85\u78ba\u8a8d",value:t.tests-t.excluded-t.confirmed,color:"#BD2D28"}]}),[t,n]),u=Object(a.useMemo)((function(){return Object(p.s)().sort(null).value(le)}),[]),b=Object(a.useMemo)((function(){return Object(p.w)().domain(j.map(oe)).range(j.map(de))}),[j]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(X,{items:l,dataType:oe,dataValue:le}),Object(d.jsxs)("svg",{viewBox:"0 0 ".concat(te," ").concat(ne),preserveAspectRatio:"xMinYMid",children:[Object(d.jsxs)("g",{transform:"translate(".concat(ae,",").concat(ne/2,")"),children:[Object(d.jsx)($,{pieData:j,colorPie:u,colorValue:de,pieArc:se,dataType:oe,dataValue:le,onHover:o,hoveredValue:s,fadeOpacity:.3}),Object(d.jsx)(ee,{pieData:j,colorPie:u,colorValue:de,pieArc:se,dataType:oe,dataValue:le,onHover:o,hoveredValue:s,fadeOpacity:.3})]}),Object(d.jsxs)("g",{transform:"translate(".concat(re,", ").concat(ie,")"),children:[Object(d.jsx)("text",{className:Q.a.legendLabel,x:-7,y:-26,children:"\u7be9\u6aa2\u73fe\u6cc1"}),Object(d.jsx)(U,{colorScale:b,tickSpacing:26,tickSize:8,tickTextOffset:16,onHover:o,hoveredValue:s,fadeOpacity:.3})]})]})]})},ue="COVID-19 \u53f0\u7063\u7be9\u6aa2\u73fe\u6cc1",be=function(e){var t=e.title;return Object(d.jsx)("div",{className:"chart-title",children:t})},he=function(){var e=q(),t=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){Object(p.o)("https://covid19dashboard.cdc.gov.tw/dash7").then((function(e){(e=e[0]).peopleTested=+e["\u6aa2\u9a57\u4eba\u6578"].replaceAll(",",""),e.tests=+e["\u6aa2\u9a57\u4ef6\u6578"].replaceAll(",",""),e.date=new Date(e["\u8cc7\u6599\u66f4\u65b0\u6642\u9593"]),c(e)}))}),[]),n}();return e&&t?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(be,{title:ue}),Object(d.jsx)(je,{data:e,testsData:t}),Object(d.jsx)(Z,{id:ue})]}):Object(d.jsx)(x,{})},Oe=Object(p.H)("%Y-%m-%d"),fe=function(e){var t=Object(a.useState)(null),n=Object(i.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){var t=!0;return Object(p.g)(e).then((function(e){t&&r(function(e){return e.map((function(e){return{date:Oe(e.date),newCases:+e.Taiwan}}))}(e))})),function(){t=!1}}),[e]),c},xe=function(e){var t=e.title;return Object(d.jsx)("div",{className:"chart-title",children:t})},me=function(e){var t=e.items;return Object(d.jsx)("div",{className:"small-table",children:Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:t.map((function(e,t){return Object(d.jsx)("th",{children:e.heading},t)}))})}),Object(d.jsx)("tbody",{children:Object(d.jsx)("tr",{children:t.map((function(e,t){return Object(d.jsx)("td",{className:"numerical-data",children:e.value},t)}))})})]})})},ve=n(21),pe=n.n(ve),ge=function(e){var t=e.xScale,n=e.innerHeight,c=e.tickFormat,r=e.tickCount,i=void 0===r?6:r,s=e.tickOffset,o=void 0===s?3:s,l=Object(a.useRef)();return Object(a.useEffect)((function(){var e=Object(p.B)(l.current),a=Object(p.d)(t).ticks(i,c).tickSize(-n).tickPadding(o);e.call(a).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-55)")}),[t,n,c,o,i]),Object(d.jsx)("g",{ref:l,className:pe.a.tick,transform:"translate(0, ".concat(n,")")})},ke=function(e){var t=e.yScale,n=e.innerWidth,c=e.tickFormat,r=e.tickOffset,i=void 0===r?3:r,s=Object(a.useRef)();return Object(a.useEffect)((function(){var e=Object(p.B)(s.current),a=Object(p.e)(t).tickSize(n).tickPadding(i).tickFormat(c);e.call(a)}),[t,n,c,i]),Object(d.jsx)("g",{ref:s,className:pe.a.tick,transform:"translate(".concat(n,", 0)")})},we=function(e){var t=e.value,n=e.xScale,a=e.height,c=e.label,r=n(t),i=a;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("line",{className:pe.a.markerLine,strokeDasharray:"10,10",x1:r,y1:0,x2:r,y2:i}),Object(d.jsx)("text",{className:pe.a.markerLineLabelStroke,textAnchor:"start",x:r-15,y:5,writingMode:"vertical-rl",children:c}),Object(d.jsx)("text",{className:pe.a.markerLineLabel,textAnchor:"start",x:r-15,y:5,writingMode:"vertical-rl",children:c})]})},_e=function(e){var t=e.value,n=e.xScale,a=e.height,c=n(t),r=a;return Object(d.jsx)("line",{className:pe.a.cursorLine,x1:c,y1:0,x2:c,y2:r})},ye=function(e){var t=e.colorScale,n=e.tickSpacing,a=void 0===n?20:n,c=e.tickSize,r=void 0===c?10:c,i=e.tickTextOffset,s=void 0===i?20:i;return t.domain().map((function(e,n){return Object(d.jsxs)("g",{className:pe.a.legend,transform:"translate(".concat(n*a,", 0)"),children:[Object(d.jsx)("circle",{fill:t(e),r:r}),Object(d.jsx)("text",{dy:".32em",x:s,className:pe.a.legendStroke,children:e}),Object(d.jsx)("text",{dy:".32em",x:s,className:pe.a.legend,children:e})]},t(e))}))},Se=function(e){var t=e.colorScale,n=e.dataTop,a=e.dataDown,c=e.activeDate,r=e.className,i=e.xTooltipFormat;return Object(d.jsxs)("text",{className:r,textAnchor:"end",children:[Object(d.jsx)("tspan",{x:"-10",children:i(c)}),Object(d.jsxs)("tspan",{x:"-10",dy:"1.2em",fontWeight:"bold",fill:t.range()[0],children:["+",n.find((function(e){return e.date.valueOf()===c.valueOf()})).newCases.toLocaleString()]}),Object(d.jsxs)("tspan",{x:"-10",dy:"1.2em",fontWeight:"bold",fill:t.range()[1],children:["+",a.find((function(e){return e.date.valueOf()===c.valueOf()})).newCases.toLocaleString()]})]})},Ne=function(e){var t=e.data,n=e.areaGenerator,c=e.onHover,r=e.innerWidth,i=e.innerHeight;return Object(a.useMemo)((function(){var e=t.map((function(e){return n.x()(e)}));return Object(d.jsx)("g",{className:pe.a.captureArea,children:Object(d.jsx)("rect",{width:r,height:i,onTouchStart:function(n){n.preventDefault();var a=Object(p.f)(e,Object(p.t)(n)[0]);c(t[a].date)},onPointerMove:function(n){var a=Object(p.f)(e,Object(p.t)(n)[0]);c(t[a].date)},onMouseMove:function(n){var a=Object(p.f)(e,Object(p.t)(n)[0]);c(t[a].date)}})})}),[t,n,i,r,c])},Ce=window.innerWidth<1e3?window.innerWidth:1e3,Le=Ce>480?.6*Ce:1*Ce,Ae=30,Me=10,De=70,Fe=40,Te=function(e){return e.date},Ve=Object(p.G)("%-m/%-d, %Y"),We=Object(p.G)("%-m/%-d"),Be=function(e){return e.newCases},Pe=Object(p.j)("d"),He=function(e){return Pe(e<0?-e:e)},Ee=function(e){var t=e.dataTop,n=e.dataDown,c=Object(a.useState)(t[t.length-1].date),r=Object(i.a)(c,2),s=r[0],o=r[1],l=Le-Ae-De,j=Ce-Fe-Me,u=Object(a.useMemo)((function(){return Object(p.y)().domain(Object(p.i)(t,Te)).range([0,j]).nice()}),[t,j]),b=Object(a.useMemo)((function(){return Object(p.v)().domain([-Object(p.q)(n,Be),Object(p.q)(t,Be)]).range([l,0]).nice()}),[t,n,l]),h=Object(a.useCallback)(o,[o]),O=Object(a.useMemo)((function(){return Object(p.b)().x((function(e){return u(Te(e))})).y1((function(e){return b(Be(e))})).y0(b(0))}),[u,b]),f=Object(a.useMemo)((function(){return Object(p.b)().x((function(e){return u(Te(e))})).y1((function(e){return b(-Be(e))})).y0(b(0))}),[u,b]),x=Object(a.useMemo)((function(){return Object(p.w)().domain(["\u65b0\u589e\u78ba\u8a3a","\u65b0\u589e\u6b7b\u4ea1"]).range(["black","#BD2D28"])}),[]);return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("svg",{viewBox:"0 0 ".concat(Ce," ").concat(Le),preserveAspectRatio:"xMinYMid",children:Object(d.jsxs)("g",{transform:"translate(".concat(Fe,", ").concat(Ae,")"),children:[Object(d.jsx)(ge,{innerHeight:l,xScale:u,tickFormat:Ve,tickOffset:7,tickCount:Ce>480?6:2}),Object(d.jsx)(ke,{innerWidth:j,yScale:b,tickOffset:7,tickFormat:He}),Object(d.jsx)("g",{className:pe.a.marks,children:Object(d.jsx)("path",{d:O(t)})}),Object(d.jsx)("g",{className:pe.a.marksDown,children:Object(d.jsx)("path",{d:f(n)})}),Object(d.jsx)(we,{value:new Date("2021-05-15T00:00"),xScale:u,height:l,label:"\u96d9\u5317\u5be6\u65bd\u4e09\u7d1a\u8b66\u6212"}),Object(d.jsx)(we,{value:new Date("2021-06-15T00:00"),xScale:u,height:l,label:"\u4e03\u4e94\u6b72\u4ee5\u4e0a\u75ab\u82d7\u958b\u6253"}),Object(d.jsx)(we,{value:new Date("2021-07-27T00:00"),xScale:u,height:l,label:"\u5168\u570b\u4e09\u7d1a\u8b66\u6212\u89e3\u9664"}),s?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(_e,{value:s,xScale:u,height:l}),Object(d.jsxs)("g",{transform:"translate(".concat(O.x()(t.find((function(e){return e.date.valueOf()===s.valueOf()}))),", ").concat(O.y1()(t.find((function(e){return e.date.valueOf()===s.valueOf()}))),")"),children:[Object(d.jsx)("circle",{className:pe.a.dataPoint,r:5}),Object(d.jsx)(Se,{colorScale:x,dataTop:t,dataDown:n,activeDate:s,className:pe.a.tooltipStroke,xTooltipFormat:We}),Object(d.jsx)(Se,{colorScale:x,dataTop:t,dataDown:n,activeDate:s,className:pe.a.tooltip,xTooltipFormat:We})]}),Object(d.jsx)("g",{transform:"translate(".concat(f.x()(n.find((function(e){return e.date.valueOf()===s.valueOf()}))),", ").concat(f.y1()(n.find((function(e){return e.date.valueOf()===s.valueOf()}))),")"),children:Object(d.jsx)("circle",{className:pe.a.dataPoint,r:5})})]}):null,Object(d.jsx)("g",{transform:"translate(".concat(8,", ").concat(-16,")"),children:Object(d.jsx)(ye,{colorScale:x,tickSpacing:100,tickSize:8,tickTextOffset:16})}),Object(d.jsx)(Ne,{onHover:h,data:t,areaGenerator:O,innerWidth:j,innerHeight:l})]})})})},Re=function(){return Object(d.jsxs)("p",{className:"footnote",children:["\u8cc7\u6599\u4f86\u6e90\uff1aCenter for Systems Science and Engineering (CSSE) at Johns Hopkins University (",Object(d.jsx)("a",{href:"https://github.com/owid/covid-19-data/tree/master/public/data/jhu",children:"Our Wolrd in Data"}),")"]})},Ge=function(e){var t=e.id;return Object(d.jsxs)("div",{className:"wrap-collapsible",children:[Object(d.jsx)("input",{id:t,className:"toggle",type:"checkbox"}),Object(d.jsx)("label",{htmlFor:t,className:"lbl-toggle",children:"\u9019\u5f35\u5716\u8868\u53ef\u4ee5\u600e\u9ebc\u770b\uff1f"}),Object(d.jsx)("div",{className:"collapsible-content",children:Object(d.jsxs)("div",{className:"content-inner",children:[Object(d.jsx)("p",{children:"\u9019\u5f35\u5716\u8868\u7528\u4f86\u986f\u793a\u75c5\u6bd2\u6bcf\u5929\u50b3\u64ad\u7684\u901f\u5ea6\u3002\u6bcf\u4e00\u500b\u8cc7\u6599\u9ede\u4ee3\u8868\u4e00\u5929\u5167\u65b0\u589e\u7684\u78ba\u8a3a\u6848\u4f8b\u6578\u3002"}),Object(d.jsx)("p",{children:"\u5728\u50b3\u67d3\u75c5\u589e\u6eab\u671f\u9593\uff0c\u4e00\u540d\u67d3\u75ab\u8005\u53ef\u80fd\u6703\u5c07\u75c5\u6bd2\u50b3\u67d3\u7d66\u4e00\u540d\u4ee5\u4e0a\u539f\u672c\u5065\u5eb7\u7684\u4eba\uff0c\u5982\u6b64\u4e00\u4f86\uff0c\u5f8c\u4e9b\u65e5\u5b50\u7684\u65b0\u589e\u6848\u4f8b\u5c31\u6703\u6bd4\u524d\u4e9b\u65e5\u5b50\u8981\u591a\u3002\u8209\u4f8b\u4f86\u8aaa\uff0c\u5047\u8a2d\u4eca\u5929\u9a57\u51fa\u4e86\u5341\u540d\u65b0\u7684\u78ba\u8a3a\u8005\uff0c\u800c\u6628\u5929\u53ea\u6709\u4e94\u540d\uff0c\u90a3\u6211\u5011\u53ef\u4ee5\u7c97\u7565\u5730\u770b\u4f5c\u662f\u6628\u5929\u7684\u4e94\u540d\u75c5\u60a3\u5404\u5225\u5c07\u75c5\u6bd2\u50b3\u67d3\u4e86\u4e8c\u500b\u4eba\u3002\u65bc\u662f\u300c\u4e8c\u300d\u5c31\u662f\u5716\u8868\u4e0a\u65b9\u5217\u7684\u300c\u589e\u9577\u56e0\u6578\u300d\u3002\u552f\u6709\u7576\u589e\u9577\u56e0\u6578\u7a69\u5b9a\u4f4e\u65bc\u4e00\uff0c\u6211\u5011\u624d\u6709\u6a5f\u6703\u770b\u5230\u75ab\u60c5\u7684\u7d42\u9ede\uff0c\u5426\u5247\u4fbf\u4ee3\u8868\u75ab\u60c5\u9084\u5728\u589e\u6eab\u968e\u6bb5\u3002"}),Object(d.jsx)("p",{children:"\u5c31\u5404\u570b\u7684\u7d93\u9a57\u770b\u4f86\uff0c\u7531\u65bc\u5927\u591a\u6578\u793e\u6703\u90fd\u662f\u4ee5\u9031\u70ba\u55ae\u4f4d\u5728\u904b\u4f5c\uff0c\u6240\u4ee5\u5149\u770b\u6bcf\u65e5\u7684\u65b0\u589e\u75c5\u4f8b\u6578\u4e0d\u4e00\u5b9a\u6e96\u3002\u70ba\u4e86\u907f\u514d\u904e\u5ea6\u89e3\u8b80\uff0c\u9019\u5f35\u5716\u8868\u5217\u51fa\u7684\u589e\u9577\u56e0\u6578\u4ee5\u9031\u5e73\u5747\u6578\u4f86\u8a08\u7b97\u3002"}),Object(d.jsx)("p",{children:Object(d.jsx)("s",{children:"2021\u5e746\u670820\u65e5\u65b0\u589e\u300c\u6b7b\u4ea1\u4eba\u6578\u300d\u6309\u9215\uff0c\u6b7b\u4ea1\u4e0d\u6703\u50b3\u67d3\uff0c\u4f46\u53ef\u4ee5\u89c0\u5bdf\u78ba\u8a3a\u4eba\u6578\u8207\u6b7b\u4ea1\u4eba\u6578\u7684\u76f8\u5c0d\u95dc\u4fc2\u3002"})}),Object(d.jsx)("p",{children:"2021\u5e748\u67085\u65e5\uff0c\u5c07\u78ba\u8a3a\u4eba\u6578\u8207\u6b7b\u4ea1\u4eba\u6578\u5408\u4f75\u70ba\u4e00\u5f35\u5716\u8868\uff0c\u65b9\u4fbf\u89c0\u5bdf\u78ba\u8a3a\u8207\u6b7b\u4ea1\u4e4b\u9593\u7684\u95dc\u4fc2\uff1b\u5c0d\u7167\u75ab\u82d7\u63a5\u7a2e\u7684\u60c5\u5f62\uff0c\u6216\u8a31\u4e5f\u80fd\u986f\u793a\u51fa\u75ab\u82d7\u63a5\u7a2e\u8207\u67d3\u75c5\u6b7b\u4ea1\u7387\u4e4b\u9593\u7684\u95dc\u4fc2\u3002"}),Object(d.jsx)(Re,{})]})})]})},Ie=function(e,t){return e.reduce((function(e,n){return e+n[t]}),0)},ze="COVID-19 \u53f0\u7063\u6bcf\u65e5\u65b0\u589e\u6848\u4f8b\u6578",Ye=function(){var e=fe("https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/jhu/new_cases.csv"),t=fe("https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/jhu/new_deaths.csv");if(!e||!e.length||!t||!t.length)return Object(d.jsx)(x,{});var n=e.filter((function(e){return e.date.valueOf()>=new Date("2021-04-30").valueOf()})),a=t.filter((function(e){return e.date.valueOf()>=new Date("2021-04-30").valueOf()})),c=Ie(e.slice(-7),"newCases")/7,r=Ie(e.slice(-14,-7),"newCases")/7,i=[{heading:"\u4e0a\u9031\u5e73\u5747\u78ba\u8a3a",value:Math.round(r).toLocaleString()},{heading:"\u672c\u9031\u5e73\u5747\u78ba\u8a3a",value:Math.round(c).toLocaleString()},{heading:"\u589e\u9577\u56e0\u6578",value:(c/r).toFixed(2)}];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(xe,{title:ze}),Object(d.jsx)(me,{items:i}),Object(d.jsx)(Ee,{dataTop:n,dataDown:a}),Object(d.jsx)(Ge,{id:ze})]})},qe=function(e){var t=e.title;return Object(d.jsx)("div",{className:"chart-title",children:t})},Ke=function(e){var t=e.items;return Object(d.jsx)("div",{className:"small-table",children:Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:t.map((function(e,t){return Object(d.jsx)("th",{children:e.heading},t)}))})}),Object(d.jsx)("tbody",{children:Object(d.jsx)("tr",{children:t.map((function(e,t){return Object(d.jsx)("td",{className:"numerical-data",children:e.value},t)}))})})]})})},Ze=n(16),Je=n.n(Ze),Qe=function(e){var t=e.xScale,n=e.innerHeight,c=e.tickFormat,r=e.tickCount,i=void 0===r?6:r,s=e.tickOffset,o=void 0===s?3:s,l=Object(a.useRef)();return Object(a.useEffect)((function(){var e=Object(p.B)(l.current),a=Object(p.d)(t).ticks(i,c).tickSize(-n).tickPadding(o);e.call(a).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-55)")}),[t,n,c,o,i]),Object(d.jsx)("g",{ref:l,className:Je.a.tick,transform:"translate(0, ".concat(n,")")})},Ue=function(e){var t=e.yScale,n=e.innerWidth,c=e.tickFormat,r=e.tickCount,i=void 0===r?6:r,s=e.tickOffset,o=void 0===s?3:s,l=Object(a.useRef)();return Object(a.useEffect)((function(){var e=Object(p.B)(l.current),a=Object(p.e)(t).ticks(i).tickSize(n).tickPadding(o).tickFormat(c);e.call(a)}),[t,n,c,o,i]),Object(d.jsx)("g",{ref:l,className:Je.a.tick,transform:"translate(".concat(n,", 0)")})},Xe=function(e){var t=e.value,n=e.xScale,a=e.innerHeight,c=n(t),r=a;return Object(d.jsx)("line",{className:Je.a.cursorLine,x1:c,y1:0,x2:c,y2:r})},$e=function(e){var t=e.value,n=e.yScale,a=e.innerWidth,c=e.labelOffset,r=void 0===c?8:c,i=n(t),s=a;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("line",{className:Je.a.markerLine,strokeDasharray:"10,10",x1:0,y1:i,x2:s,y2:i}),Object(d.jsx)("text",{className:Je.a.markerLineLabelStroke,textAnchor:"start",dominantBaseline:"hanging",x:r,y:n(t)+r,fontWeight:"bold",children:"\u5168\u4eba\u53e3\u768475%"}),Object(d.jsx)("text",{className:Je.a.markerLineLabel,textAnchor:"start",dominantBaseline:"hanging",x:r,y:n(t)+r,fontWeight:"bold",children:"\u5168\u4eba\u53e3\u768475%"})]})},et=function(e){var t=e.value,n=e.xScale,a=e.height,c=e.label,r=n(t),i=a;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("line",{className:Je.a.markerLine,strokeDasharray:"10,10",x1:r,y1:0,x2:r,y2:i}),Object(d.jsx)("text",{className:Je.a.markerLineLabelStroke,textAnchor:"end",x:r-15,y:a-15,writingMode:"vertical-rl",children:c}),Object(d.jsx)("text",{className:Je.a.markerLineLabel,textAnchor:"end",x:r-15,y:a-15,writingMode:"vertical-rl",children:c})]})},tt=function(e){var t=e.data,n=e.areaGenerator,c=e.onHover,r=e.innerWidth,i=e.innerHeight;return Object(a.useMemo)((function(){var e=t.map((function(e){return n.x()(e)}));return Object(d.jsx)("g",{className:Je.a.captureArea,children:Object(d.jsx)("rect",{width:r,height:i,onTouchStart:function(n){n.preventDefault();var a=Object(p.f)(e,Object(p.t)(n)[0]);c(t[a])},onPointerMove:function(n){var a=Object(p.f)(e,Object(p.t)(n)[0]);c(t[a])},onMouseMove:function(n){var a=Object(p.f)(e,Object(p.t)(n)[0]);c(t[a])}})})}),[t,n,i,r,c])},nt=function(e){var t=e.colorScale,n=e.tickSpacing,a=void 0===n?20:n,c=e.tickSize,r=void 0===c?10:c,i=e.tickTextOffset,s=void 0===i?20:i;return t.domain().map((function(e,n){return Object(d.jsxs)("g",{className:Je.a.legend,transform:"translate(0, ".concat(n*a,")"),children:[Object(d.jsx)("circle",{fill:t(e),r:r}),Object(d.jsx)("text",{dy:".32em",x:s,className:Je.a.legendStroke,children:e}),Object(d.jsx)("text",{dy:".32em",x:s,className:Je.a.legend,children:e})]},t(e))}))},at=window.innerWidth<1e3?window.innerWidth:1e3,ct=at>480?.6*at:1*at,rt=20,it=50,st=80,ot=50,lt=function(e){return e.date},dt=Object(p.G)("%-m/%-d, %Y"),jt=Object(p.G)("%-m/%-d, %Y"),ut=function(e){return e.people_vaccinated},bt=function(e){return e.people_fully_vaccinated},ht=Object(p.j)("~s"),Ot=function(e){return ht(e).replace("M","\u767e\u842c")},ft=function(e){var t=e.data,n=Object(a.useState)(t[t.length-1]),c=Object(i.a)(n,2),r=c[0],s=c[1],o=23514196,l=ct-rt-st,j=at-ot-it,u=ot+16,b=rt+13,h=Object(a.useMemo)((function(){return Object(p.y)().domain(Object(p.i)(t,lt)).range([0,j]).nice()}),[t,j]),O=Object(a.useMemo)((function(){return Object(p.v)().domain([0,o]).range([l,0]).nice()}),[l]),f=Object(a.useMemo)((function(){return Object(p.w)().domain(["\u5df2\u63a5\u7a2e\u4e00\u6b21","\u5df2\u5145\u5206\u63a5\u7a2e"]).range(["#7098a5","#b1c1be"])}),[]),x=Object(a.useCallback)(s,[s]),m=Object(a.useMemo)((function(){return Object(p.b)().x((function(e){return h(lt(e))})).y1((function(e){return O(ut(e))})).y0(O(0))}),[h,O]),v=Object(a.useMemo)((function(){return Object(p.b)().x((function(e){return h(lt(e))})).y1((function(e){return O(bt(e))})).y0(O(0))}),[h,O]),g=function(e){var t=e.activeData,n=e.scaleValue,a=e.className,c=e.position;return Object(d.jsxs)("text",{className:a,textAnchor:"middle",dominantBaseline:"middle",x:0,y:"down"===c?40:-15,children:[Object(d.jsxs)("tspan",{x:"0",dy:"0",fontWeight:"bold",children:["(",n(t)&&Object(p.j)(".1%")(n(t)/o),")"]}),Object(d.jsx)("tspan",{x:"0",dy:"-1.3em",fontWeight:"bold",children:n(t)&&"".concat(n(t).toLocaleString(),"\u4eba")}),"up"===c?Object(d.jsx)("tspan",{x:"0",dy:"-1.3em",children:jt(t.date)}):null]})};return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("svg",{viewBox:"0 0 ".concat(at," ").concat(ct),preserveAspectRatio:"xMinYMid",children:[Object(d.jsxs)("g",{transform:"translate(".concat(ot,", ").concat(rt,")"),children:[Object(d.jsx)(Qe,{innerHeight:l,xScale:h,tickFormat:dt,tickOffset:7,tickCount:at>480?6:2}),Object(d.jsx)(Ue,{innerWidth:j,yScale:O,tickOffset:7,tickFormat:Ot}),Object(d.jsx)("g",{className:Je.a.primary,children:Object(d.jsx)("path",{d:m(t)})}),Object(d.jsx)("g",{className:Je.a.secondary,children:Object(d.jsx)("path",{d:v(t)})}),Object(d.jsx)($e,{value:17635647,yScale:O,innerWidth:j}),Object(d.jsx)(et,{value:new Date("2021-06-15T00:00"),xScale:h,height:l,label:"\u516c\u8cbb\u75ab\u82d7\u958b\u6253"}),r?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Xe,{value:r.date,xScale:h,innerHeight:l}),Object(d.jsxs)("g",{transform:"translate(".concat(m.x()(r),", ").concat(m.y1()(r),")"),children:[Object(d.jsx)("circle",{className:Je.a.dataPoint,r:5}),Object(d.jsx)(g,{activeData:r,scaleValue:ut,className:Je.a.tooltipStroke,position:"up"}),Object(d.jsx)(g,{activeData:r,scaleValue:ut,className:Je.a.tooltip,position:"up"})]}),Object(d.jsxs)("g",{transform:"translate(".concat(m.x()(r),", ").concat(v.y1()(r),")"),children:[Object(d.jsx)("circle",{className:Je.a.dataPoint,r:5}),Object(d.jsx)(g,{activeData:r,scaleValue:bt,className:Je.a.tooltipStroke,position:"down"}),Object(d.jsx)(g,{activeData:r,scaleValue:bt,className:Je.a.tooltip,position:"down"})]})]}):null,Object(d.jsx)(tt,{onHover:x,data:t,areaGenerator:m,innerWidth:j,innerHeight:l})]}),Object(d.jsx)("g",{transform:"translate(".concat(u,", ").concat(b,")"),children:Object(d.jsx)(nt,{colorScale:f,tickSpacing:26,tickSize:8,tickTextOffset:16})})]})})},xt=function(){return Object(d.jsxs)("p",{className:"footnote",children:["\u8cc7\u6599\u4f86\u6e90\uff1a\u885b\u751f\u798f\u5229\u90e8\u75be\u75c5\u7ba1\u5236\u7f72\uff08",Object(d.jsx)("a",{href:"https://github.com/owid/covid-19-data/blob/master/public/data/vaccinations/country_data/Taiwan.csv",children:"Our Wolrd in Data"}),"\uff09"]})},mt=function(e){var t=e.id;return Object(d.jsxs)("div",{className:"wrap-collapsible",children:[Object(d.jsx)("input",{id:t,className:"toggle",type:"checkbox"}),Object(d.jsx)("label",{htmlFor:t,className:"lbl-toggle",children:"\u9019\u5f35\u5716\u8868\u53ef\u4ee5\u600e\u9ebc\u770b\uff1f"}),Object(d.jsx)("div",{className:"collapsible-content",children:Object(d.jsxs)("div",{className:"content-inner",children:[Object(d.jsx)("p",{children:"\u9019\u5f35\u5716\u8868\u7684\u7528\u610f\u5728\u65bc\u5224\u65b7\uff1a\u4ee5\u65bd\u6253\u75ab\u82d7\u70ba\u9632\u75ab\u624b\u6bb5\u800c\u8a00\uff0c\u53f0\u7063\u8ddd\u96e2\u5e73\u606fCOVID-19\u75ab\u60c5\u9084\u6709\u591a\u9060\u3002\u7531\u65bc\u76ee\u524d\u5e02\u9762\u4e0a\u7684\u75ab\u82d7\u5927\u591a\u9700\u8981\u6253\u5169\u5291\u624d\u7b97\u5b8c\u6210\u63a5\u7a2e\uff0c\u56e0\u6b64\u9019\u88e1\u4e5f\u5c07\u63a5\u7a2e\u4eba\u6b21\u5206\u70ba\u300c\u5df2\u63a5\u7a2e\u300d\u8207\u300c\u5145\u5206\u63a5\u7a2e\u300d\u5169\u7a2e\u3002"}),Object(d.jsx)("p",{children:Object(d.jsx)("s",{children:"\uff082021\u5e746\u670818\u65e5\u66f4\u65b0\uff1a\u53f0\u7063\u75be\u7ba1\u7f72\u516c\u4f48\u63a5\u7a2e\u6578\u64da\u6642\u4e26\u4e0d\u5340\u5206\u5291\u6578\u5dee\u7570\uff0c\u9019\u5f35\u5716\u4e5f\u53ea\u597d\u6539\u70ba\u55ae\u7d14\u7684\u63a5\u7a2e\u4eba\u6b21\u7d71\u8a08\u3002\uff09"})}),Object(d.jsx)("p",{children:"\uff082021\u5e747\u67085\u65e5\u66f4\u65b0\uff1a\u53f0\u7063\u75be\u7ba1\u7f72\u516c\u4f48\u7684\u6578\u64da\u518d\u5ea6\u5340\u5206\u5291\u6578\u5dee\u7570\uff0c\u9019\u5f35\u5716\u6539\u56de\u539f\u6a23\u3002\uff09"}),Object(d.jsxs)("p",{children:["\u6839\u64da",Object(d.jsx)("a",{href:"https://www.who.int/zh/news-room/q-a-detail/herd-immunity-lockdowns-and-covid-19?gclid=Cj0KCQjw16KFBhCgARIsALB0g8K0rV9obZlpcbd2lFom_qKgbCe72ZnV_mqn8Z2AiNt5W3QRZFbMGCoaAshfEALw_wcB",children:"\u4e16\u754c\u885b\u751f\u7d44\u7e54\u7684\u5efa\u8b70"}),"\uff0c\u5c0d\u6297\u5927\u898f\u6a21\u50b3\u67d3\u7684\u6d41\u884c\u75c5\uff0c\u5c45\u5bb6\u9694\u96e2\u3001\u5c01\u9396\u7b49\u63aa\u65bd\u672c\u8eab\u4fbf\u6703\u5c0d\u500b\u4eba\u8207\u793e\u6703\u9020\u6210\u8ca0\u9762\u5f71\u97ff\uff0c\u662f\u70ba\u722d\u53d6\u6642\u9593\u4e0d\u5f97\u5df2\u800c\u70ba\u4e4b\u3002\u8981\u771f\u6b63\u5c0d\u6297COVID-19\uff0c\u4e16\u885b\u652f\u6301\u900f\u904e\u75ab\u82d7\u4f86\u9054\u5230\u300c\u7fa4\u9ad4\u514d\u75ab\u300d\u7684\u6548\u679c\u3002"]}),Object(d.jsx)("p",{children:"\u8981\u5be6\u73fe\u300c\u7fa4\u9ad4\u514d\u75ab\u300d\uff0c\u5c31\u5f97\u8b93\u793e\u7fa4\u4e2d\u5927\u591a\u6578\u4eba\u90fd\u64c1\u6709\u6297\u9ad4\uff0c\u4eba\u6578\u4e00\u591a\uff0c\u75c5\u6bd2\u81ea\u7136\u5c31\u5c11\u4e86\u50b3\u64ad\u5a92\u4ecb\uff0c\u5f9e\u800c\u4e2d\u65b7\u50b3\u64ad\u93c8\u3002\u4eba\u8981\u53d6\u5f97\u6297\u9ad4\u6709\u5169\u7a2e\u624b\u6bb5\uff1a\u4e00\u662f\u8b93\u5927\u591a\u6578\u7684\u4eba\u90fd\u611f\u67d3\uff0c\u611f\u67d3\u904e\u5f8c\u81ea\u7136\u6703\u7522\u751f\u6297\u9ad4\uff0c\u4f46\u9019\u7a2e\u65b9\u6cd5\u5fc5\u7136\u6703\u5c0e\u81f4\u66f4\u591a\u75c5\u4f8b\u8207\u6b7b\u4ea1\u3002\u53e6\u4e00\u7a2e\u65b9\u6cd5\uff0c\u5c31\u662f\u65bd\u6253\u75ab\u82d7\u3002\u75ab\u82d7\u53ef\u4ee5\u5728\u4e0d\u8b93\u4eba\u751f\u75c5\u7684\u60c5\u6cc1\u4e0b\uff0c\u8a13\u7df4\u514d\u75ab\u7cfb\u7d71\u7522\u751f\u6297\u9ad4\uff0c\u6bd4\u8d77\u771f\u7684\u751f\u75c5\u662f\u5b89\u5168\u5f97\u591a\u7684\u505a\u6cd5\u3002"}),Object(d.jsxs)("p",{children:["\u90a3\u9ebc\uff0c\u8981\u591a\u5c11\u4eba\u6253\u904e\u75ab\u82d7\u624d\u80fd\u9054\u5230\u7fa4\u9ad4\u514d\u75ab\u5462\uff1f\u8981\u8003\u616e\u7684\u689d\u4ef6\u4e3b\u8981\u6709\u4e8c\u3002\u9996\u5148\u662f\u6bcf\u7a2e\u75be\u75c5\u7684\u72c0\u6cc1\u4e0d\u540c\uff0c\u4f8b\u5982\u9ebb\u75b9\u9700\u898195%\u7684\u4eba\u53e3\u63a5\u7a2e\uff0c\u624d\u80fd\u4fdd\u8b77\u5269\u4e0b\u76845%\u3002\u5c31COVID-19\u4f86\u8aaa\uff0c\u5be6\u969b\u9700\u8981\u591a\u9ad8\u7684\u63a5\u7a2e\u7387\u76ee\u524d\u6c92\u6709\u4eba\u80fd\u5920\u80af\u5b9a\u3002\u4e0d\u904e\uff0c\u6839\u64da",Object(d.jsx)("a",{href:"https://wwwnc.cdc.gov/eid/article/27/5/20-4365_article",children:"\u7f8e\u570b\u75be\u7ba1\u4e2d\u5fc3\u5728\u5361\u9054\u505a\u7684\u7814\u7a76"}),"\uff0c\u793e\u7fa4\u4e2d\u82e5\u670965%\u81f370%\u7684\u4eba\u611f\u67d3\uff0c\u8a72\u793e\u7fa4\u5c31\u5f88\u63a5\u8fd1\u7fa4\u9ad4\u514d\u75ab\u3002"]}),Object(d.jsxs)("p",{children:["\u77e5\u9053\u4e86\u9019\u9ede\u4e4b\u5f8c\uff0c\u7b2c\u4e8c\u500b\u8981\u8003\u616e\u7684\u662f",Object(d.jsx)("a",{href:"https://www.thelancet.com/journals/lanmic/article/PIIS2666-5247(21)00069-0/fulltext",children:"\u75ab\u82d7\u7684\u6548\u80fd"}),"\u3002\u6bcf\u4e00\u6b3e\u75ab\u82d7\u7684\u6548\u80fd\u4e0d\u76e1\u76f8\u540c\uff0c\u82e5\u662f\u4f7f\u7528\u6548\u80fd\u7d0465%\u81f370%\u5de6\u53f3\u7684AstraZeneca-Oxford\u6216\u5b0c\u751f\u75ab\u82d7\uff0c\u5c31\u9700\u8981\u5168\u6c11\u65bd\u6253\u4f86\u9054\u5230\u7fa4\u9ad4\u514d\u75ab\uff1b\u82e5\u4f7f\u7528\u6548\u80fd\u905495%\u5de6\u53f3\u7684Pfizer-BioNTech\u6216Moderna-NIH\u75ab\u82d7\uff0c\u5247\u53ea\u970075%\u7684\u4eba\u53e3\u65bd\u6253\u5373\u53ef\u3002"]}),Object(d.jsx)(xt,{})]})})]})},vt="\u53f0\u7063 COVID-19 \u75ab\u82d7\u63a5\u7a2e\u4eba\u6b21",pt=function(){var e=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=!0;return Object(p.g)("https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/vaccinations/country_data/Taiwan.csv",p.c).then((function(t){var n,a,r,i=t.map((function(e){return null!==e.people_vaccinated?n=e.people_vaccinated:e.people_vaccinated=n,null!==e.people_fully_vaccinated?a=e.people_fully_vaccinated:e.people_fully_vaccinated=a,null!==e.total_vaccinations?r=e.total_vaccinations:e.total_vaccinations=r,e}));e&&c(i)})),function(){e=!1}}),[]),n}();if(!e||!e.length)return Object(d.jsx)(x,{});var t=[{heading:"\u63a5\u7a2e\u4eba\u6b21\u7e3d\u8a08",value:e[e.length-1].total_vaccinations.toLocaleString()},{heading:"\u5df2\u63a5\u7a2e\u4e00\u6b21",value:e[e.length-1].people_vaccinated.toLocaleString()},{heading:"\u5145\u5206\u63a5\u7a2e\u4eba\u6578",value:e[e.length-1].people_fully_vaccinated.toLocaleString()}];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(qe,{title:vt}),Object(d.jsx)(Ke,{items:t}),Object(d.jsx)(ft,{data:e}),Object(d.jsx)(mt,{id:vt})]})},gt=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=!0;return Object(p.o)("https://morning-wave-49482.herokuapp.com/https://covid-19.nchc.org.tw/api/covid19?CK=covid-19@nchc.org.tw&querydata=5003&limited=\u5168\u90e8\u7e23\u5e02").then((function(t){e&&c(function(e){return e.map((function(e){return e["\u65e5\u671f"]=new Date(e.a02),e["\u7e23\u5e02\u5225"]=e.a03,e["\u5340\u57df"]=e.a04,e["\u65b0\u589e\u78ba\u8a3a\u4eba\u6578"]=+e.a05,e["\u7d2f\u8a08\u78ba\u8a3a\u4eba\u6578"]=+e.a06,e["\u4e03\u5929\u79fb\u52d5\u5e73\u5747\u65b0\u589e\u78ba\u8a3a"]=+e.a07,e}))}(t))})),function(){e=!1}}),[]),n},kt=n(77),wt=n(48),_t=n.n(wt),yt=function(e){var t=e.xScale,n=e.innerHeight,c=e.width,r=e.colorScale,i=e.tickFormat,s=e.tickCount,o=void 0===s?6:s,l=e.tickOffset,j=void 0===l?3:l,u=Object(a.useRef)();return Object(a.useEffect)((function(){var e=Object(p.B)(u.current),n=Object(p.d)(t).ticks(o,i).tickSize(-18).tickPadding(j);e.call(n).selectAll("text").style("text-anchor","middle").attr("dy","-2.2em")}),[t,n,j,o,i]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("g",{transform:"translate(".concat(j,", 0)"),children:[Object(d.jsx)("defs",{children:Object(d.jsxs)("linearGradient",{id:"legendGradient",children:[Object(d.jsx)("stop",{offset:"0%",stopColor:r.range()[0]}),Object(d.jsx)("stop",{offset:"100%",stopColor:r.range()[1]})]})}),Object(d.jsx)("rect",{x:0,y:n-15,width:c,height:15,fill:"url('#legendGradient')"}),Object(d.jsx)("g",{ref:u,className:_t.a.tick,transform:"translate(0, ".concat(n,")")})]})})},St=function(e){var t=e.atlas,n=t.counties,a=(t.interiors,t.compBorders),c=e.data,r=e.colorScale,i=e.handleHover,s=e.handlePointerMove,o=Object(p.k)();return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("g",{className:_t.a.marks,children:[n.features.map((function(e,t){var n=e.properties.COUNTYNAME;return Object(d.jsx)("path",{fill:n?r(c[n]):"white",d:o(e),onTouchStart:function(e){e.preventDefault(),i(n),s(Object(p.t)(e))},onMouseMove:function(e){i(n),s(Object(p.t)(e))},onPointerMove:function(e){i(n),s(Object(p.t)(e))}},t)})),Object(d.jsx)("path",{className:_t.a.marks,d:o(a)})]})})},Nt=window.innerWidth<800?window.innerWidth:800,Ct=Nt>480?.9*Nt:1.6*Nt,Lt=Nt+50,At=Object(p.j)(",d"),Mt=Lt-10,Dt=function(e){return e["\u7d2f\u8a08\u78ba\u8a3a\u4eba\u6578"]},Ft=function(e){var t=e.range,n=e.selected,a=e.handleChange;return Object(d.jsxs)("div",{className:_t.a.sliderContainer,children:[Object(d.jsx)("pre",{children:n}),Object(d.jsx)("input",{className:_t.a.slider,type:"range",min:"0",max:t.length-1,value:t.indexOf(n),onChange:function(e){return a(t[e.target.value])}})]})},Tt=function(e){var t=e.data,n=e.atlas,c=e.view,r=Object(a.useState)(t[0].a02),s=Object(i.a)(r,2),o=s[0],l=s[1],j=Object(a.useState)(null),u=Object(i.a)(j,2),b=u[0],h=u[1],O=Object(a.useState)(null),f=Object(i.a)(O,2),x=f[0],m=f[1],v="\u5168\u53f0\u7063"===c?t.filter((function(e){return"\u5168\u5340"===e["\u5340\u57df"]})):t.filter((function(e){return e["\u7e23\u5e02\u5225"]===c})),g=Array.from(new Set(v.map((function(e){return e.a02})))).reverse(),k=v.filter((function(e){return e["\u65e5\u671f"].valueOf()===new Date(o).valueOf()})),w=Object(a.useMemo)((function(){return Object(p.x)(p.m).domain([0,Object(p.q)(v.map(Dt))])}),[v]),_=Object(a.useMemo)((function(){return Object(p.v)().range([0,Mt]).domain(w.domain())}),[w]);if(!k.length)return Object(d.jsx)("pre",{children:"loading..."});var y=function(e,t){var n={date:e[0]["\u65e5\u671f"],dateString:e[0].a02};return"\u5168\u53f0\u7063"===t?e.map((function(e){var t=e.\u7e23\u5e02\u5225,a=e.\u7d2f\u8a08\u78ba\u8a3a\u4eba\u6578;return n[t]=a})):e.map((function(e){var t=e.\u5340\u57df,a=e.\u7d2f\u8a08\u78ba\u8a3a\u4eba\u6578;return n[t]=a})),n}(k,c);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Ft,{range:g,selected:o,handleChange:l}),Object(d.jsxs)("svg",{viewBox:"0 0 ".concat(Lt," ").concat(Ct),preserveAspectRatio:"xMinYMid",children:[Object(d.jsx)(St,{atlas:n,colorScale:w,data:y,hoveredValue:b,handleHover:h,handlePointerMove:m}),b?Object(d.jsxs)("g",{children:[Object(d.jsxs)("text",{className:_t.a.tooltipStroke,x:x[0],y:x[1],textAnchor:x[0]>Nt/2?"end":"start",children:[b,"\u7d2f\u8a08\u78ba\u8a3a\uff1a",y[b]]}),Object(d.jsxs)("text",{className:_t.a.tooltip,x:x[0],y:x[1],textAnchor:x[0]>Nt/2?"end":"start",children:[b,"\u7d2f\u8a08\u78ba\u8a3a\uff1a",y[b]]})]}):null,Object(d.jsx)(yt,{innerHeight:Ct,width:Mt,xScale:_,colorScale:w,tickFormat:At,tickOffset:5,tickCount:6})]})]})},Vt=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("p",{className:"footnote",children:["\u8cc7\u6599\u4f86\u6e90\uff1a\u885b\u751f\u798f\u5229\u90e8\u75be\u75c5\u7ba1\u5236\u7f72\uff08API\uff1a"," ",Object(d.jsx)("a",{href:"https://covid-19.nchc.org.tw/dt_005-covidTable_taiwan.php",children:"\u570b\u5bb6\u9ad8\u901f\u7db2\u8def\u8207\u8a08\u7b97\u4e2d\u5fc3"}),"\u3002\uff09"]}),Object(d.jsxs)("p",{className:"footnote",children:["\u5716\u8cc7\uff1a\u5167\u653f\u90e8\u570b\u571f\u6e2c\u7e6a\u4e2d\u5fc3\uff08",Object(d.jsx)("a",{href:"https://github.com/dkaoster/taiwan-atlas",children:"dkaoster / taiwan-atlas"}),"\uff0clisensed under The MIT License\u3002\uff09"]})]})},Wt=function(e){var t=e.id;return Object(d.jsxs)("div",{className:"wrap-collapsible",children:[Object(d.jsx)("input",{id:t,className:"toggle",type:"checkbox"}),Object(d.jsx)("label",{htmlFor:t,className:"lbl-toggle",children:"\u9019\u5f35\u5716\u8868\u53ef\u4ee5\u600e\u9ebc\u770b\uff1f"}),Object(d.jsx)("div",{className:"collapsible-content",children:Object(d.jsxs)("div",{className:"content-inner",children:[Object(d.jsx)("p",{children:"\u9019\u5f35\u5730\u5716\u986f\u793aCOVID-19\u7684\u78ba\u8a3a\u6848\u4f8b\u5728\u53f0\u7063\u7684\u5206\u4f48\u60c5\u5f62\uff0c\u984f\u8272\u8d8a\u6df1\u4ee3\u8868\u6848\u4f8b\u6578\u8d8a\u591a\u3002\u4e0a\u65b9\u7684\u6ed1\u687f\u7528\u4f86\u63a7\u5236\u65e5\u671f\uff0c\u80fd\u5920\u770b\u5230\u5f9e2021\u5e745\u67081\u65e5\u4ee5\u4f86\u7684\u8f49\u8b8a\u3002\u4e8b\u5be6\u4e0a\uff0c\u9019\u5f35\u5730\u5716\u6240\u5448\u73fe\u7684\u8cc7\u8a0a\u4e26\u6c92\u6709\u6bd4\u4e0a\u9762\u4e00\u5f35\u300c\u53f0\u7063\u5404\u5730\u5340\u6bcf\u65e5\u65b0\u589e\u78ba\u8a3a\u6848\u4f8b\u6578\u6bd4\u8f03\u300d\u4f86\u5f97\u591a\uff0c\u80fd\u5920\u85c9\u7531\u63a7\u5236\u6ed1\u687f\u53d6\u5f97\u7684\u8cc7\u8a0a\uff0c\u5728\u4e0a\u5716\u4e00\u76ee\u4e86\u7136\u3002\u4e0d\u904e\u6211\u60f3\u756b\u756b\u770b\u5730\u5716\uff0c\u6240\u4ee5\u505a\u4e86\u9019\u4e00\u5f35\u5716\u3002"}),Object(d.jsx)(Vt,{})]})})]})},Bt=function(e){var t=e.title;return Object(d.jsx)("div",{className:"chart-title",children:t})},Pt=function(){var e=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){Object(p.o)("https://cdn.jsdelivr.net/npm/taiwan-atlas/towns-mercator-10t.json").then((function(e){var t=e.objects,n=t.nation,a=t.counties,r=t.towns,i=t.compBorders;c({nation:Object(kt.a)(e,n),counties:Object(kt.a)(e,a),towns:Object(kt.a)(e,r),compBorders:Object(kt.a)(e,i),interiors:Object(kt.b)(e,r,(function(e,t){return e!==t}))})}))}),[]),n}(),t=gt();return t&&e&&t.length&&e.length?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Bt,{title:"COVID-19 \u53f0\u7063\u7d2f\u8a08\u78ba\u8a3a\u5206\u4f48\u5716"}),Object(d.jsx)(Tt,{view:"\u5168\u53f0\u7063",atlas:e,data:t}),Object(d.jsx)(Wt,{id:"ChoroplethMap"})]}):Object(d.jsx)(x,{})},Ht=function(e,t){var n=Array.from(new Set(e.map((function(e){return e[t]})))),a={};return n.forEach((function(n){a[n]=e.reduce((function(e,a){return a[t]===n?e+=1:e}),0)})),a},Et=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=!0;return Object(p.o)("https://morning-wave-49482.herokuapp.com/https://covid-19.nchc.org.tw/api/covid19?CK=covid-19@nchc.org.tw&querydata=4002").then((function(t){if(e){var n=function(e){return e.map((function(e){return e.date=new Date(e.a01),e.gender=e.a03,e.ageGroup=e.a04,e.chronic=e.a05,e}))}(t),a=Ht(n,"gender"),r=Ht(n,"ageGroup"),i={"0-9":(s=r)[0]?s[0]:0,"10-19":s[10]?s[10]:0,"20-29":s[20]?s[20]:0,"30-39":s[30],"40-49":s[40],"50-59":s[50],"60-69":s[60],"70+":s[70]+s[80]+s[90]+s[100]};c({age:i,gender:a})}var s})),function(){e=!1}}),[]),n},Rt=function(e,t){var n=Array.from(new Set(e.map((function(e){return e[t]})))),a={};return n.forEach((function(n){a[n]=e.reduce((function(e,a){return a[t]===n?e+=1:e}),0)})),a},Gt=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=!0;return Object(p.o)("https://morning-wave-49482.herokuapp.com/https://covid-19.nchc.org.tw/api/covid19?CK=covid-19@nchc.org.tw&querydata=5001&limited=\u5168\u90e8\u7e23\u5e02").then((function(t){if(e){var n=function(e){return e.map((function(e){return e.date=new Date(e.a02),e.county=e.a03,e.area=e.a04,e.gender=e.a05,e.foreign=e.a06,e.ageGroup=e.a07,e}))}(t),a=Rt(n,"gender"),r=Rt(n,"ageGroup"),i={"0-9":(s=r)[0]+s[1]+s[2]+s[3]+s[4]+s["5-9"],"10-19":s["10-14"]+s["15-19"],"20-29":s["20-24"]+s["25-29"],"30-39":s["30-34"]+s["35-39"],"40-49":s["40-44"]+s["45-49"],"50-59":s["50-54"]+s["55-59"],"60-69":s["60-64"]+s["65-69"],"70+":s["70+"]};c({age:i,gender:a})}var s})),function(){e=!1}}),[]),n},It=n(36),zt=n.n(It),Yt=function(e){var t=e.view,n=e.setView,c=[{name:"\u5e74\u9f61\u5c64",view_name:"age",className:"age"===t?"active view-button":"view-button"},{name:"\u751f\u7406\u6027\u5225",view_name:"gender",className:"gender"===t?"active view-button":"view-button"}];return Object(d.jsx)("div",{className:zt.a.nav,children:c.map((function(e){return Object(a.createElement)(qt,Object(h.a)(Object(h.a)({setView:n},e),{},{key:e.view_name}))}))})},qt=function(e){var t=e.name,n=e.view_name,a=e.className,c=e.setView;return Object(d.jsx)("button",{onClick:function(e){e.preventDefault(),c(n)},type:"button",className:a,children:t})},Kt=function(e){var t=e.xScale,n=e.innerHeight,a=e.tickFormat,c=e.tickOffset,r=void 0===c?3:c,i=e.tickCount,s=void 0===i?6:i;return t.ticks(s).map((function(e){return Object(d.jsxs)("g",{className:zt.a.tick,transform:"translate(".concat(t(e),", 0)"),children:[Object(d.jsx)("line",{y2:n}),Object(d.jsx)("text",{y:n+r,dy:"0.71em",style:{textAnchor:"middle"},children:a(e)})]},e)}))},Zt=function(e){var t=e.yScale,n=e.tickOffset,a=void 0===n?3:n;return t.domain().map((function(e){return Object(d.jsx)("g",{className:zt.a.tick,transform:"translate(0,".concat(t(e)+t.bandwidth()/2,")"),children:Object(d.jsx)("text",{dy:".18em",x:-a,style:{fontWeight:"bold",textAnchor:"end",dominantBaseline:"middle"},children:e})},e)}))},Jt=function(e){var t=e.data,n=e.xScale,a=e.xValue,c=e.yScale,r=e.yValue,i=e.tooltipFormat,s=e.onHover,o=e.hoveredValue,l=e.fadeOpacity,j=void 0===l?.2:l,u=e.tooltipOffset,b=void 0===u?22:u;return t.map((function(e){return Object(d.jsxs)("g",{className:zt.a.marks,onMouseEnter:function(){return s(r(e))},onMouseLeave:function(){return s(null)},opacity:o&&o!==r(e)?j:1,children:[Object(d.jsx)("rect",{x:0,y:c(r(e)),width:n(a(e)),height:c.bandwidth(),stroke:"black",strokeWidth:2,fill:"#BD2D28"}),Object(d.jsx)("text",{className:zt.a.tooltipStroke,x:n(a(e))+10,y:c(r(e))+c.bandwidth()/2,dy:".1em",dominantBaseline:"middle",children:i(a(e))}),Object(d.jsx)("text",{className:zt.a.tooltip,x:n(a(e))+10,y:c(r(e))+c.bandwidth()/2,dy:".1em",dominantBaseline:"middle",children:i(a(e))}),o&&o===r(e)?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("text",{className:zt.a.tooltipStroke,x:n(a(e))+10,y:c(r(e))+c.bandwidth()/2+b,dy:".21em",children:"\u67d3\u75ab\uff1a".concat(e.confirmed.toLocaleString(),"\u4eba")}),Object(d.jsx)("text",{className:zt.a.tooltip,x:n(a(e))+10,y:c(r(e))+c.bandwidth()/2+b,dy:".21em",children:"\u67d3\u75ab\uff1a".concat(e.confirmed.toLocaleString(),"\u4eba")}),Object(d.jsx)("text",{className:zt.a.tooltipStroke,x:n(a(e))+10,y:c(r(e))+c.bandwidth()/2+2*b,dy:".21em",children:"\u6b7b\u4ea1\uff1a".concat(e.deaths.toLocaleString(),"\u4eba")}),Object(d.jsx)("text",{className:zt.a.tooltip,x:n(a(e))+10,y:c(r(e))+c.bandwidth()/2+2*b,dy:".21em",children:"\u6b7b\u4ea1\uff1a".concat(e.deaths.toLocaleString(),"\u4eba")})]}):null]},r(e))}))},Qt=window.innerWidth<1e3?window.innerWidth:1e3,Ut=Qt>480?.6*Qt:1*Qt,Xt={top:5,right:120,bottom:45,left:60},$t=function(e){return e.age},en=function(e){return e.CFR},tn=function(e){return Object(p.j)("~%")(e)},nn=Object(p.j)(".2%"),an=Ut-Xt.top-Xt.bottom,cn=Qt-Xt.left-Xt.right,rn=function(e){var t=e.data,n=Object(a.useState)(null),c=Object(i.a)(n,2),r=c[0],s=c[1],o=Object(a.useCallback)(s,[s]),l=Object(a.useMemo)((function(){return Object(p.v)().domain([0,Object(p.q)(t,en)]).range([0,cn]).nice()}),[t]),j=Object(a.useMemo)((function(){return Object(p.u)().domain(t.map((function(e){return $t(e)}))).range([0,an]).paddingInner(.3)}),[t]);return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("svg",{viewBox:"0 0 ".concat(Qt," ").concat(Ut),preserveAspectRatio:"xMinYMid",children:Object(d.jsxs)("g",{transform:"translate(".concat(Xt.left,", ").concat(Xt.top,")"),children:[Object(d.jsx)(Kt,{innerHeight:an,xScale:l,tickFormat:tn,tickOffset:8,tickCount:Qt>480?6:2}),Object(d.jsx)(Zt,{yScale:j,tickOffset:8}),Object(d.jsx)(Jt,{data:t,margin:Xt,innerWidth:cn,xScale:l,xValue:en,yScale:j,yValue:$t,tooltipFormat:nn,onHover:o,hoveredValue:r,fadeOpacity:.3})]})})})},sn=function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("p",{className:"footnote",children:["\u8cc7\u6599\u4f86\u6e90\uff1a\u885b\u751f\u798f\u5229\u90e8\u75be\u75c5\u7ba1\u5236\u7f72\uff08API\uff1a"," ",Object(d.jsx)("a",{href:"https://covid-19.nchc.org.tw/dt_005-covidTable_taiwan.php",children:"\u570b\u5bb6\u9ad8\u901f\u7db2\u8def\u8207\u8a08\u7b97\u4e2d\u5fc3"}),"\u3002\uff09"]})})},on=function(e){var t=e.id;return Object(d.jsxs)("div",{className:"wrap-collapsible",children:[Object(d.jsx)("input",{id:t,className:"toggle",type:"checkbox"}),Object(d.jsx)("label",{htmlFor:t,className:"lbl-toggle",children:"\u9019\u5f35\u5716\u8868\u53ef\u4ee5\u600e\u9ebc\u770b\uff1f"}),Object(d.jsx)("div",{className:"collapsible-content",children:Object(d.jsxs)("div",{className:"content-inner",children:[Object(d.jsx)("p",{children:"COVID-19\u7684\u4e00\u5927\u7279\u6027\u662f\uff1a\u9ad8\u9f61\u8005\u7684\u6b7b\u4ea1\u7387\u660e\u986f\u8f03\u9ad8\u3002\u53f0\u7063\u7684\u75ab\u60c5\u6bd4\u8d77\u8a31\u591a\u570b\u5bb6\u8981\u665a\u5c55\u958b\uff0c\u56e0\u6b64\u5df2\u7d93\u6709\u4e0d\u6b62\u4e00\u500b\u7814\u7a76\u90fd\u986f\u793a\u5e74\u9f61\u8207\u67d3\u75ab\u6b7b\u4ea1\u7387\u7684\u6b63\u76f8\u95dc\u3002\u5728\u9019\u500b\u7db2\u9801\u7684\u300cGlobal\u300d\u7248\u672c\u4e2d\uff0c\u6709\u7fa9\u5927\u5229\u3001\u897f\u73ed\u7259\u3001\u4e2d\u570b\u3001\u97d3\u570b\u5206\u5225\u505a\u7684\u7814\u7a76\u7d50\u679c\u3002\u9019\u5f35\u5716\u8868\u5229\u7528\u53f0\u7063\u75be\u7ba1\u7f72\u516c\u544a\u7684\u75c5\u901d\u8005\u8cc7\u6599\uff0c\u5373\u6642\u986f\u793a\u53f0\u7063\u5404\u5e74\u9f61\u7684\u67d3\u75ab\u6b7b\u4ea1\u7387\uff0c\u4e00\u65b9\u9762\u5370\u8b49\u9ad8\u9f61\u8005\u7684\u98a8\u96aa\u78ba\u5be6\u8f03\u9ad8\uff0c\u4e00\u65b9\u9762\u4e5f\u80fd\u8207\u5176\u4ed6\u570b\u5bb6\u6bd4\u8f03\u3002"}),Object(d.jsx)("p",{children:"2021\u5e746\u670823\u65e5\u65b0\u589e\u4ee5\u6027\u5225\u5206\u985e\u7684\u5716\u8868\u3002"}),Object(d.jsx)(sn,{})]})})]})},ln=function(e){var t=e.title;return Object(d.jsx)("div",{className:"chart-title",children:t})},dn=function(){var e=Object(a.useState)("age"),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Et(),s=Gt();if(!r||!s||!r.length||!s.length)return Object(d.jsx)(x,{});var o="age"===n?s.age:s.gender,l="age"===n?r.age:r.gender,j=Object.keys(o).map((function(e){return{age:e,CFR:l[e]/o[e],confirmed:o[e],deaths:l[e]}}));return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(ln,{title:"COVID-19 \u53f0\u7063\u67d3\u75ab\u6b7b\u4ea1\u7387"}),Object(d.jsx)(Yt,{view:n,setView:c}),Object(d.jsx)(rn,{data:j}),Object(d.jsx)(on,{id:"CFRByGroupsinTaiwan"})]})},jn=n(9),un=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=!0;return Object(p.o)("https://morning-wave-49482.herokuapp.com/https://covid-19.nchc.org.tw/api/covid19?CK=covid-19@nchc.org.tw&querydata=5003&limited=\u5168\u90e8\u7e23\u5e02").then((function(t){e&&c(function(e){return e.map((function(e){return e["\u65e5\u671f"]=new Date(e.a02),e["\u7e23\u5e02\u5225"]=e.a03,e["\u5340\u57df"]=e.a04,e["\u65b0\u589e\u78ba\u8a3a\u4eba\u6578"]=+e.a05,e["\u7d2f\u8a08\u78ba\u8a3a\u4eba\u6578"]=+e.a06,e["\u4e03\u5929\u79fb\u52d5\u5e73\u5747\u65b0\u589e\u78ba\u8a3a"]=+e.a07,e}))}(t))})),function(){e=!1}}),[]),n},bn=function(e){var t=e.title;return Object(d.jsx)("div",{className:"chart-title",children:t})},hn=["\u5168\u53f0\u7063","\u5357\u6295\u7e23","\u53f0\u4e2d\u5e02","\u53f0\u5317\u5e02","\u53f0\u5357\u5e02","\u53f0\u6771\u7e23","\u5609\u7fa9\u5e02","\u5609\u7fa9\u7e23","\u57fa\u9686\u5e02","\u5883\u5916\u79fb\u5165","\u5b9c\u862d\u7e23","\u5c4f\u6771\u7e23","\u5f70\u5316\u7e23","\u65b0\u5317\u5e02","\u65b0\u7af9\u5e02","\u65b0\u7af9\u7e23","\u6843\u5712\u5e02","\u6f8e\u6e56\u7e23","\u82b1\u84ee\u7e23","\u82d7\u6817\u7e23","\u9023\u6c5f\u7e23","\u96f2\u6797\u7e23","\u9ad8\u96c4\u5e02"],On=function(e){var t=e.chosen,n=e.setChosen,c=e.handleTypeHover,r=e.handleCursorHover,s=Object(a.useState)([]),o=Object(i.a)(s,2),l=o[0],j=o[1];return Object(a.useEffect)((function(){j(hn.map((function(e){return{label:e,value:e}})))}),[]),Object(d.jsxs)("div",{className:"dropdown-container",children:["\u5340\u57df\uff1a",Object(d.jsx)("select",{value:t,onChange:function(e){n(e.currentTarget.value),c(null),r(null)},children:l.map((function(e){var t=e.label,n=e.value;return Object(d.jsx)("option",{className:"region-name",value:n,children:t},t)}))})]})},fn=n(28),xn=n.n(fn),mn=function(e){var t=e.xScale,n=e.innerHeight,c=e.tickFormat,r=e.tickCount,i=void 0===r?6:r,s=e.tickOffset,o=void 0===s?3:s,l=Object(a.useRef)();return Object(a.useEffect)((function(){var e=Object(p.B)(l.current),a=Object(p.d)(t).ticks(i,c).tickSize(-n).tickPadding(o);e.call(a).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-55)")}),[t,n,c,o,i]),Object(d.jsx)("g",{ref:l,className:xn.a.tick,transform:"translate(0, ".concat(n,")")})},vn=function(e){var t=e.yScale,n=e.innerWidth,c=e.tickFormat,r=e.tickCount,i=void 0===r?6:r,s=e.tickOffset,o=void 0===s?3:s,l=Object(a.useRef)();return Object(a.useEffect)((function(){var e=Object(p.B)(l.current),a=Object(p.e)(t).ticks(i).tickSize(n).tickPadding(o).tickFormat(c);e.call(a)}),[t,n,c,o,i]),Object(d.jsx)("g",{ref:l,className:xn.a.tick,transform:"translate(".concat(n,", 0)")})},pn=function(e){var t=e.value,n=e.xScale,a=e.innerHeight,c=n(t),r=a;return Object(d.jsx)("line",{className:xn.a.cursorLine,x1:c,y1:0,x2:c,y2:r})},gn=function(e){var t=e.value,n=e.xScale,a=e.height,c=e.label,r=n(t),i=a;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("line",{className:xn.a.markerLine,strokeDasharray:"10,10",x1:r,y1:0,x2:r,y2:i}),Object(d.jsx)("text",{className:xn.a.markerLineLabelStroke,textAnchor:"end",x:r-15,y:a-5,writingMode:"vertical-rl",children:c}),Object(d.jsx)("text",{className:xn.a.markerLineLabel,textAnchor:"end",x:r-15,y:a-5,writingMode:"vertical-rl",children:c})]})},kn=function(e){var t=e.data,n=e.areaGenerator,c=e.onHover;return Object(a.useMemo)((function(){var e=t.map((function(e){return-n.x()(e)}));return Object(d.jsx)("g",{className:xn.a.captureArea,children:Object(d.jsx)("path",{d:n(t),onTouchStart:function(n){n.preventDefault();var a=Object(p.f)(e,-Object(p.t)(n)[0]);c(t[a])},onPointerMove:function(n){var a=Object(p.f)(e,-Object(p.t)(n)[0]);c(t[a])},onMouseMove:function(n){var a=Object(p.f)(e,-Object(p.t)(n)[0]);c(t[a])}})})}),[t,n,c])},wn=function(e){var t=e.activeData,n=e.hoveredValue,a=e.xTooltipFormat;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("text",{className:xn.a.tooltipStroke,textAnchor:"start",dominantBaseline:"middle",x:0,y:20,children:[Object(d.jsx)("tspan",{x:"10",dy:"0",fontWeight:"bold",children:"".concat(n,"\uff1a").concat(t&&t.data[n].toLocaleString(),"\u4eba")}),Object(d.jsx)("tspan",{x:"10",dy:"1.3em",children:a(t&&t.data.date)})]}),Object(d.jsxs)("text",{className:xn.a.tooltip,textAnchor:"start",dominantBaseline:"middle",x:0,y:20,children:[Object(d.jsx)("tspan",{x:"10",dy:"0",fontWeight:"bold",children:"".concat(n,"\uff1a").concat(t&&t.data[n].toLocaleString(),"\u4eba")}),Object(d.jsx)("tspan",{x:"10",dy:"1.3em",children:a(t&&t.data.date)})]})]})},_n=window.innerWidth<1e3?window.innerWidth:1e3,yn=_n>480?.6*_n:1*_n,Sn=20,Nn=10,Cn=80,Ln=50,An=Object(p.G)("%-m/%-d, %Y"),Mn=Object(p.G)("%-m/%-d, %Y"),Dn=Object(p.G)("%Y/%-m/%-d"),Fn=function(e){return e<0?-e:e},Tn=function(e){var t=e.data,n=e.stackedData,c=e.view,r=e.setView,s=Object(a.useState)(null),o=Object(i.a)(s,2),l=o[0],j=o[1],u=Object(a.useState)(null),b=Object(i.a)(u,2),h=b[0],O=b[1],f=yn-Sn-Cn,x=_n-Ln-Nn,m=Object(a.useMemo)((function(){return Object(p.y)().domain(Object(p.i)(t,(function(e){return e["\u65e5\u671f"]}))).range([0,x])}),[t,x]),v=Object(a.useMemo)((function(){return Object(p.v)().domain([Object(p.r)(n,(function(e){return Object(p.r)(e,(function(e){return e[0]}))})),Object(p.q)(n,(function(e){return Object(p.q)(e,(function(e){return e[1]}))}))]).range([f,0]).nice()}),[n,f]),g=Object(a.useMemo)((function(){return Object(p.w)().range(n.map((function(e,t){var a=t/n.length;return Object(p.n)(a)})))}),[n]),k=Object(a.useCallback)(j,[j]),w=Object(a.useCallback)(O,[O]),_=Object(a.useMemo)((function(){return Object(p.b)().x((function(e){return m(function(e){return e.date}(e.data))})).y0((function(e){return v(e[0])})).y1((function(e){return v(e[1])}))}),[m,v]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(On,{chosen:c,setChosen:r,handleTypeHover:w,handleCursorHover:k}),Object(d.jsxs)("pre",{children:["\u8cc7\u6599\u66f4\u65b0\u6642\u9593\uff1a",Dn(t[0]["\u65e5\u671f"])]}),Object(d.jsx)("svg",{viewBox:"0 0 ".concat(_n," ").concat(yn),preserveAspectRatio:"xMinYMid",children:Object(d.jsxs)("g",{transform:"translate(".concat(Ln,", ").concat(Sn,")"),children:[Object(d.jsx)(mn,{innerHeight:f,xScale:m,tickFormat:An,tickOffset:7,tickCount:_n>480?6:2}),Object(d.jsx)(vn,{innerWidth:x,yScale:v,tickOffset:7,tickFormat:Fn}),Object(d.jsx)("g",{className:xn.a.primary,children:n.map((function(e){return Object(d.jsxs)("g",{onTouchStart:function(t){w(e.key),t.preventDefault()},onPointerEnter:function(){return w(e.key)},onMouseLeave:function(){return w(null)},children:[Object(d.jsx)("path",{d:_(e),fill:g(e.key),stroke:"#ddd",strokeWidth:.1,opacity:h?.2:1,children:Object(d.jsx)("title",{children:e.key})}),h===e.key?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("path",{d:_(e),fill:g(e.key),stroke:"#ddd",strokeWidth:.1,children:Object(d.jsx)("title",{children:e.key})}),l?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(pn,{value:l.data.date,xScale:m,innerHeight:f}),Object(d.jsx)(wn,{activeData:l,hoveredValue:h,xTooltipFormat:Mn})]}):null,Object(d.jsx)(kn,{onHover:k,data:e,areaGenerator:_})]}):null]},e.key)}))}),Object(d.jsx)(gn,{value:new Date("2021-05-15T08:00"),xScale:m,height:f,label:"\u96d9\u5317\u5be6\u65bd\u4e09\u7d1a\u8b66\u6212"}),Object(d.jsx)(gn,{value:new Date("2021-07-27T08:00"),xScale:m,height:f,label:"\u5168\u570b\u4e09\u7d1a\u8b66\u6212\u89e3\u9664"})]})})]})},Vn=function(){return Object(d.jsxs)("p",{className:"footnote",children:["\u8cc7\u6599\u4f86\u6e90\uff1a\u885b\u751f\u798f\u5229\u90e8\u75be\u75c5\u7ba1\u5236\u7f72\uff08",Object(d.jsx)("a",{href:"https://covid-19.nchc.org.tw/dt.php?dt_name=1&downloadall=yes",children:"\u8cc7\u6599\u7531\u300c\u570b\u5bb6\u9ad8\u901f\u7db2\u8def\u8207\u8a08\u7b97\u4e2d\u5fc3\u300d\u5f59\u6574"}),"\uff09"]})},Wn=function(e){var t=e.id;return Object(d.jsxs)("div",{className:"wrap-collapsible",children:[Object(d.jsx)("input",{id:t,className:"toggle",type:"checkbox"}),Object(d.jsx)("label",{htmlFor:t,className:"lbl-toggle",children:"\u9019\u5f35\u5716\u8868\u53ef\u4ee5\u600e\u9ebc\u770b\uff1f"}),Object(d.jsx)("div",{className:"collapsible-content",children:Object(d.jsxs)("div",{className:"content-inner",children:[Object(d.jsx)("p",{children:"\u9019\u7cfb\u5217\u5716\u8868\u7684\u7528\u610f\u5728\u65bc\u986f\u793a\u53f0\u7063\u5404\u5730\u5340\u75ab\u60c5\u8655\u65bc\u589e\u6eab\u6216\u964d\u6eab\u7684\u968e\u6bb5\uff0c\u540c\u6642\u4e5f\u80fd\u4f5c\u70ba\u75ab\u75c5\u50b3\u64ad\u60c5\u5f62\u7684\u53c3\u8003\u3002\u6bcf\u4e00\u500b\u8272\u584a\u4ee3\u8868\u4e00\u500b\u7e23\u5e02\u6216\u9109\u93ae\uff0c\u6ed1\u9f20\u79fb\u5230\u8272\u584a\u4e0a\u6703\u986f\u793a\u8a72\u8272\u584a\u6240\u4ee3\u8868\u7684\u5340\u57df\u4e00\u5929\u5167\u65b0\u589e\u7684\u78ba\u8a3a\u6848\u4f8b\u6578\u3002"}),Object(d.jsx)("p",{children:"\u8cc7\u6599\u7684\u9810\u8a2d\u7bc4\u570d\u662f\u300c\u5168\u53f0\u7063\u300d\uff0c\u4ee3\u8868\u5404\u76f4\u8f44\u5e02\u8207\u4e8c\u7d1a\u7e23\u5e02\u7684\u6bd4\u8f03\u3002\u9ede\u9078\u4e0b\u62c9\u5f0f\u9078\u55ae\u5247\u53ef\u4ee5\u770b\u5230\u4e0a\u8ff0\u884c\u653f\u5340\u53c8\u7d30\u5206\u4e00\u5c64\u5f8c\u7684\u8cc7\u6599\u3002"}),Object(d.jsx)(Vn,{})]})})]})},Bn="COVID-19 \u53f0\u7063\u5404\u5730\u5340\u6bcf\u65e5\u65b0\u589e\u78ba\u8a3a\u6848\u4f8b\u6578\u6bd4\u8f03",Pn=function(){var e=Object(a.useState)("\u5168\u53f0\u7063"),t=Object(i.a)(e,2),n=t[0],c=t[1],r=un();if(!r||!r.length)return Object(d.jsx)(x,{});var s="\u5168\u53f0\u7063"===n?r.filter((function(e){return"\u5168\u5340"===e["\u5340\u57df"]})):r.filter((function(e){return e["\u7e23\u5e02\u5225"]===n})),o="\u5168\u53f0\u7063"===n?function(e){return e["\u7e23\u5e02\u5225"]}:function(e){return e["\u5340\u57df"]},l=Object(p.l)(s,o),j="\u5168\u53f0\u7063"===n?Array.from(l.keys()):Array.from(l.keys()).splice(1),u=function(e,t){var n,a=[],c=Object(p.l)(e,(function(e){return e["\u65e5\u671f"]})),r=Object(jn.a)(c.keys());try{var i=function(){var e=n.value,r={date:e},i=c.get(e);"\u5168\u53f0\u7063"===t?i.map((function(e){var t=e.\u7e23\u5e02\u5225,n=e.\u65b0\u589e\u78ba\u8a3a\u4eba\u6578;return r[t]=n})):i.map((function(e){var t=e.\u5340\u57df,n=e.\u65b0\u589e\u78ba\u8a3a\u4eba\u6578;return r[t]=n})),a.push(r)};for(r.s();!(n=r.n()).done;)i()}catch(s){r.e(s)}finally{r.f()}return a}(s,n),b=Object(p.C)().offset(p.D).order(p.E).keys(j)(u);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(bn,{title:Bn}),Object(d.jsx)(Tn,{data:s,stackedData:b,view:n,setView:c}),Object(d.jsx)(Wn,{id:Bn})]})},Hn=function(e,t){var n=Object(a.useState)(null),c=Object(i.a)(n,2),r=c[0],s=c[1];return Object(a.useEffect)((function(){t(!0);var n=!0;return Object(p.o)("".concat("https://disease.sh/v3/covid-19/apple/countries/Taiwan","/").concat(e)).then((function(e){n&&(s(e.data.map((function(e){return{date:new Date(e.date),driving:e.driving,transit:e.transit,walking:e.walking,subregion_and_city:e.subregion_and_city}}))),t(!1))})),function(){n=!1}}),[e,t]),r},En=function(e){var t=e.title;return Object(d.jsx)("div",{className:"chart-title",children:t})},Rn=function(e){var t=e.dropdownItems,n=e.chosen,c=e.setChosen,r=Object(a.useState)([]),s=Object(i.a)(r,2),o=s[0],l=s[1];return Object(a.useEffect)((function(){l(t.map((function(e){return{label:e,value:e}})))}),[t]),Object(d.jsxs)("div",{className:"dropdown-container",children:["\u9078\u64c7\u5340\u57df\uff1a",Object(d.jsx)("select",{value:n,onChange:function(e){return c(e.currentTarget.value)},children:o.map((function(e){var t=e.label,n=e.value;return Object(d.jsx)("option",{className:"region-name",value:n,children:t},t)}))})]})},Gn=function(e){var t=e.items;return Object(d.jsx)("div",{className:"small-table",children:Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:t.map((function(e,t){return Object(d.jsx)("th",{children:e.heading},t)}))})}),Object(d.jsx)("tbody",{children:Object(d.jsx)("tr",{children:t.map((function(e,t){return Object(d.jsx)("td",{className:"numerical-data",children:e.value},t)}))})})]})})},In=n(25),zn=n.n(In),Yn=function(e){var t=e.xScale,n=e.innerHeight,c=e.tickFormat,r=e.tickCount,i=void 0===r?6:r,s=e.tickOffset,o=void 0===s?3:s,l=Object(a.useRef)();return Object(a.useEffect)((function(){var e=Object(p.B)(l.current),a=Object(p.d)(t).ticks(i,c).tickSize(-n).tickPadding(o);e.call(a).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-55)")}),[t,n,c,o,i]),Object(d.jsx)("g",{ref:l,className:zn.a.tick,transform:"translate(0, ".concat(n,")")})},qn=function(e){var t=e.yScale,n=e.innerWidth,c=e.tickFormat,r=e.tickCount,i=void 0===r?6:r,s=e.tickOffset,o=void 0===s?3:s,l=Object(a.useRef)();return Object(a.useEffect)((function(){var e=Object(p.B)(l.current),a=Object(p.e)(t).ticks(i).tickSize(n).tickPadding(o).tickFormat(c);e.call(a)}),[t,n,c,o,i]),Object(d.jsx)("g",{ref:l,className:zn.a.tick,transform:"translate(".concat(n,", 0)")})},Kn=function(e){var t=e.value,n=e.label,a=e.yScale,c=e.innerWidth,r=e.labelOffset,i=void 0===r?8:r,s=a(t),o=c;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("line",{className:zn.a.markerLine,x1:0,y1:s,x2:o,y2:s}),Object(d.jsx)("text",{className:zn.a.markerLineLabelStroke,textAnchor:"start",dominantBaseline:"hanging",x:i,y:a(t)+i,fontWeight:"bold",children:n}),Object(d.jsx)("text",{className:zn.a.markerLineLabel,textAnchor:"start",dominantBaseline:"hanging",x:i,y:a(t)+i,fontWeight:"bold",children:n})]})},Zn=function(e){var t=e.value,n=e.xScale,a=e.height,c=e.label,r=n(t),i=a;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("line",{className:zn.a.markerLine,strokeDasharray:"10,10",x1:r,y1:0,x2:r,y2:i}),Object(d.jsx)("text",{className:zn.a.markerLineLabelStroke,textAnchor:"start",x:r+15,y:10,writingMode:"vertical-rl",children:c}),Object(d.jsx)("text",{className:zn.a.markerLineLabel,textAnchor:"start",x:r+15,y:10,writingMode:"vertical-rl",children:c})]})},Jn=function(e){var t=e.colorScale,n=e.tickSpacing,a=void 0===n?20:n,c=e.tickSize,r=void 0===c?10:c,i=e.tickTextOffset,s=void 0===i?20:i;return t.domain().map((function(e,n){return Object(d.jsxs)("g",{className:zn.a.legend,transform:"translate(0, ".concat(n*a,")"),children:[Object(d.jsx)("circle",{fill:t(e),r:r}),Object(d.jsx)("text",{dy:".32em",x:s,className:zn.a.legendStroke,children:e}),Object(d.jsx)("text",{dy:".32em",x:s,className:zn.a.legend,children:e})]},t(e))}))},Qn=window.innerWidth<1e3?window.innerWidth:1e3,Un=Qn>480?.6*Qn:1*Qn,Xn=20,$n=5,ea=80,ta=70,na=function(e){return e.date},aa=Object(p.G)("%-m/%-d, %Y"),ca=function(e){return e.toLocaleString()+"%"},ra=function(e){var t=e.data,n=Un-Xn-ea,c=Qn-ta-$n,r=ta+16,i=Xn+13,s=Object(a.useMemo)((function(){return Object(p.y)().domain(Object(p.i)(t,na)).range([0,c]).nice()}),[t,c]),o=Object(a.useMemo)((function(){return Object(p.v)().domain([-100,150]).range([n,0]).nice()}),[n]),l=Object(a.useMemo)((function(){return Object(p.w)().domain(["\u6b65\u884c","\u958b\u8eca","\u5927\u773e\u4ea4\u901a"]).range(p.z)}),[]),j=Object(a.useMemo)((function(){return Object(p.p)().x((function(e){return s(na(e))})).y((function(e){return o(function(e){return e.walking}(e))}))}),[s,o]),u=Object(a.useMemo)((function(){return Object(p.p)().x((function(e){return s(na(e))})).y((function(e){return o(function(e){return e.transit}(e))}))}),[s,o]),b=Object(a.useMemo)((function(){return Object(p.p)().x((function(e){return s(na(e))})).y((function(e){return o(function(e){return e.driving}(e))}))}),[s,o]);return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("svg",{viewBox:"0 0 ".concat(Qn," ").concat(Un),preserveAspectRatio:"xMinYMid",children:[Object(d.jsxs)("g",{transform:"translate(".concat(ta,", ").concat(Xn,")"),children:[Object(d.jsx)(Yn,{innerHeight:n,xScale:s,tickFormat:aa,tickOffset:7,tickCount:Qn>480?6:2}),Object(d.jsx)(qn,{innerWidth:c,yScale:o,tickOffset:7,tickFormat:ca}),Object(d.jsx)("text",{className:zn.a.axisLabel,textAnchor:"middle",transform:"translate(".concat(-60,", ").concat(n/2,")"),writingMode:"vertical-lr",children:"\u5c0e\u822a\u4f7f\u7528\u7387"}),Object(d.jsx)("g",{className:zn.a.line,children:Object(d.jsx)("path",{d:j(t),stroke:l("\u6b65\u884c")})}),Object(d.jsx)("g",{className:zn.a.line,children:Object(d.jsx)("path",{d:b(t),stroke:l("\u958b\u8eca")})}),Object(d.jsx)("g",{className:zn.a.line,children:Object(d.jsx)("path",{d:u(t),stroke:l("\u5927\u773e\u4ea4\u901a")})}),Object(d.jsx)(Kn,{value:0,yScale:o,innerWidth:c}),Object(d.jsx)(Zn,{value:new Date("2021-05-15T00:00"),xScale:s,height:n,label:"\u96d9\u5317\u5be6\u65bd\u4e09\u7d1a\u8b66\u6212"}),Object(d.jsx)(Zn,{value:new Date("2021-07-27T00:00"),xScale:s,height:n,label:"\u5168\u570b\u4e09\u7d1a\u8b66\u6212\u89e3\u9664"})]}),Object(d.jsx)("g",{transform:"translate(".concat(r,", ").concat(i,")"),children:Object(d.jsx)(Jn,{colorScale:l,tickSpacing:26,tickSize:8,tickTextOffset:16})})]})})},ia=function(){return Object(d.jsxs)("p",{className:"footnote",children:["\u8cc7\u6599\u4f86\u6e90\uff1aApple Mobility Trends Reports\uff08API by"," ",Object(d.jsx)("a",{href:"https://disease.sh/",children:"disease.sh"}),"\uff09"]})},sa=function(e){var t=e.id;return Object(d.jsxs)("div",{className:"wrap-collapsible",children:[Object(d.jsx)("input",{id:t,className:"toggle",type:"checkbox"}),Object(d.jsx)("label",{htmlFor:t,className:"lbl-toggle",children:"\u9019\u5f35\u5716\u8868\u53ef\u4ee5\u600e\u9ebc\u770b\uff1f"}),Object(d.jsx)("div",{className:"collapsible-content",children:Object(d.jsxs)("div",{className:"content-inner",children:[Object(d.jsx)("p",{children:"\u9019\u5f35\u5716\u8868\u4e3b\u8981\u7528\u4f86\u89c0\u5bdf\u53f0\u7063\u7684\u75ab\u60c5\u8207\u4eba\u6c11\u5916\u51fa\u60c5\u5f62\u4e4b\u9593\u7684\u95dc\u4fc2\u3002"}),Object(d.jsx)("p",{children:"Apple\u516c\u958b\u4e86\u5404\u500b\u5730\u5340\u4f7f\u7528\u300cApple\u5730\u5716\u300d\u5c0e\u822a\u529f\u80fd\u7684\u983b\u7e41\u7a0b\u5ea6\uff0c\u85c9\u4ee5\u5224\u65b7\u5916\u51fa\u7684\u4eba\u6d41\u662f\u5426\u589e\u52a0\u6216\u6e1b\u5c11\u3002\u6b63\u5982\u5c0e\u822a\u6240\u63d0\u4f9b\u7684\u529f\u80fd\uff0c\u6578\u64da\u4e5f\u5340\u5206\u70ba\u300c\u6b65\u884c\u300d\u3001\u300c\u958b\u8eca\u300d\u3001\u300c\u5927\u773e\u4ea4\u901a\u300d\u4e09\u7a2e\uff0c\u4e00\u822c\u4eba\u901a\u5e38\u8981\u5230\u964c\u751f\u7684\u5730\u65b9\u6216\u8d70\u4e0d\u719f\u6089\u7684\u8def\u7dda\u624d\u6703\u958b\u5c0e\u822a\uff0c\u56e0\u6b64\u7528\u9019\u4e9b\u6578\u64da\u4f86\u5224\u65b7\u300c\u4e0d\u5fc5\u8981\u7684\u79fb\u52d5\u300d\u9817\u70ba\u5408\u9069\u3002"}),Object(d.jsx)(ia,{})]})})]})},oa="Apple \u5c0e\u822a\u4f7f\u7528\u8da8\u52e2\u5728\u53f0\u7063",la=function(){var e=Object(a.useState)("All"),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!0),s=Object(i.a)(r,2),o=s[0],l=s[1],j=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=!0;return Object(p.o)("https://disease.sh/v3/covid-19/apple/countries/TW").then((function(t){e&&c(t)})),function(){e=!1}}),[]),n}(),u=Hn(n,l);if(!j||!u||!u.length)return Object(d.jsx)(x,{});var b=u.filter((function(e){return e.date>=new Date("2021-01-01")})),h=[{heading:"\u6b65\u884c\u5c0e\u822a\u4f7f\u7528\u7387",value:u[u.length-1].walking>=0?"+"+u[u.length-1].walking.toLocaleString()+"%":u[u.length-1].walking.toLocaleString()+"%"},{heading:"\u958b\u8eca\u5c0e\u822a\u4f7f\u7528\u7387",value:u[u.length-1].driving>=0?"+"+u[u.length-1].driving.toLocaleString()+"%":u[u.length-1].driving.toLocaleString()+"%"},{heading:"\u5927\u773e\u4ea4\u901a\u5c0e\u822a\u4f7f\u7528\u7387",value:u[u.length-1].transit?u[u.length-1].transit>=0?"+"+u[u.length-1].transit.toLocaleString()+"%":u[u.length-1].transit.toLocaleString()+"%":"\u7121\u8cc7\u6599"}];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(En,{title:oa}),Object(d.jsx)(Rn,{dropdownItems:j.subregions,chosen:n,setChosen:c}),o?Object(d.jsx)(x,{}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Gn,{items:h}),Object(d.jsx)(ra,{data:b})]}),Object(d.jsx)("pre",{children:"\u8cc7\u6599\u6642\u9593\uff1a".concat(u[u.length-1].date.toLocaleDateString("zh-TW"))}),Object(d.jsx)(sa,{id:oa})]})},da=function(){return Object(d.jsxs)("ul",{className:"flex-card-list",children:[Object(d.jsx)(m,{children:Object(d.jsx)(Y,{})}),Object(d.jsx)(m,{children:Object(d.jsx)(he,{})}),Object(d.jsx)(m,{children:Object(d.jsx)(Ye,{})}),Object(d.jsx)(m,{children:Object(d.jsx)(Pn,{})}),Object(d.jsx)(m,{children:Object(d.jsx)(Pt,{})}),Object(d.jsx)(m,{children:Object(d.jsx)(dn,{})}),Object(d.jsx)(m,{children:Object(d.jsx)(pt,{})}),Object(d.jsx)(m,{children:Object(d.jsx)(la,{})})]})},ja=n(60),ua=n.n(ja),ba=function(e){var t=e.colorScale,n=e.tickSpacing,a=void 0===n?20:n,c=e.tickSize,r=void 0===c?10:c,i=e.tickTextOffset,s=void 0===i?20:i,o=e.onHover,l=e.hoveredValue,j=e.fadeOpacity,u=void 0===j?.2:j;return t.domain().map((function(e,n){return Object(d.jsxs)("g",{className:ua.a.legend,transform:"translate(0, ".concat(n*a,")"),onMouseEnter:function(){return o(e)},onMouseLeave:function(){return o(null)},opacity:l&&e!==l?u:1,children:[Object(d.jsx)("circle",{fill:t(e),r:r}),Object(d.jsx)("text",{dy:".32em",x:s,children:e})]},t(e))}))},ha=function(e){var t=e.items;e.dataType,e.dataValue;return Object(d.jsx)("div",{className:"small-table",children:Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:Object(d.jsx)("th",{children:"Total"})})}),Object(d.jsx)("tbody",{children:Object(d.jsx)("tr",{children:Object(d.jsx)("td",{className:"numerical-data",children:t.reduce((function(e,t){return e+t.value}),0).toLocaleString()})})})]})})},Oa=function(e){var t=e.pieLabelPosition,n=e.dataValue,a=e.d,c=e.percentage,r=e.className,i=e.labelOffsetY,s=void 0===i?18:i;return Object(d.jsxs)("text",{className:r,transform:"translate(".concat(t,")"),textAnchor:"middle",dominantBaseline:"middle",children:[Object(d.jsxs)("tspan",{className:"num",x:"0",dy:-s,fill:"black",children:[c,"%"]}),Object(d.jsx)("tspan",{x:"0",dy:s,fill:"#635F5D",children:n(a.data).toLocaleString()})]})},fa=function(e){var t=e.pieData,n=e.pieArc,a=e.colorPie,c=e.colorValue,r=e.dataType,i=e.dataValue,s=e.onHover,o=e.hoveredValue,l=e.fadeOpacity,j=void 0===l?.2:l;return a(t).map((function(e){var a=r(e.data),l=n.centroid(e);e.endAngle-e.startAngle<.25&&(l[0]*=2.2,l[1]*=2.2);var u=(i(e.data)/Object(p.F)(t,(function(e){return e.value}))*100).toFixed(1);return Object(d.jsxs)("g",{className:ua.a.pieChart,opacity:o&&a!==o?j:1,onMouseEnter:function(){return s(a)},onClick:function(){return s(a)},onMouseLeave:function(){return s(null)},children:[Object(d.jsx)("path",{fill:c(e.data),d:n(e)}),Object(d.jsx)(Oa,{pieLabelPosition:l,dataValue:i,d:e,percentage:u,className:ua.a.pieLabelStroke}),Object(d.jsx)(Oa,{pieLabelPosition:l,dataValue:i,d:e,percentage:u,className:ua.a.pieLabel})]},r(e.data))}))},xa=function(e){var t=e.children,n=e.id;return Object(d.jsxs)("div",{className:"wrap-collapsible",children:[Object(d.jsx)("input",{id:n,className:"toggle",type:"checkbox"}),Object(d.jsx)("label",{htmlFor:n,className:"lbl-toggle",children:"What does this chart tell us?"}),Object(d.jsx)("div",{className:"collapsible-content",children:Object(d.jsx)("div",{className:"content-inner",children:t})})]})},ma=window.innerWidth<1e3?window.innerWidth:1e3,va=ma>480?.6*ma:.7*ma,pa=.66*ma/2,ga=.7*pa,ka=.66*ma,wa=va/2,_a=Object(p.a)().innerRadius(0).outerRadius(ga),ya=function(e){return e.case},Sa=function(e){return e.value},Na=function(e){return e.color},Ca="Worldwide Cases Overview",La=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],r=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=!0;return Object(p.o)("https://disease.sh/v3/covid-19/all").then((function(t){e&&c(t)})),function(){e=!1}}),[]),n}();if(!r)return Object(d.jsx)(x,{});var s=[{case:"Deaths",value:r.deaths,color:"#BD2D28"},{case:"Recovered",value:r.recovered,color:"#6BBBA1"},{case:"Active",value:r.active,color:"#E25A42"}],o=Object(p.s)().sort(null).value(Sa),l=Object(p.w)().domain(s.map(ya)).range(s.map(Na)),j=function(e){var t=e.title;return Object(d.jsx)("div",{className:"chart-title",children:t})},u=function(){return Object(d.jsxs)("p",{className:"footnote",children:["Data source: Worldometers (",Object(d.jsx)("a",{href:"https://github.com/disease-sh/api",children:"disease.sh"}),")"]})};return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(j,{title:Ca}),Object(d.jsx)(ha,{items:s,dataType:ya,dataValue:Sa}),Object(d.jsxs)("svg",{viewBox:"0 0 ".concat(ma," ").concat(va),preserveAspectRatio:"xMinYMid",children:[Object(d.jsx)("g",{transform:"translate(".concat(pa,",").concat(va/2,")"),children:Object(d.jsx)(fa,{pieData:s,colorPie:o,colorValue:Na,pieArc:_a,dataType:ya,dataValue:Sa,onHover:c,hoveredValue:n,fadeOpacity:.3})}),Object(d.jsxs)("g",{transform:"translate(".concat(ka,", ").concat(wa,")"),children:[Object(d.jsx)("text",{className:ua.a.legendLabel,x:-7,y:-26,children:"Cases"}),Object(d.jsx)(ba,{colorScale:l,tickSpacing:26,tickSize:8,tickTextOffset:16,onHover:c,hoveredValue:n,fadeOpacity:.3})]})]}),Object(d.jsxs)(xa,{id:Ca,children:[Object(d.jsx)("p",{children:"This chart gives a rough overview of COVID-19 pandemic currently spreading around the world. The total number at the top left corner shows a number of confirmed cases ever tested positive. Since not everyone has been tested, this can only represent the cases we know so far."}),Object(d.jsxs)("p",{children:['All tested positive cases are further divided into three categories as shown in the pie chart: active, recovered, and deaths. The recovered percentage is intended to give us an idea of how far we are from global recovery. The "clock", however, can turn back when the virus is spreading rapidly. Active cases represents the people still suffering from the disease. Most active cases will recover, but some will not. According to'," ",Object(d.jsxs)("a",{href:"https://www.nytimes.com/interactive/2020/world/asia/china-coronavirus-contain.html",children:["an early report"," "]}),"by ",Object(d.jsx)("i",{children:"the New York Times"}),", the fatality rate for those infected is likely to be lower than 3%."]}),Object(d.jsx)(u,{})]})]})},Aa=Object(p.H)("%Y-%m-%d"),Ma=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=!0;return Object(p.g)("https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/jhu/new_cases.csv").then((function(t){e&&c(function(e){return e.map((function(e){return{date:Aa(e.date),newCases:+e.World}}))}(t))})),function(){e=!1}}),[]),n},Da=function(e){var t=e.title;return Object(d.jsx)("div",{className:"chart-title",children:t})},Fa=function(e){var t=e.items;return Object(d.jsx)("div",{className:"small-table",children:Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:t.map((function(e,t){return Object(d.jsx)("th",{children:e.heading},t)}))})}),Object(d.jsx)("tbody",{children:Object(d.jsx)("tr",{children:t.map((function(e,t){return Object(d.jsx)("td",{className:"numerical-data",children:e.value},t)}))})})]})})},Ta=n(35),Va=n.n(Ta),Wa=function(e){var t=e.xScale,n=e.innerHeight,c=e.tickFormat,r=e.tickCount,i=void 0===r?6:r,s=e.tickOffset,o=void 0===s?3:s,l=Object(a.useRef)();return Object(a.useEffect)((function(){var e=Object(p.B)(l.current),a=Object(p.d)(t).ticks(i,c).tickSize(-n).tickPadding(o);e.call(a)}),[t,n,c,o,i]),Object(d.jsx)("g",{ref:l,className:Va.a.tick,transform:"translate(0, ".concat(n,")")})},Ba=function(e){var t=e.yScale,n=e.innerWidth,c=e.tickFormat,r=e.tickOffset,i=void 0===r?3:r,s=Object(a.useRef)();return Object(a.useEffect)((function(){var e=Object(p.B)(s.current),a=Object(p.e)(t).tickSize(n).tickPadding(i).tickFormat(c);e.call(a)}),[t,n,c,i]),Object(d.jsx)("g",{ref:s,className:Va.a.tick,transform:"translate(".concat(n,", 0)")})},Pa=function(e){var t=e.value,n=e.xScale,a=e.innerHeight,c=n(t),r=a;return Object(d.jsx)("line",{className:Va.a.markerLine,x1:c,y1:0,x2:c,y2:r})},Ha=function(e){var t=e.data,n=e.areaGenerator,c=e.onHover,r=e.innerWidth,i=e.innerHeight;return Object(a.useMemo)((function(){var e=t.map((function(e){return n.x()(e)}));return Object(d.jsx)("g",{className:Va.a.captureArea,children:Object(d.jsx)("rect",{width:r,height:i,onTouchStart:function(n){n.preventDefault();var a=Object(p.f)(e,Object(p.t)(n)[0]);c(t[a])},onPointerMove:function(n){var a=Object(p.f)(e,Object(p.t)(n)[0]);c(t[a])},onMouseMove:function(n){var a=Object(p.f)(e,Object(p.t)(n)[0]);c(t[a])}})})}),[t,n,i,r,c])},Ea=window.innerWidth<1e3?window.innerWidth:1e3,Ra=Ea>480?.6*Ea:.8*Ea,Ga=20,Ia=0,za=40,Ya=65,qa=function(e){return e.date},Ka=Object(p.G)("%b, %Y"),Za=Object(p.G)("%-m/%-d, %y"),Ja=function(e){return e.newCases},Qa=Object(p.j)(".2s"),Ua=function(e){return Qa(e)},Xa=function(e){var t=e.data,n=Object(a.useState)(t[t.length-1]),c=Object(i.a)(n,2),r=c[0],s=c[1],o=Ra-Ga-za,l=Ea-Ya-Ia,j=Object(a.useMemo)((function(){return Object(p.y)().domain(Object(p.i)(t,qa)).range([0,l]).nice()}),[t,l]),u=Object(a.useMemo)((function(){return Object(p.v)().domain([0,Object(p.q)(t,Ja)]).range([o,0]).nice()}),[t,o]),b=Object(a.useCallback)(s,[s]),h=Object(a.useMemo)((function(){return Object(p.b)().x((function(e){return j(qa(e))})).y1((function(e){return u(Ja(e))})).y0(u(0)).curve(p.h)}),[j,u]),O=function(e){var t=e.activeData,n=e.className;return Object(d.jsxs)("text",{className:n,textAnchor:"end",x:0,y:-5,children:[Object(d.jsx)("tspan",{x:"-10",dy:"0",fontWeight:"bold",children:t.newCases.toLocaleString()}),Object(d.jsx)("tspan",{x:"-10",dy:"1.5em",children:Za(t.date)})]})};return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("svg",{viewBox:"0 0 ".concat(Ea," ").concat(Ra),preserveAspectRatio:"xMinYMid",children:Object(d.jsxs)("g",{transform:"translate(".concat(Ya,", ").concat(Ga,")"),children:[Object(d.jsx)(Wa,{innerHeight:o,xScale:j,tickFormat:Ka,tickOffset:7,tickCount:Ea>480?6:2}),Object(d.jsx)(Ba,{innerWidth:l,yScale:u,tickOffset:7,tickFormat:Ua}),Object(d.jsx)("g",{className:Va.a.marks,children:Object(d.jsx)("path",{d:h(t)})}),r?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("g",{className:Va.a.marks,children:Object(d.jsx)("path",{d:h(t)})}),Object(d.jsx)(Pa,{value:r.date,xScale:j,innerHeight:o}),Object(d.jsxs)("g",{transform:"translate(".concat(h.x()(r),", ").concat(h.y1()(r),")"),children:[Object(d.jsx)("circle",{className:Va.a.dataPoint,r:5}),Object(d.jsx)(O,{activeData:r,className:Va.a.tooltipStroke}),Object(d.jsx)(O,{activeData:r,className:Va.a.tooltip})]})]}):null,Object(d.jsx)(Ha,{onHover:b,data:t,areaGenerator:h,innerWidth:l,innerHeight:o})]})})})},$a=function(e){var t=e.children,n=e.id;return Object(d.jsxs)("div",{className:"wrap-collapsible",children:[Object(d.jsx)("input",{id:n,className:"toggle",type:"checkbox"}),Object(d.jsx)("label",{htmlFor:n,className:"lbl-toggle",children:"What does this chart tell us?"}),Object(d.jsx)("div",{className:"collapsible-content",children:Object(d.jsx)("div",{className:"content-inner",children:t})})]})},ec=function(e,t){return e.reduce((function(e,n){return e+n[t]}),0)},tc="Daily New Cases Worldwide",nc=function(){return Object(d.jsxs)("p",{className:"footnote",children:["Data source: Center for Systems Science and Engineering (CSSE) at Johns Hopkins University (",Object(d.jsx)("a",{href:"https://github.com/owid/covid-19-data/tree/master/public/data/jhu",children:"Our Wolrd in Data"}),")"]})},ac=function(){var e=Ma();if(!e||!e.length)return Object(d.jsx)(x,{});var t=ec(e.slice(-7),"newCases")/7,n=ec(e.slice(-14,-7),"newCases")/7,a=[{heading:"Average previous week",value:Math.round(n).toLocaleString()},{heading:"Average this week",value:Math.round(t).toLocaleString()},{heading:"Growth factor",value:(t/n).toFixed(2)}];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(Da,{title:tc}),Object(d.jsx)(Fa,{items:a}),Object(d.jsx)(Xa,{data:e}),Object(d.jsxs)($a,{id:tc,children:[Object(d.jsx)("p",{children:'This chart is intended to show how fast the viruses are spreading over time. Each data point represents the number of people tested positive on that day, therefore "new cases".'}),Object(d.jsx)("p",{children:'During a contagious disease\'s growing period, an infected person is likely to spread the virus to more than one healthy person, so the latter days will see more new cases than the previous days. For example, if we have 10 new cases today but only 5 new cases yesterday, it can mean each of those 5 people passed the disease to 2 more people during the day. So, the "2" is the "growth factor" listed here above the chart. Only when the growth factor constantly goes below 1, have we the chance to see an end to the pandemic.'}),Object(d.jsx)("p",{children:"Since most societies work in a weekly basis, we can see the data regularly fluctuates inside of a week. To avoid misintepretation, this chart calculates the growth factor with weekly averages."}),Object(d.jsx)(nc,{})]})]})},cc=function(e){var t=e.item,n=e.label,a=e.selected,c=e.handleChange;return Object(d.jsxs)("div",{className:"radio-btn",children:[Object(d.jsx)("input",{id:t,type:"radio",onChange:function(){return c(t)},checked:t===a}),Object(d.jsx)("label",{htmlFor:t,children:n})]})},rc=function(e){var t=e.data,n=e.selected;return Object(d.jsx)("div",{className:"area-data-sets",children:t.map((function(e,t){return Object(d.jsxs)("div",{className:"data-set",children:[Object(d.jsxs)("div",{className:"vertical-inverted-title",children:[t+1," ",e.location]}),Object(d.jsx)("div",{className:"set-title",children:"Confirmed"}),Object(d.jsx)("div",{className:"numerical-data ".concat("total_cases"===n?"selected":null),children:e.total_cases.toLocaleString()}),Object(d.jsxs)("div",{className:"smaller-numbers numerical-data ".concat("new_cases"===n?"selected":null),children:["(+",e.new_cases.toLocaleString(),")"]}),Object(d.jsx)("div",{className:"set-title",children:"Deaths"}),Object(d.jsx)("div",{className:"numerical-data ".concat("total_deaths"===n?"selected":null),children:e.total_deaths.toLocaleString()}),Object(d.jsxs)("div",{className:"smaller-numbers numerical-data ".concat("new_deaths"===n?"selected":null),children:["(+",e.new_deaths.toLocaleString(),")"]}),Object(d.jsx)("div",{className:"set-title",children:"Death Rate"}),Object(d.jsxs)("div",{className:"numerical-data",children:[(a=e.total_deaths,c=e.total_cases,Number((a/c*100).toFixed(2))),"%"]})]},e.country);var a,c}))})},ic=function(e){var t=e.title;return Object(d.jsx)("div",{className:"chart-title",children:t})},sc=[{type:"total_cases",label:"Total infected"},{type:"total_deaths",label:"Total deaths"},{type:"new_cases",label:"Newly infected"},{type:"new_deaths",label:"New deaths"}],oc=function(){return Object(d.jsxs)("p",{className:"footnote",children:["Data source: Center for Systems Science and Engineering (CSSE) at Johns Hopkins University (",Object(d.jsx)("a",{href:"https://github.com/owid/covid-19-data/tree/master/public/data/jhu",children:"Our Wolrd in Data"}),")"]})},lc=function(){var e=Object(a.useState)("new_cases"),t=Object(i.a)(e,2),n=t[0],c=t[1],r=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=!0;return Object(p.g)("https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/latest/owid-covid-latest.csv",p.c).then((function(t){e&&c(t)})),function(){e=!1}}),[]),n}();if(!r||!r.length)return Object(d.jsx)(x,{});var s=r.sort((function(e,t){return t[n]-e[n]})).filter((function(e){return null!==e.continent})).slice(0,12);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(ic,{title:"Areas With Outstanding Cases"}),Object(d.jsx)("div",{className:"radio-btn-container",children:sc.map((function(e){var t=e.type,a=e.label;return Object(d.jsx)(cc,{item:t,label:a,selected:n,handleChange:c},t)}))}),Object(d.jsx)(rc,{data:s,selected:n}),Object(d.jsx)(oc,{})]})},dc=n(282),jc=Object(p.H)("%Y-%m-%d"),uc=function(e,t){var n=Object(a.useState)(null),c=Object(i.a)(n,2),r=c[0],s=c[1];return Object(a.useEffect)((function(){var n=!0;return Object(p.g)(e).then((function(e){n&&s(function(e,t){return e.map((function(e){return{date:jc(e.date),newCases:+e[t]}}))}(e,t))})),function(){n=!1}}),[e,t]),r},bc=function(e){var t=e.title;return Object(d.jsx)("div",{className:"chart-title",children:t})},hc=function(e){var t=e.items;return Object(d.jsx)("div",{className:"small-table",children:Object(d.jsxs)("table",{children:[Object(d.jsx)("thead",{children:Object(d.jsx)("tr",{children:t.map((function(e,t){return Object(d.jsx)("th",{children:e.heading},t)}))})}),Object(d.jsx)("tbody",{children:Object(d.jsx)("tr",{children:t.map((function(e,t){return Object(d.jsx)("td",{className:"numerical-data",children:e.value},t)}))})})]})})},Oc=n(26),fc=n.n(Oc),xc=function(e){var t=e.xScale,n=e.innerHeight,c=e.tickFormat,r=e.tickCount,i=void 0===r?6:r,s=e.tickOffset,o=void 0===s?3:s,l=Object(a.useRef)();return Object(a.useEffect)((function(){var e=Object(p.B)(l.current),a=Object(p.d)(t).ticks(i,c).tickSize(-n).tickPadding(o);e.call(a).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-55)")}),[t,n,c,o,i]),Object(d.jsx)("g",{ref:l,className:fc.a.tick,transform:"translate(0, ".concat(n,")")})},mc=function(e){var t=e.yScale,n=e.innerWidth,c=e.tickFormat,r=e.tickOffset,i=void 0===r?3:r,s=Object(a.useRef)();return Object(a.useEffect)((function(){var e=Object(p.B)(s.current),a=Object(p.e)(t).tickSize(n).tickPadding(i).tickFormat(c);e.call(a)}),[t,n,c,i]),Object(d.jsx)("g",{ref:s,className:fc.a.tick,transform:"translate(".concat(n,", 0)")})},vc=function(e){var t=e.value,n=e.xScale,a=e.height,c=n(t),r=a;return Object(d.jsx)("line",{className:fc.a.cursorLine,x1:c,y1:0,x2:c,y2:r})},pc=function(e){var t=e.colorScale,n=e.tickSpacing,a=void 0===n?20:n,c=e.tickSize,r=void 0===c?10:c,i=e.tickTextOffset,s=void 0===i?16:i;return t.domain().map((function(e,n){return Object(d.jsxs)("g",{transform:"translate(".concat(n*a,", 0)"),children:[Object(d.jsx)("circle",{fill:t(e),r:r}),Object(d.jsx)("text",{dominantBaseline:"central",x:s,className:fc.a.legendStroke,children:e}),Object(d.jsx)("text",{dominantBaseline:"central",x:s,className:fc.a.legend,children:e})]},t(e))}))},gc=function(e){var t=e.colorScale,n=e.dataTop,a=e.dataDown,c=e.activeDate,r=e.className,i=e.xTooltipFormat;return Object(d.jsxs)("text",{className:r,textAnchor:"end",children:[Object(d.jsx)("tspan",{x:"-10",children:i(c)}),Object(d.jsxs)("tspan",{x:"-10",dy:"1.2em",fontWeight:"bold",fill:t.range()[0],children:["+",n.find((function(e){return e.date.valueOf()===c.valueOf()})).newCases.toLocaleString()]}),Object(d.jsxs)("tspan",{x:"-10",dy:"1.2em",fontWeight:"bold",fill:t.range()[1],children:["+",a.find((function(e){return e.date.valueOf()===c.valueOf()})).newCases.toLocaleString()]})]})},kc=function(e){var t=e.data,n=e.areaGenerator,c=e.onHover,r=e.innerWidth,i=e.innerHeight;return Object(a.useMemo)((function(){var e=t.map((function(e){return n.x()(e)}));return Object(d.jsx)("g",{className:fc.a.captureArea,children:Object(d.jsx)("rect",{width:r,height:i,onTouchStart:function(n){n.preventDefault();var a=Object(p.f)(e,Object(p.t)(n)[0]);c(t[a].date)},onPointerMove:function(n){var a=Object(p.f)(e,Object(p.t)(n)[0]);c(t[a].date)},onMouseMove:function(n){var a=Object(p.f)(e,Object(p.t)(n)[0]);c(t[a].date)}})})}),[t,n,i,r,c])},wc=window.innerWidth<1e3?window.innerWidth:1e3,_c=wc>480?.6*wc:1*wc,yc=30,Sc=10,Nc=70,Cc=40,Lc=function(e){return e.date},Ac=Object(p.G)("%-m/%-d, %Y"),Mc=Object(p.G)("%-m/%-d"),Dc=function(e){return e.newCases},Fc=Object(p.j)("~s"),Tc=function(e){return Fc(e<0?-e:e)},Vc=function(e){var t=e.dataTop,n=e.dataDown,c=Object(a.useState)(t[t.length-1].date),r=Object(i.a)(c,2),s=r[0],o=r[1],l=_c-yc-Nc,j=wc-Cc-Sc,u=Object(a.useMemo)((function(){return Object(p.y)().domain(Object(p.i)(t,Lc)).range([0,j]).nice()}),[t,j]),b=Object(a.useMemo)((function(){return Object(p.v)().domain([-Object(p.q)(n,Dc),Object(p.q)(t,Dc)]).range([l,0]).nice()}),[t,n,l]),h=Object(a.useCallback)(o,[o]),O=Object(a.useMemo)((function(){return Object(p.b)().x((function(e){return u(Lc(e))})).y1((function(e){return b(Dc(e))})).y0(b(0))}),[u,b]),f=Object(a.useMemo)((function(){return Object(p.b)().x((function(e){return u(Lc(e))})).y1((function(e){return b(-Dc(e))})).y0(b(0))}),[u,b]),x=Object(a.useMemo)((function(){return Object(p.w)().domain(["Newly infected","New deaths"]).range(["black","#BD2D28"])}),[]);return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("svg",{viewBox:"0 0 ".concat(wc," ").concat(_c),preserveAspectRatio:"xMinYMid",children:Object(d.jsxs)("g",{transform:"translate(".concat(Cc,", ").concat(yc,")"),children:[Object(d.jsx)(xc,{innerHeight:l,xScale:u,tickFormat:Ac,tickOffset:7,tickCount:wc>480?6:2}),Object(d.jsx)(mc,{innerWidth:j,yScale:b,tickOffset:7,tickFormat:Tc}),Object(d.jsx)("g",{className:fc.a.marks,children:Object(d.jsx)("path",{d:O(t)})}),Object(d.jsx)("g",{className:fc.a.marksDown,children:Object(d.jsx)("path",{d:f(n)})}),s?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(vc,{value:s,xScale:u,height:l}),Object(d.jsxs)("g",{transform:"translate(".concat(O.x()(t.find((function(e){return e.date.valueOf()===s.valueOf()}))),", ").concat(O.y1()(t.find((function(e){return e.date.valueOf()===s.valueOf()}))),")"),children:[Object(d.jsx)("circle",{className:fc.a.dataPoint,r:5}),Object(d.jsx)(gc,{colorScale:x,dataTop:t,dataDown:n,activeDate:s,className:fc.a.tooltipStroke,xTooltipFormat:Mc}),Object(d.jsx)(gc,{colorScale:x,dataTop:t,dataDown:n,activeDate:s,className:fc.a.tooltip,xTooltipFormat:Mc})]}),Object(d.jsx)("g",{transform:"translate(".concat(f.x()(n.find((function(e){return e.date.valueOf()===s.valueOf()}))),", ").concat(f.y1()(n.find((function(e){return e.date.valueOf()===s.valueOf()}))),")"),children:Object(d.jsx)("circle",{className:fc.a.dataPoint,r:5})})]}):null,Object(d.jsx)("g",{transform:"translate(".concat(8,", ").concat(-16,")"),children:Object(d.jsx)(pc,{colorScale:x,tickSpacing:150,tickSize:8,tickTextOffset:16})}),Object(d.jsx)(kc,{onHover:h,data:t,areaGenerator:O,innerWidth:j,innerHeight:l})]})})})},Wc=function(e,t){return e.reduce((function(e,n){return e+n[t]}),0)},Bc=function(){var e=Object(a.useState)("Japan"),t=Object(i.a)(e,2),n=t[0],c=t[1],r=uc("https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/jhu/new_cases.csv",n),s=uc("https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/jhu/new_deaths.csv",n),o=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=!0;return Object(p.g)("https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/jhu/locations.csv",p.c).then((function(t){e&&c(function(e){return e.map((function(e){return{value:e.location,label:e["Country/Region"]}}))}(t))})),function(){e=!1}}),[]),n}();if(!r||!r.length||!s||!s.length||!o||!o.length)return Object(d.jsx)(x,{});var l=r.filter((function(e){return e.date.valueOf()>=(new Date).valueOf()-7776e6})),j=s.filter((function(e){return e.date.valueOf()>=(new Date).valueOf()-7776e6})),u=Wc(r.slice(-7),"newCases")/7,b=Wc(r.slice(-14,-7),"newCases")/7,h="COVID-19 Daily New Cases in ".concat(n),O=[{heading:"Last week avg*",value:Math.round(b).toLocaleString()},{heading:"This week avg*",value:Math.round(u).toLocaleString()},{heading:"Growth factor",value:(u/b).toFixed(2)}];return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(bc,{title:h}),Object(d.jsx)(dc.a,{options:o,onChange:function(e){return c(e.value)},placeholder:"Select a region"}),Object(d.jsx)(hc,{items:O}),Object(d.jsx)(Vc,{dataTop:l,dataDown:j}),Object(d.jsx)("p",{className:"footnote",children:"* Averages of newly infected cases"})]})},Pc=n(74),Hc=n.n(Pc),Ec=function(e){var t=e.xScale,n=e.innerHeight,a=e.tickFormat,c=e.tickOffset,r=void 0===c?3:c,i=e.tickCount,s=void 0===i?6:i;return t.ticks(s).map((function(e){return Object(d.jsxs)("g",{className:Hc.a.tick,transform:"translate(".concat(t(e),", 0)"),children:[Object(d.jsx)("line",{y2:n}),Object(d.jsx)("text",{y:n+r,dy:"0.71em",style:{textAnchor:"middle"},children:a(e)})]},e)}))},Rc=function(e){var t=e.countryScale,n=e.ageScale,a=e.width,c=e.margin,r=e.tickOffset,i=void 0===r?3:r;return n.domain().map((function(e){return Object(d.jsxs)("g",{className:Hc.a.tick,transform:"translate(0,".concat(n(e)+n.bandwidth()/2,")"),children:[Object(d.jsx)("rect",{x:-c.left,y:-n.bandwidth()/2-4,width:a,height:n.bandwidth()+8}),Object(d.jsx)("text",{x:-c.left+i,style:{fontSize:"1.1em",fontWeight:"bold",textAnchor:"start",dominantBaseline:"central"},children:e}),t.domain().map((function(e){return Object(d.jsx)("text",{x:-i,y:t(e)+t.bandwidth()/2-n.bandwidth()/2,style:{textAnchor:"end",dominantBaseline:"central"},children:e},e)}))]},e)}))},Gc=function(e){var t=e.data,n=e.ageGroups,a=e.ageScale,c=e.xScale,r=e.countryScale,i=e.countryValue,s=e.colorScale,o=e.tooltipFormat,l=e.onHover,j=e.hoveredValue,u=e.fadeOpacity,b=void 0===u?.2:u;return t.map((function(e){return n.map((function(t){return Object(d.jsxs)("g",{className:Hc.a.marks,onMouseEnter:function(){return l(i(e))},onMouseLeave:function(){return l(null)},opacity:j&&j!==i(e)?b:1,children:[Object(d.jsx)("rect",{x:0,y:a(t)+r(i(e)),width:c(e[t]),height:r.bandwidth(),fill:s(i(e)),children:Object(d.jsx)("title",{children:"".concat(t,": ").concat(o(e[t]))})}),Object(d.jsx)("text",{x:c(e[t])+3,y:a(t)+r(i(e))+r.bandwidth()/2,style:{textAnchor:"start",dominantBaseline:"central"},children:o(e[t])})]},i(e)+t)}))}))},Ic=window.innerWidth<1e3?window.innerWidth:1e3,zc=Ic>480?1.1*Ic:2*Ic,Yc={top:20,right:40,bottom:30,left:170},qc=function(e){return e.Country},Kc=function(e){return e+"%"},Zc=zc-Yc.top-Yc.bottom,Jc=Ic-Yc.left-Yc.right,Qc=function(e){var t=e.data,n=Object(a.useState)(null),c=Object(i.a)(n,2),r=c[0],s=c[1],o=t.columns.slice(1),l=Object(a.useMemo)((function(){return Object(p.v)().domain([0,Object(p.q)(t,(function(e){return Object(p.q)(o,(function(t){return e[t]}))}))]).range([0,Jc]).nice()}),[o,t]),j=Object(a.useMemo)((function(){return Object(p.u)().domain(o).range([0,Zc]).paddingInner(.15)}),[o]),u=Object(a.useMemo)((function(){return Object(p.u)().domain(t.map(qc)).range([j.bandwidth(),0]).paddingInner(.1)}),[j,t]),b=Object(a.useMemo)((function(){return Object(p.w)().domain(t.map(qc)).range(p.A)}),[t]);return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("svg",{viewBox:"0 0 ".concat(Ic," ").concat(zc),preserveAspectRatio:"xMinYMid",children:Object(d.jsxs)("g",{transform:"translate(".concat(Yc.left,", ").concat(Yc.top,")"),children:[Object(d.jsx)(Ec,{innerHeight:Zc,xScale:l,tickFormat:Kc,tickOffset:8}),Object(d.jsx)(Rc,{countryScale:u,ageScale:j,margin:Yc,width:Ic}),Object(d.jsx)(Gc,{data:t,ageScale:j,ageGroups:o,xScale:l,countryScale:u,countryValue:qc,colorScale:b,tooltipFormat:Kc,onHover:s,hoveredValue:r,fadeOpacity:.3})]})})})},Uc=function(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("p",{className:"footnote",children:["Data sources: Chinese Center for Disease Control and Prevention (CDC); Spanish Ministry of Health; Korea Centers for Disease Control and Prevention (KCDC); Onder G, Rezza G, Brusaferro S. Case-Fatality Rate and Characteristics of Patients Dying in Relation to COVID-19 in Italy. JAMA. (This is a remake of"," ",Object(d.jsx)("a",{href:"https://ourworldindata.org/mortality-risk-covid#case-fatality-rate-of-covid-19-by-age",children:"the same chart"})," ","by Hannah Ritchie and Max Roser published in OurWorldinData.org)"]}),Object(d.jsx)("p",{className:"footnote",children:"Licensed under CC-BY by the authors Hannah Ritchie and Max Roser."})]})},Xc=function(e){var t=e.id;return Object(d.jsxs)("div",{className:"wrap-collapsible",children:[Object(d.jsx)("input",{id:t,className:"toggle",type:"checkbox"}),Object(d.jsx)("label",{htmlFor:t,className:"lbl-toggle",children:"What does this chart tell us?"}),Object(d.jsx)("div",{className:"collapsible-content",children:Object(d.jsxs)("div",{className:"content-inner",children:[Object(d.jsx)("p",{children:"This chart gives us a rough idea of which age groups are most at risk to COVID-19. If we know which groups are most likely to die from the disease, precautions and resouces like vaccines can be directed to the ones who need them most. According to this chart, the elderly are most likely to die from COVID-19."}),Object(d.jsx)("p",{children:"The data presented in the chart are calculated from the number of deaths divided by the number of confirmed cases in each age group. Since COVID-19 is still an ongoing pandemic, these numbers can change over time and conditions. There are two main limitations to keep in mind when interpreting this chart:"}),Object(d.jsxs)("ol",{children:[Object(d.jsx)("li",{children:"Since not everyone is tested within the population, we do not know the real number of infected cases."}),Object(d.jsx)("li",{children:"Some infected individuals are still alive at the time of recording, but will eventually die from the disease."})]}),Object(d.jsx)(Uc,{})]})})]})},$c=function(e){var t=e.title;return Object(d.jsx)("div",{className:"chart-title",children:t})},er=function(){var e=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=!0;return Object(p.g)("https://gist.githubusercontent.com/mgeorgetw/965bfe365ab8e70e2ee34c9a5d4d594a/raw/COVID19CaseFatalityRatesByAge.csv",p.c).then((function(t){e&&c(t)})),function(){e=!1}}),[]),n}();return e&&e.length?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)($c,{title:"Case fatality rates by age"}),Object(d.jsx)(Qc,{data:e}),Object(d.jsx)(Xc,{id:"caseFatalityRetes"})]}):Object(d.jsx)(x,{})},tr=function(){return Object(d.jsxs)("ul",{className:"flex-card-list",children:[Object(d.jsx)(m,{children:Object(d.jsx)(La,{})}),Object(d.jsx)(m,{children:Object(d.jsx)(ac,{})}),Object(d.jsx)(m,{children:Object(d.jsx)(lc,{})}),Object(d.jsx)(m,{children:Object(d.jsx)(Bc,{})}),Object(d.jsx)(m,{children:Object(d.jsx)(er,{})})]})},nr=n(156),ar=n.n(nr),cr=n(158),rr=n(157),ir=function(){var e=Object(a.useState)("global"),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){return Object(l.cookieExists)("view")?c(Object(l.findCookie)("view")):Object(l.setCookie)("view","global"),ar.a.init({mainElement:"body",onRefresh:function(){window.location.reload()},iconArrow:o.a.renderToString(Object(d.jsx)(rr.a,{icon:cr.a})),iconRefreshing:o.a.renderToString(Object(d.jsx)(rr.a,{icon:cr.a,spin:!0}))}),function(){ar.a.destroyAll()}}),[]),Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(j,{user:"mgeorgetw",repo:"COVID-19-Dashboard"}),Object(d.jsx)(b,{}),Object(d.jsx)(O,{view:n,setView:c}),"global"===n?Object(d.jsx)(tr,{}):Object(d.jsx)(da,{}),Object(d.jsx)(v,{})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(Object(d.jsx)(ir,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},74:function(e,t,n){e.exports={axisLabel:"BarChart_axisLabel__3cYts",marks:"BarChart_marks__1OUzD",tick:"BarChart_tick__3x380",legendLabel:"BarChart_legendLabel__Jrxh_",legend:"BarChart_legend__2C5QM"}},75:function(e,t){e.exports={findCookie:function(e){return document.cookie.split("; ").find((function(t){return t.startsWith("".concat(e,"="))})).split("=")[1]},setCookie:function(e,t){var n="".concat(e,"=").concat(t);n+=";max-age=604800;SameSite=Lax",document.cookie=n},cookieExists:function(e){return!!document.cookie.split(";").some((function(t){return t.trim().startsWith("".concat(e,"="))}))}}}},[[661,1,2]]]);
//# sourceMappingURL=main.acfbd35e.chunk.js.map