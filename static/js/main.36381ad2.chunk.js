(this.webpackJsonpcovid_19_dashboard=this.webpackJsonpcovid_19_dashboard||[]).push([[0],{118:function(e,t,a){e.exports={axisLabel:"BarChart_axisLabel__3i3d5",marks:"BarChart_marks__3Qb-J",tick:"BarChart_tick__1vAYC",legendLabel:"BarChart_legendLabel__Y4Crq",legend:"BarChart_legend__2XTVP"}},119:function(e,t){e.exports={findCookie:function(e){return document.cookie.split("; ").find((function(t){return t.startsWith("".concat(e,"="))})).split("=")[1]},setCookie:function(e,t){var a="".concat(e,"=").concat(t);a+=";max-age=604800;SameSite=Lax",document.cookie=a},cookieExists:function(e){return!!document.cookie.split(";").some((function(t){return t.trim().startsWith("".concat(e,"="))}))}}},27:function(e,t,a){e.exports={axisLabel:"AreaChart_axisLabel__2fPGs",primary:"AreaChart_primary__1hZ-8",secondary:"AreaChart_secondary__1Twap",tick:"AreaChart_tick__3FpEN",markerLine:"AreaChart_markerLine__xijer",voronoi:"AreaChart_voronoi__e9YRR",dataPoint:"AreaChart_dataPoint__3WLiC",tooltip:"AreaChart_tooltip__hteRd",tooltipStroke:"AreaChart_tooltipStroke__zx4Qc",legend:"AreaChart_legend__zjzU7",legendStroke:"AreaChart_legendStroke__1X5we"}},51:function(e,t,a){e.exports={axisLabel:"AreaChart_axisLabel__5XHsT",marks:"AreaChart_marks__2G7MT",tick:"AreaChart_tick__3MRek",markerLine:"AreaChart_markerLine__36MSZ",voronoi:"AreaChart_voronoi___Yq8f",dataPoint:"AreaChart_dataPoint__3YTf0",tooltip:"AreaChart_tooltip__3k8Kw",tooltipStroke:"AreaChart_tooltipStroke__wO-u4"}},52:function(e,t,a){e.exports={axisLabel:"LineChart_axisLabel__2_tFA",marks:"LineChart_marks__26M2D",tick:"LineChart_tick__3yb08",markerLine:"LineChart_markerLine__22F4j",voronoi:"LineChart_voronoi__2Oz49",dataPoint:"LineChart_dataPoint__g039n",tooltip:"LineChart_tooltip__11-D6",tooltipStroke:"LineChart_tooltipStroke__3IHSg"}},535:function(e,t,a){e.exports=a(893)},71:function(e,t,a){e.exports={pieChart:"OverviewPie_pieChart__2EFDR",pieLabel:"OverviewPie_pieLabel__uPT91",pieLabelStroke:"OverviewPie_pieLabelStroke__1SyMy",legendLabel:"OverviewPie_legendLabel__l9Ve0",legend:"OverviewPie_legend__2UIkD",hideshow:"OverviewPie_hideshow__3BMBg"}},72:function(e,t,a){e.exports={pieChart:"OverviewPie_pieChart__15fCk",pieLabel:"OverviewPie_pieLabel__dryXg",pieLabelStroke:"OverviewPie_pieLabelStroke__uz8Cz",legendLabel:"OverviewPie_legendLabel__2ffI6",legend:"OverviewPie_legend__Svigk",hideshow:"OverviewPie_hideshow__8JcRd"}},774:function(e,t,a){},775:function(e,t,a){e.exports=a.p+"static/media/NotoSansMono-CondensedBold.ad9e48a0.ttf"},777:function(e,t,a){},893:function(e,t,a){"use strict";a.r(t);a(536),a(585);var n=a(0),r=a.n(n),c=a(407),l=a.n(c),i=(a(774),a(775),a(11)),o=a(248),s=a.n(o),u=(a(777),a(119)),m=function(){return r.a.createElement("div",{className:"lds-spinner"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},d=function(e){var t=e.children,a=e.className;return r.a.createElement("li",{className:"flex-card-listitem".concat(a?" "+a:"")},r.a.createElement("div",{className:"flex-card"},t))},f=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"\xa9 2020 ",r.a.createElement("a",{href:"https://eternallogger.com"},"George Huang"),". All rights reserved."))},h=a(5),v=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){Object(h.j)("https://covid19dashboard.cdc.gov.tw/dash3").then((function(e){(e=function(e){return Object.keys(e).forEach((function(t){"number"!==typeof e[t]&&(e[t]=e[t].replace(",",""),e[t]=+e[t])})),e}(e[0])).confirmed=+e["\u78ba\u8a3a"],e.recovered=+e["\u89e3\u9664\u9694\u96e2"],e.deaths=+e["\u6b7b\u4ea1"],e.excludedYesterday=+e["\u6628\u65e5\u6392\u9664"],e.confirmedYesterday=+e["\u6628\u65e5\u78ba\u8a3a"],e.testsYesterday=+e["\u6628\u65e5\u9001\u9a57"],e.tests=+e["\u9001\u9a57"],e.excluded=+e["\u6392\u9664"],r(e)}))}),[]),a},E=a(71),p=a.n(E),g=function(e){var t=e.colorScale,a=e.tickSpacing,n=void 0===a?20:a,c=e.tickSize,l=void 0===c?10:c,i=e.tickTextOffset,o=void 0===i?20:i,s=e.onHover,u=e.hoveredValue,m=e.fadeOpacity,d=void 0===m?.2:m;return t.domain().map((function(e,a){return r.a.createElement("g",{key:t(e),className:p.a.legend,transform:"translate(0, ".concat(a*n,")"),onMouseEnter:function(){return s(e)},onMouseLeave:function(){return s(null)},opacity:u&&e!==u?d:1},r.a.createElement("circle",{fill:t(e),r:l}),r.a.createElement("text",{dy:".32em",x:o},e))}))},b=function(e){var t=e.items;return r.a.createElement("div",{className:"small-table"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u7e3d\u78ba\u8a3a\u6578"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"numerical-data"},t.reduce((function(e,t){return e+t.value}),0).toLocaleString())))))},y=function(e){var t=e.pieData,a=e.pieArc,n=e.colorPie,c=e.colorValue,l=e.dataType,i=e.onHover,o=e.hoveredValue,s=e.fadeOpacity,u=void 0===s?.2:s;return n(t).map((function(e){var t=l(e.data);return r.a.createElement("g",{className:p.a.pieChart,opacity:o&&t!==o?u:1,onMouseEnter:function(){return i(t)},onClick:function(){return i(t)},onMouseLeave:function(){return i(null)},key:l(e.data)},r.a.createElement("path",{fill:c(e.data),d:a(e)}))}))},O=function(e){var t=e.pieData,a=e.pieArc,n=e.colorPie,c=e.dataType,l=e.dataValue,i=e.onHover,o=e.hoveredValue,s=e.fadeOpacity,u=void 0===s?.2:s,m=e.labelOffsetY,d=void 0===m?18:m;return n(t).map((function(e){var n=c(e.data),s=a.centroid(e);e.endAngle-e.startAngle<.25&&(s[0]*=2.3,s[1]*=2.3);var m=(l(e.data)/Object(h.s)(t,(function(e){return e.value}))*100).toFixed(1);return r.a.createElement("g",{className:p.a.pieChart,opacity:o&&n!==o?u:1,onMouseEnter:function(){return i(n)},onClick:function(){return i(n)},onMouseLeave:function(){return i(null)},key:c(e.data)},r.a.createElement("text",{className:p.a.pieLabelStroke,transform:"translate(".concat(s,")"),textAnchor:"middle",dominantBaseline:"middle"},r.a.createElement("tspan",{className:"num",x:"0",dy:-d/2,fill:"black"},m,"%"),r.a.createElement("tspan",{x:"0",dy:d,fill:"#635F5D"},l(e.data).toLocaleString())),r.a.createElement("text",{className:p.a.pieLabel,transform:"translate(".concat(s,")"),textAnchor:"middle",dominantBaseline:"middle"},r.a.createElement("tspan",{className:"num",x:"0",dy:-d/2,fill:"black"},m,"%"),r.a.createElement("tspan",{x:"0",dy:d,fill:"#635F5D"},l(e.data).toLocaleString())))}))},w=window.innerWidth<1e3?window.innerWidth:1e3,k=w>480?.6*w:.7*w,x=.66*w/2,j=.7*x,N=.66*w,_=k/2,S=Object(h.a)().innerRadius(0).outerRadius(j),C=function(e){return e.case},D=function(e){return e.value},L=function(e){return e.color},A=function(e){var t=e.data,a=Object(n.useState)(null),c=Object(i.a)(a,2),l=c[0],o=c[1],s=[{case:"\u89e3\u9664\u9694\u96e2",value:t.recovered,color:"#6BBBA1"},{case:"\u75c5\u4e2d",value:t.confirmed-t.recovered-t.deaths,color:"#E25A42"},{case:"\u6b7b\u4ea1",value:t.deaths,color:"#BD2D28"}],u=Object(n.useMemo)((function(){return Object(h.l)().sort(null).value(D)}),[]),m=Object(n.useMemo)((function(){return Object(h.o)().domain(s.map(C)).range(s.map(L))}),[s]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(b,{items:s,dataType:C,dataValue:D}),r.a.createElement("svg",{viewBox:"0 0 ".concat(w," ").concat(k),preserveAspectRatio:"xMinYMid"},r.a.createElement("g",{transform:"translate(".concat(x,",").concat(k/2,")")},r.a.createElement(y,{pieData:s,colorPie:u,colorValue:L,pieArc:S,dataType:C,onHover:o,hoveredValue:l,fadeOpacity:.3}),r.a.createElement(O,{pieData:s,colorPie:u,pieArc:S,dataType:C,dataValue:D,onHover:o,hoveredValue:l,fadeOpacity:.3})),r.a.createElement("g",{transform:"translate(".concat(N,", ").concat(_,")")},r.a.createElement("text",{className:p.a.legendLabel,x:-7,y:-26},"\u6848\u4f8b\u5225"),r.a.createElement(g,{colorScale:m,tickSpacing:26,tickSize:8,tickTextOffset:16,onHover:o,hoveredValue:l,fadeOpacity:.3}))))},V=function(){return r.a.createElement("p",{className:"footnote"},"\u8cc7\u6599\u4f86\u6e90\uff1a",r.a.createElement("a",{href:"https://sites.google.com/cdc.gov.tw/2019ncov/taiwan"},"\u885b\u751f\u798f\u5229\u90e8\u75be\u75c5\u7ba1\u5236\u7f72"))},F=function(e){var t=e.id;return r.a.createElement("div",{className:"wrap-collapsible"},r.a.createElement("input",{id:t,className:"toggle",type:"checkbox"}),r.a.createElement("label",{htmlFor:t,className:"lbl-toggle"},"\u9019\u5f35\u5716\u8868\u53ef\u4ee5\u600e\u9ebc\u770b\uff1f"),r.a.createElement("div",{className:"collapsible-content"},r.a.createElement("div",{className:"content-inner"},r.a.createElement("p",null,"\u9019\u5f35\u5716\u8868\u7684\u7528\u610f\u662f\u5448\u73fe\u6b64\u6642\u6b64\u523bCOVID-19\u5728\u53f0\u7063\u7684\u75ab\u60c5\u6982\u6cc1\u3002\u5de6\u4e0a\u89d2\u7684\u300c\u7e3d\u78ba\u8a3a\u6578\u300d\u4ee3\u8868\u7be9\u6aa2\u967d\u6027\u6848\u4f8b\u7684\u7e3d\u8a08\uff0c\u4e0d\u904e\uff0c\u7531\u65bc\u4e26\u975e\u6240\u6709\u4eba\u90fd\u7d93\u904e\u7be9\u6aa2\uff0c\u9019\u500b\u6578\u76ee\u4e26\u4e0d\u8db3\u4ee5\u4ee3\u8868\u793e\u6703\u4e2d\u771f\u6b63\u67d3\u75ab\u7684\u4eba\u6578\uff0c\u9802\u591a\u4ee3\u8868\u76ee\u524d\u5df2\u77e5\u7684\u78ba\u8a3a\u4eba\u6578\u800c\u5df2\u3002"),r.a.createElement("p",null,"\u6b63\u5982\u5713\u9905\u5716\u6240\u793a\uff0c\u7e3d\u78ba\u8a3a\u6578\u53ef\u4ee5\u7d30\u5206\u70ba\u4e09\u985e\uff1a\u75c5\u4e2d\u3001\u6b7b\u4ea1\u3001\u89e3\u9664\u9694\u96e2\u3002\u6b64\u8655\u5217\u51fa\u89e3\u9664\u9694\u96e2\u7684\u6bd4\u4f8b\uff0c\u7528\u610f\u5728\u986f\u793a\u53f0\u7063\u8ddd\u96e2\u75ab\u75c5\u7684\u7d42\u9ede\u9084\u6709\u591a\u9060\u3002\u4f46\u8981\u77e5\u9053\uff0c\u9019\u7d44\u300c\u6062\u5fa9\u9418\u300d\u5728\u75ab\u60c5\u8fc5\u901f\u589e\u6eab\u7684\u6642\u5019\u662f\u6709\u53ef\u80fd\u5012\u8f49\u7684\u3002\u75c5\u4e2d\u6848\u4f8b\u4ee3\u8868\u76ee\u524d\u9084\u672a\u5eb7\u5fa9\u3001\u6b63\u5728\u8207\u75be\u75c5\u596e\u9b25\u4e2d\u7684\u4eba\u5011\u3002\u6839\u64da\u300a\u7d10\u7d04\u6642\u5831\u300b",r.a.createElement("a",{href:"https://www.nytimes.com/interactive/2020/world/asia/china-coronavirus-contain.html"},"\u4e00\u7bc7\u75ab\u60c5\u7206\u767c\u521d\u671f\u7684\u5831\u5c0e"),"\uff0c\u5927\u591a\u6578\u67d3\u75ab\u8005\u6700\u7d42\u90fd\u6703\u5eb7\u5fa9\uff0c\u78ba\u8a3a\u8005\u7684\u6b7b\u4ea1\u6bd4\u4f8b\u53ef\u80fd\u6703\u5c0f\u65bc\u767e\u5206\u4e4b\u4e09\u3002"),r.a.createElement(V,null))))},M=function(e){var t=e.title;return r.a.createElement("div",{className:"chart-title"},t)},P=function(){var e=v();return e?r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{title:"COVID-19 \u53f0\u7063\u67d3\u75ab\u73fe\u6cc1"}),r.a.createElement(A,{data:e}),r.a.createElement(F,{id:"COVID-19 \u53f0\u7063\u67d3\u75ab\u73fe\u6cc1"})):r.a.createElement(m,null)},T=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){Object(h.j)("https://covid19dashboard.cdc.gov.tw/dash3").then((function(e){(e=function(e){return Object.keys(e).forEach((function(t){"number"!==typeof e[t]&&(e[t]=e[t].replaceAll(",",""),e[t]=+e[t])})),e}(e[0])).confirmed=+e["\u78ba\u8a3a"],e.recovered=+e["\u89e3\u9664\u9694\u96e2"],e.deaths=+e["\u6b7b\u4ea1"],e.excludedYesterday=+e["\u6628\u65e5\u6392\u9664"],e.confirmedYesterday=+e["\u6628\u65e5\u78ba\u8a3a"],e.testsYesterday=+e["\u6628\u65e5\u9001\u9a57"],e.tests=+e["\u9001\u9a57"],e.excluded=+e["\u6392\u9664"],r(e)}))}),[]),a},H=function(){return r.a.createElement("p",{className:"footnote"},"\u8cc7\u6599\u4f86\u6e90\uff1a",r.a.createElement("a",{href:"https://sites.google.com/cdc.gov.tw/2019ncov/taiwan"},"\u885b\u751f\u798f\u5229\u90e8\u75be\u75c5\u7ba1\u5236\u7f72"))},W=function(e){var t=e.id;return r.a.createElement("div",{className:"wrap-collapsible"},r.a.createElement("input",{id:t,className:"toggle",type:"checkbox"}),r.a.createElement("label",{htmlFor:t,className:"lbl-toggle"},"\u9019\u5f35\u5716\u8868\u53ef\u4ee5\u600e\u9ebc\u770b\uff1f"),r.a.createElement("div",{className:"collapsible-content"},r.a.createElement("div",{className:"content-inner"},r.a.createElement("p",null,"\u9019\u5f35\u5713\u9905\u5716\u7528\u4f86\u986f\u793a\u6b64\u6642\u6b64\u523bCOVID-19\u5728\u53f0\u7063\u7684\u7be9\u6aa2\u5de5\u4f5c\u73fe\u6cc1\u3002"),r.a.createElement("p",null,"\u6574\u584a\u5927\u9905\u8868\u793a\u53f0\u7063\u5f9e\u6709\u75ab\u60c5\u4ee5\u4f86\u7d2f\u8a08\u7684\u6aa2\u9a57\u4ef6\u6578\uff1b\u8981\u6ce8\u610f\u4ef6\u6578\u4e0d\u4ee3\u8868\u4eba\u6578\uff0c\u56e0\u70ba\u4e00\u500b\u4eba\u53ef\u80fd\u6aa2\u9a57\u4e0d\u53ea\u4e00\u6b21\uff0c\u6240\u4ee5\u9019\u500b\u6578\u5b57\u6703\u6bd4\u7d2f\u8a08\u6aa2\u9a57\u4eba\u6578\u8981\u591a\u3002\u6574\u500b\u5927\u9905\u53c8\u5206\u6210\u5169\u5927\u584a\uff1a"),r.a.createElement("ul",null,r.a.createElement("li",null,"\u7070\u8272\u7684\uff1a\u5df2\u6aa2\u9a57\uff0c\u672a\u901a\u5831\u3002"),r.a.createElement("li",null,"\u5f69\u8272\u7684\uff1a\u5df2\u901a\u5831\u6848\u4f8b\u3002")),r.a.createElement("p",null,"\u4e26\u975e\u6240\u6709\u7684\u6aa2\u9a57\u6848\u4f8b\u90fd\u9808\u901a\u5831\uff0c\u7531",r.a.createElement("a",{href:"https://www.cdc.gov.tw/Category/MPage/np0wef4IjYh9hvbiW2BnoQ#collapseOne84473"},"\u75be\u7ba1\u7f72\u7684\u898f\u5b9a"),"\u770b\u4f86\uff0c\u9a57\u5fc3\u5b89\u7684\u6848\u4f8b\u5c31\u4e0d\u6703\u901a\u5831\u4e0a\u50b3\u3002\u7136\u800c\uff0c\u9019\u500b\u7070\u8272\u5340\u584a\u537b\u4e5f\u662f\u76f2\u9ede\u6240\u5728\u3002\u53f0\u7063\u7531\u65bc\u4e0a\u50b3\u901a\u5831\u7cfb\u7d71\u5b58\u5728\u300c\u585e\u8eca\u300d\u7684\u554f\u984c\uff0c\u4ee3\u8868\u6709\u4e9b\u5df2\u7d93\u6aa2\u9a57\u4e14\u7b26\u5408\u901a\u5831\u6a19\u6e96\u7684\u6848\u4f8b\u4e26\u6c92\u6709\u5373\u6642\u901a\u5831\u3002\u9019\u4e9b\u6848\u4f8b\u4ee5\u53ca\u672a\u4f86\u53ef\u80fd\u7684\u300c\u6821\u6b63\u56de\u6b78\u300d\u90fd\u5305\u7d0d\u5728\u7070\u8272\u7684\u300c\u5df2\u6aa2\u9a57\uff0c\u672a\u901a\u5831\u300d\u5340\u584a\u4e2d\u3002\u5927\u9905\u7684\u5f69\u8272\u90e8\u5206\u5247\u662f\u5df2\u901a\u5831\u7684\u4ef6\u6578\uff0c\u9019\u53c8\u53ef\u4ee5\u5340\u5206\u70ba\u4e09\u584a\uff1a"),r.a.createElement("ul",null,r.a.createElement("li",null,"\u901a\u5831\u78ba\u8a3a\u3002"),r.a.createElement("li",null,"\u901a\u5831\u6392\u9664\u3002"),r.a.createElement("li",null,"\u901a\u5831\u5f85\u78ba\u8a8d\u3002")),r.a.createElement("p",null,"\u7372\u901a\u5831\u7684\u6848\u4f8b\u6b63\u5e38\u4f86\u8aaa\u53ea\u6709\u5169\u500b\u53ef\u80fd\uff0c\u4e0d\u662f\u78ba\u8a3a\u5c31\u662f\u6392\u9664\uff0c\u56e0\u6b64\u4e0d\u61c9\u8a72\u5b58\u5728\u7b2c\u4e09\u985e\u3002\u7136\u800c\u5728\u901a\u5831\u4e4b\u5f8c\u3001\u78ba\u8a8d\u6aa2\u9a57\u7d50\u679c\u4e4b\u524d\uff0c\u9084\u662f\u5b58\u5728\u6642\u9593\u5dee\u3002\u64da",r.a.createElement("a",{href:"https://health.udn.com/health/story/120950/5479893"},"\u300a\u806f\u5408\u5831\u5143\u6c23\u7db2\u300b\u7684\u5831\u5c0e"),"\uff0c\u6b64\u8655\u7684\u843d\u5dee\u5927\u591a\u4f86\u81ea\u65bc\u5404\u7a2e\u7f3a\u4ef6\uff0c\u4e5f\u5305\u62ec\u6b63\u5728\u6aa2\u9a57\u4e2d\uff0c\u6216\u662f\u9810\u5148\u901a\u5831\u537b\u5c1a\u672a\u63a1\u6aa2\u7684\u60c5\u5f62\u3002"),r.a.createElement(H,null))))},R=a(72),B=a.n(R),I=function(e){var t=e.colorScale,a=e.tickSpacing,n=void 0===a?20:a,c=e.tickSize,l=void 0===c?10:c,i=e.tickTextOffset,o=void 0===i?20:i,s=e.onHover,u=e.hoveredValue,m=e.fadeOpacity,d=void 0===m?.2:m;return t.domain().map((function(e,a){return r.a.createElement("g",{key:t(e),className:B.a.legend,transform:"translate(0, ".concat(a*n,")"),onMouseEnter:function(){return s(e)},onMouseLeave:function(){return s(null)},opacity:u&&e!==u?d:1},r.a.createElement("circle",{fill:t(e),r:l}),r.a.createElement("text",{dy:".32em",x:o},e))}))},Y=function(e){var t=e.items,a=e.dataType,n=e.dataValue;return r.a.createElement("div",{className:"small-table"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,t.map((function(e){return r.a.createElement("th",{key:a(e)},a(e))})))),r.a.createElement("tbody",null,r.a.createElement("tr",null,t.map((function(e,t){return r.a.createElement("td",{className:"numerical-data",key:t},n(e).toLocaleString())}))))))},z=function(e){var t=e.pieData,a=e.pieArc,n=e.colorPie,c=e.colorValue,l=e.dataType,i=e.onHover,o=e.hoveredValue,s=e.fadeOpacity,u=void 0===s?.2:s;return n(t).map((function(e){var t=l(e.data);return r.a.createElement("g",{className:B.a.pieChart,opacity:o&&t!==o?u:1,onMouseEnter:function(){return i(t)},onClick:function(){return i(t)},onMouseLeave:function(){return i(null)},key:l(e.data)},r.a.createElement("path",{fill:c(e.data),d:a(e)}))}))},G=function(e){var t=e.pieData,a=e.pieArc,n=e.colorPie,c=e.dataType,l=e.dataValue,i=e.onHover,o=e.hoveredValue,s=e.fadeOpacity,u=void 0===s?.2:s,m=e.labelOffsetY,d=void 0===m?18:m;return n(t).map((function(e){var n=c(e.data),s=a.centroid(e);e.endAngle-e.startAngle<.25&&(s[0]*=2.4,s[1]*=2.4);var m=(l(e.data)/Object(h.s)(t,(function(e){return e.value}))*100).toFixed(1);return r.a.createElement("g",{className:B.a.pieChart,opacity:o&&n!==o?u:1,onMouseEnter:function(){return i(n)},onClick:function(){return i(n)},onMouseLeave:function(){return i(null)},key:c(e.data)},r.a.createElement("text",{className:B.a.pieLabelStroke,transform:"translate(".concat(s,")"),textAnchor:"middle",dominantBaseline:"middle"},r.a.createElement("tspan",{className:"num",x:"0",dy:-d/2,fill:"black"},m,"%"),r.a.createElement("tspan",{x:"0",dy:d,fill:"#635F5D"},l(e.data).toLocaleString())),r.a.createElement("text",{className:B.a.pieLabel,transform:"translate(".concat(s,")"),textAnchor:"middle",dominantBaseline:"middle"},r.a.createElement("tspan",{className:"num",x:"0",dy:-d/2,fill:"black"},m,"%"),r.a.createElement("tspan",{x:"0",dy:d,fill:"#635F5D"},l(e.data).toLocaleString())))}))},J=window.innerWidth<1e3?window.innerWidth:1e3,Z=J>480?.7*J:.8*J,K=.66*J/2,q=.7*K,Q=.66*J,U=K-13,X=Object(h.a)().innerRadius(0).outerRadius(q),$=function(e){return e.case},ee=function(e){return e.value},te=function(e){return e.color},ae=function(e){var t=e.data,a=e.testsData,c=Object(n.useState)(null),l=Object(i.a)(c,2),o=l[0],s=l[1],u=[{case:"\u7d2f\u8a08\u6aa2\u9a57\u4ef6\u6578",value:a.tests},{case:"\u7d2f\u8a08\u901a\u5831\u4ef6\u6578",value:t.tests}],m=[{case:"\u6aa2\u9a57\u672a\u901a\u5831",value:a.tests-t.tests,color:"#E5E2E0"},{case:"\u901a\u5831\u78ba\u8a3a",value:t.confirmed,color:"#005D6E"},{case:"\u901a\u5831\u6392\u9664",value:t.excluded,color:"#42A5B3"},{case:"\u901a\u5831\u5f85\u78ba\u8a8d",value:t.tests-t.excluded-t.confirmed,color:"#BD2D28"}],d=Object(n.useMemo)((function(){return Object(h.l)().sort(null).value(ee)}),[]),f=Object(n.useMemo)((function(){return Object(h.o)().domain(m.map($)).range(m.map(te))}),[m]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{items:u,dataType:$,dataValue:ee}),r.a.createElement("svg",{viewBox:"0 0 ".concat(J," ").concat(Z),preserveAspectRatio:"xMinYMid"},r.a.createElement("g",{transform:"translate(".concat(K,",").concat(Z/2,")")},r.a.createElement(z,{pieData:m,colorPie:d,colorValue:te,pieArc:X,dataType:$,dataValue:ee,onHover:s,hoveredValue:o,fadeOpacity:.3}),r.a.createElement(G,{pieData:m,colorPie:d,colorValue:te,pieArc:X,dataType:$,dataValue:ee,onHover:s,hoveredValue:o,fadeOpacity:.3})),r.a.createElement("g",{transform:"translate(".concat(Q,", ").concat(U,")")},r.a.createElement("text",{className:B.a.legendLabel,x:-7,y:-26},"\u7be9\u6aa2\u73fe\u6cc1"),r.a.createElement(I,{colorScale:f,tickSpacing:26,tickSize:8,tickTextOffset:16,onHover:s,hoveredValue:o,fadeOpacity:.3}))))},ne=function(e){var t=e.title;return r.a.createElement("div",{className:"chart-title"},t)},re=function(){var e=T(),t=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){Object(h.j)("https://covid19dashboard.cdc.gov.tw/dash7").then((function(e){(e=e[0]).peopleTested=+e["\u6aa2\u9a57\u4eba\u6578"].replaceAll(",",""),e.tests=+e["\u6aa2\u9a57\u4ef6\u6578"].replaceAll(",",""),e.date=new Date(e["\u8cc7\u6599\u66f4\u65b0\u6642\u9593"]),r(e)}))}),[]),a}();return e&&t?r.a.createElement(r.a.Fragment,null,r.a.createElement(ne,{title:"COVID-19 \u53f0\u7063\u7be9\u6aa2\u73fe\u6cc1"}),r.a.createElement(ae,{data:e,testsData:t}),r.a.createElement(W,{id:"COVID-19 \u53f0\u7063\u7be9\u6aa2\u73fe\u6cc1"})):r.a.createElement(m,null)},ce=Object(h.u)("%Y-%m-%d"),le=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=!0;return Object(h.f)("https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/jhu/new_cases.csv").then((function(t){e&&r(function(e){return e.map((function(e){return{date:ce(e.date),newCases:+e.Taiwan}}))}(t))})),function(){e=!1}}),[]),a},ie=function(e){var t=e.title;return r.a.createElement("div",{className:"chart-title"},t)},oe=function(e){var t=e.items;return r.a.createElement("div",{className:"small-table"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,t.map((function(e,t){return r.a.createElement("th",{key:t},e.heading)})))),r.a.createElement("tbody",null,r.a.createElement("tr",null,t.map((function(e,t){return r.a.createElement("td",{className:"numerical-data",key:t},e.value)}))))))},se=a(51),ue=a.n(se),me=function(e){var t=e.xScale,a=e.innerHeight,c=e.tickFormat,l=e.tickCount,i=void 0===l?6:l,o=e.tickOffset,s=void 0===o?3:o,u=Object(n.useRef)();return Object(n.useEffect)((function(){var e=Object(h.r)(u.current),n=Object(h.d)(t).ticks(i,c).tickSize(-a).tickPadding(s);e.call(n).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-55)")}),[t,a,c,s,i]),r.a.createElement("g",{ref:u,className:ue.a.tick,transform:"translate(0, ".concat(a,")")})},de=function(e){var t=e.yScale,a=e.innerWidth,c=e.tickFormat,l=e.tickOffset,i=void 0===l?3:l,o=Object(n.useRef)();return Object(n.useEffect)((function(){var e=Object(h.r)(o.current),n=Object(h.e)(t).tickSize(a).tickPadding(i).tickFormat(c);e.call(n)}),[t,a,c,i]),r.a.createElement("g",{ref:o,className:ue.a.tick,transform:"translate(".concat(a,", 0)")})},fe=function(e){var t=e.value,a=e.xScale,n=e.innerHeight,c=a(t),l=n;return r.a.createElement("line",{className:ue.a.markerLine,x1:c,y1:0,x2:c,y2:l})},he=a(912),ve=function(e){var t=e.margin,a=e.data,c=e.areaGenerator,l=e.onHover,i=e.innerWidth,o=e.innerHeight;return Object(n.useMemo)((function(){var e=a.map((function(e){return[c.x()(e),c.y()(e)]})),n=he.a.from(e).voronoi([0,0,i+t.right,o]);return r.a.createElement("g",{className:ue.a.voronoi},e.map((function(e,t){return r.a.createElement("path",{key:t,onPointerEnter:function(){return l(a[t])},d:n.renderCell(t)})})))}),[a,c,o,i,l,t.right])},Ee=window.innerWidth<1e3?window.innerWidth:1e3,pe=Ee>480?.6*Ee:1*Ee,ge={top:20,right:0,bottom:70,left:40},be=function(e){return e.date},ye=Object(h.t)("%-m/%-d, %Y"),Oe=Object(h.t)("%-m/%-d"),we=function(e){return e.newCases},ke=Object(h.i)("~s"),xe=function(e){return ke(e)},je=function(e){var t=e.data,a=Object(n.useState)(t[t.length-1]),c=Object(i.a)(a,2),l=c[0],o=c[1],s=pe-ge.top-ge.bottom,u=Ee-ge.left-ge.right,m=Object(n.useMemo)((function(){return Object(h.p)().domain(Object(h.h)(t,be)).range([0,u]).nice()}),[t,u]),d=Object(n.useMemo)((function(){return Object(h.n)().domain([0,Object(h.k)(t,we)]).range([s,0]).nice()}),[t,s]),f=Object(n.useCallback)(o,[o]),v=Object(n.useMemo)((function(){return Object(h.b)().x((function(e){return m(be(e))})).y1((function(e){return d(we(e))})).y0(d(0)).curve(h.g)}),[m,d]),E=function(e){var t=e.activeData,a=e.className;return r.a.createElement("text",{className:a,textAnchor:"end",x:0,y:-35},r.a.createElement("tspan",{x:"-10",dy:"0",fontWeight:"bold"},t.newCases.toLocaleString(),"\u4f8b"),r.a.createElement("tspan",{x:"-10",dy:"1.5em"},Oe(t.date)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{viewBox:"0 0 ".concat(Ee," ").concat(pe),preserveAspectRatio:"xMinYMid"},r.a.createElement("g",{transform:"translate(".concat(ge.left,", ").concat(ge.top,")")},r.a.createElement(me,{innerHeight:s,xScale:m,tickFormat:ye,tickOffset:7,tickCount:Ee>480?6:2}),r.a.createElement(de,{innerWidth:u,yScale:d,tickOffset:7,tickFormat:xe}),r.a.createElement("g",{className:ue.a.marks},r.a.createElement("path",{d:v(t)})),l?r.a.createElement(r.a.Fragment,null,r.a.createElement("g",{className:ue.a.marks},r.a.createElement("path",{d:v(t)})),r.a.createElement(fe,{value:l.date,xScale:m,innerHeight:s}),r.a.createElement("g",{transform:"translate(".concat(v.x()(l),", ").concat(v.y1()(l),")")},r.a.createElement("circle",{className:ue.a.dataPoint,r:5}),r.a.createElement(E,{activeData:l,className:ue.a.tooltipStroke}),r.a.createElement(E,{activeData:l,className:ue.a.tooltip}))):null,r.a.createElement(ve,{margin:ge,onHover:f,data:t,areaGenerator:v,innerWidth:u,innerHeight:s}))))},Ne=function(){return r.a.createElement("p",{className:"footnote"},"\u8cc7\u6599\u4f86\u6e90\uff1aCenter for Systems Science and Engineering (CSSE) at Johns Hopkins University (",r.a.createElement("a",{href:"https://github.com/owid/covid-19-data/tree/master/public/data/jhu"},"Our Wolrd in Data"),")")},_e=function(e){var t=e.id;return r.a.createElement("div",{className:"wrap-collapsible"},r.a.createElement("input",{id:t,className:"toggle",type:"checkbox"}),r.a.createElement("label",{htmlFor:t,className:"lbl-toggle"},"\u9019\u5f35\u5716\u8868\u53ef\u4ee5\u600e\u9ebc\u770b\uff1f"),r.a.createElement("div",{className:"collapsible-content"},r.a.createElement("div",{className:"content-inner"},r.a.createElement("p",null,"\u9019\u5f35\u5716\u8868\u7528\u4f86\u986f\u793a\u75c5\u6bd2\u6bcf\u5929\u50b3\u64ad\u7684\u901f\u5ea6\u3002\u6bcf\u4e00\u500b\u8cc7\u6599\u9ede\u4ee3\u8868\u4e00\u5929\u5167\u65b0\u589e\u7684\u78ba\u8a3a\u6848\u4f8b\u6578\u3002"),r.a.createElement("p",null,"\u5728\u50b3\u67d3\u75c5\u589e\u6eab\u671f\u9593\uff0c\u4e00\u540d\u67d3\u75ab\u8005\u53ef\u80fd\u6703\u5c07\u75c5\u6bd2\u50b3\u67d3\u7d66\u4e00\u540d\u4ee5\u4e0a\u539f\u672c\u5065\u5eb7\u7684\u4eba\uff0c\u5982\u6b64\u4e00\u4f86\uff0c\u5f8c\u4e9b\u65e5\u5b50\u7684\u65b0\u589e\u6848\u4f8b\u5c31\u6703\u6bd4\u524d\u4e9b\u65e5\u5b50\u8981\u591a\u3002\u8209\u4f8b\u4f86\u8aaa\uff0c\u5047\u8a2d\u4eca\u5929\u9a57\u51fa\u4e86\u5341\u540d\u65b0\u7684\u78ba\u8a3a\u8005\uff0c\u800c\u6628\u5929\u53ea\u6709\u4e94\u540d\uff0c\u90a3\u6211\u5011\u53ef\u4ee5\u7c97\u7565\u5730\u770b\u4f5c\u662f\u6628\u5929\u7684\u4e94\u540d\u75c5\u60a3\u5404\u5225\u5c07\u75c5\u6bd2\u50b3\u67d3\u4e86\u4e8c\u500b\u4eba\u3002\u65bc\u662f\u300c\u4e8c\u300d\u5c31\u662f\u5716\u8868\u4e0a\u65b9\u5217\u7684\u300c\u589e\u9577\u56e0\u6578\u300d\u3002\u552f\u6709\u7576\u589e\u9577\u56e0\u6578\u7a69\u5b9a\u4f4e\u65bc\u4e00\uff0c\u6211\u5011\u624d\u6709\u6a5f\u6703\u770b\u5230\u75ab\u60c5\u7684\u7d42\u9ede\uff0c\u5426\u5247\u4fbf\u4ee3\u8868\u75ab\u60c5\u9084\u5728\u589e\u6eab\u968e\u6bb5\u3002"),r.a.createElement("p",null,"\u5c31\u5404\u570b\u7684\u7d93\u9a57\u770b\u4f86\uff0c\u7531\u65bc\u5927\u591a\u6578\u793e\u6703\u90fd\u662f\u4ee5\u9031\u70ba\u55ae\u4f4d\u5728\u904b\u4f5c\uff0c\u6240\u4ee5\u5149\u770b\u6bcf\u65e5\u7684\u65b0\u589e\u75c5\u4f8b\u6578\u4e0d\u4e00\u5b9a\u6e96\u3002\u70ba\u4e86\u907f\u514d\u904e\u5ea6\u89e3\u8b80\uff0c\u9019\u5f35\u5716\u8868\u5217\u51fa\u7684\u589e\u9577\u56e0\u6578\u4ee5\u9031\u5e73\u5747\u6578\u4f86\u8a08\u7b97\u3002"),r.a.createElement(Ne,null))))},Se=function(e,t){return e.reduce((function(e,a){return e+a[t]}),0)},Ce=function(){var e=le();if(!e)return r.a.createElement(m,null);var t=Se(e.slice(-7),"newCases")/7,a=Se(e.slice(-14,-7),"newCases")/7,n=[{heading:"\u4e0a\u9031\u5e73\u5747",value:Math.round(a).toLocaleString()},{heading:"\u672c\u9031\u5e73\u5747",value:Math.round(t).toLocaleString()},{heading:"\u589e\u9577\u56e0\u6578",value:(t/a).toFixed(2)}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,{title:"COVID-19 \u53f0\u7063\u6bcf\u65e5\u65b0\u589e\u78ba\u8a3a\u6848\u4f8b\u6578"}),r.a.createElement(oe,{items:n}),r.a.createElement(je,{data:e}),r.a.createElement(_e,{id:"COVID-19 \u53f0\u7063\u6bcf\u65e5\u65b0\u589e\u78ba\u8a3a\u6848\u4f8b\u6578"}))},De=function(e){var t=e.title;return r.a.createElement("div",{className:"chart-title"},t)},Le=function(e){var t=e.items;return r.a.createElement("div",{className:"small-table"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,t.map((function(e,t){return r.a.createElement("th",{key:t},e.heading)})))),r.a.createElement("tbody",null,r.a.createElement("tr",null,t.map((function(e,t){return r.a.createElement("td",{className:"numerical-data",key:t},e.value)}))))))},Ae=a(27),Ve=a.n(Ae),Fe=function(e){var t=e.xScale,a=e.innerHeight,c=e.tickFormat,l=e.tickCount,i=void 0===l?6:l,o=e.tickOffset,s=void 0===o?3:o,u=Object(n.useRef)();return Object(n.useEffect)((function(){var e=Object(h.r)(u.current),n=Object(h.d)(t).ticks(i,c).tickSize(-a).tickPadding(s);e.call(n).selectAll("text").style("text-anchor","end").attr("dx","-.8em").attr("dy",".15em").attr("transform","rotate(-55)")}),[t,a,c,s,i]),r.a.createElement("g",{ref:u,className:Ve.a.tick,transform:"translate(0, ".concat(a,")")})},Me=function(e){var t=e.yScale,a=e.innerWidth,c=e.tickFormat,l=e.tickCount,i=void 0===l?6:l,o=e.tickOffset,s=void 0===o?3:o,u=Object(n.useRef)();return Object(n.useEffect)((function(){var e=Object(h.r)(u.current),n=Object(h.e)(t).ticks(i).tickSize(a).tickPadding(s).tickFormat(c);e.call(n)}),[t,a,c,s,i]),r.a.createElement("g",{ref:u,className:Ve.a.tick,transform:"translate(".concat(a,", 0)")})},Pe=function(e){var t=e.value,a=e.xScale,n=e.innerHeight,c=a(t),l=n;return r.a.createElement("line",{className:Ve.a.markerLine,x1:c,y1:0,x2:c,y2:l})},Te=function(e){var t=e.value,a=e.yScale,n=e.innerWidth,c=e.labelOffset,l=void 0===c?10:c,i=a(t),o=n;return r.a.createElement(r.a.Fragment,null,r.a.createElement("line",{className:Ve.a.markerLine,x1:0,y1:i,x2:o,y2:i}),r.a.createElement("text",{className:Ve.a.tooltipStroke,textAnchor:"start",dominantBaseline:"hanging",x:l,y:a(t)+l,fontWeight:"bold"},"\u5168\u4eba\u53e3\u768475%"),r.a.createElement("text",{className:Ve.a.tooltip,textAnchor:"start",dominantBaseline:"hanging",x:l,y:a(t)+l,fontWeight:"bold"},"\u5168\u4eba\u53e3\u768475%"))},He=function(e){var t=e.margin,a=e.data,c=e.areaGenerator,l=e.onHover,i=e.innerWidth,o=e.innerHeight;return Object(n.useMemo)((function(){var e=a.map((function(e){return[c.x()(e),c.y()(e)]})),n=he.a.from(e).voronoi([0,0,i+t.right,o]);return r.a.createElement("g",{className:Ve.a.voronoi},e.map((function(e,t){return r.a.createElement("path",{key:t,onPointerEnter:function(){return l(a[t])},d:n.renderCell(t)})})))}),[a,c,o,i,l,t.right])},We=function(e){var t=e.colorScale,a=e.tickSpacing,n=void 0===a?20:a,c=e.tickSize,l=void 0===c?10:c,i=e.tickTextOffset,o=void 0===i?20:i;return t.domain().map((function(e,a){return r.a.createElement("g",{key:t(e),className:Ve.a.legend,transform:"translate(0, ".concat(a*n,")")},r.a.createElement("circle",{fill:t(e),r:l}),r.a.createElement("text",{dy:".32em",x:o,className:Ve.a.legendStroke},e),r.a.createElement("text",{dy:".32em",x:o,className:Ve.a.legend},e))}))},Re=window.innerWidth<1e3?window.innerWidth:1e3,Be=Re>480?.6*Re:1*Re,Ie={top:20,right:65,bottom:80,left:50},Ye=function(e){return e.date},ze=Object(h.t)("%-m/%-d, %Y"),Ge=Object(h.t)("%-m/%-d, %Y"),Je=function(e){return e.people_vaccinated},Ze=function(e){return e.people_fully_vaccinated},Ke=Object(h.i)("~s"),qe=function(e){return Ke(e).replace("M","\u767e\u842c")},Qe=function(e){var t=e.data,a=Object(n.useState)(t[t.length-1]),c=Object(i.a)(a,2),l=c[0],o=c[1],s=Be-Ie.top-Ie.bottom,u=Re-Ie.left-Ie.right,m=u-50,d=Ie.top+13,f=Object(n.useMemo)((function(){return Object(h.p)().domain(Object(h.h)(t,Ye)).range([0,u]).nice()}),[t,u]),v=Object(n.useMemo)((function(){return Object(h.n)().domain([0,23514196]).range([s,0]).nice()}),[s]),E=Object(n.useMemo)((function(){return Object(h.o)().domain(["\u5df2\u63a5\u7a2e\u4e00\u6b21","\u5df2\u5145\u5206\u63a5\u7a2e"]).range(["#7098a5","#b1c1be"])}),[]),p=Object(n.useCallback)(o,[o]),g=Object(n.useMemo)((function(){return Object(h.b)().x((function(e){return f(Ye(e))})).y1((function(e){return v(Je(e))})).y0(v(0))}),[f,v]),b=Object(n.useMemo)((function(){return Object(h.b)().x((function(e){return f(Ye(e))})).y1((function(e){return v(Ze(e))})).y0(v(0))}),[f,v]),y=function(e){var t=e.activeData,a=e.scaleValue,n=e.className,c=e.position;return r.a.createElement("text",{className:n,textAnchor:"middle",dominantBaseline:"middle",x:0,y:"down"===c?20:-15},r.a.createElement("tspan",{x:"0",dy:"0",fontWeight:"bold"},a(t).toLocaleString(),"\u4eba (",Object(h.i)(".0%")(a(t)/23514196),")"),"up"===c?r.a.createElement("tspan",{x:"0",dy:"-1.3em"},Ge(t.date)):null)};return r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{viewBox:"0 0 ".concat(Re," ").concat(Be),preserveAspectRatio:"xMinYMid"},r.a.createElement("g",{transform:"translate(".concat(Ie.left,", ").concat(Ie.top,")")},r.a.createElement(Fe,{innerHeight:s,xScale:f,tickFormat:ze,tickOffset:7,tickCount:Re>480?6:2}),r.a.createElement(Me,{innerWidth:u,yScale:v,tickOffset:7,tickFormat:qe}),r.a.createElement("g",{className:Ve.a.primary},r.a.createElement("path",{d:g(t)})),r.a.createElement("g",{className:Ve.a.secondary},r.a.createElement("path",{d:b(t)})),l?r.a.createElement(r.a.Fragment,null,r.a.createElement(Pe,{value:l.date,xScale:f,innerHeight:s}),r.a.createElement("g",{transform:"translate(".concat(g.x()(l),", ").concat(g.y1()(l),")")},r.a.createElement("circle",{className:Ve.a.dataPoint,r:5}),r.a.createElement(y,{activeData:l,scaleValue:Je,className:Ve.a.tooltipStroke,position:"up"}),r.a.createElement(y,{activeData:l,scaleValue:Je,className:Ve.a.tooltip,position:"up"})),r.a.createElement("g",{transform:"translate(".concat(g.x()(l),", ").concat(b.y1()(l),")")},r.a.createElement("circle",{className:Ve.a.dataPoint,r:5}),r.a.createElement(y,{activeData:l,scaleValue:Ze,className:Ve.a.tooltipStroke,position:"down"}),r.a.createElement(y,{activeData:l,scaleValue:Ze,className:Ve.a.tooltip,position:"down"}))):null,r.a.createElement(Te,{value:17635647,yScale:v,innerWidth:u}),r.a.createElement(He,{margin:Ie,onHover:p,data:t,areaGenerator:g,innerWidth:u,innerHeight:s})),r.a.createElement("g",{transform:"translate(".concat(m,", ").concat(d,")")},r.a.createElement(We,{colorScale:E,tickSpacing:26,tickSize:8,tickTextOffset:16}))))},Ue=function(){return r.a.createElement("p",{className:"footnote"},"\u8cc7\u6599\u4f86\u6e90\uff1a\u885b\u751f\u798f\u5229\u90e8\u75be\u75c5\u7ba1\u5236\u7f72\uff08",r.a.createElement("a",{href:"https://github.com/owid/covid-19-data/blob/master/public/data/vaccinations/country_data/Taiwan.csv"},"Our Wolrd in Data"),"\uff09")},Xe=function(e){var t=e.id;return r.a.createElement("div",{className:"wrap-collapsible"},r.a.createElement("input",{id:t,className:"toggle",type:"checkbox"}),r.a.createElement("label",{htmlFor:t,className:"lbl-toggle"},"\u9019\u5f35\u5716\u8868\u53ef\u4ee5\u600e\u9ebc\u770b\uff1f"),r.a.createElement("div",{className:"collapsible-content"},r.a.createElement("div",{className:"content-inner"},r.a.createElement("p",null,"\u9019\u5f35\u5716\u8868\u7684\u7528\u610f\u5728\u65bc\u5224\u65b7\uff1a\u4ee5\u65bd\u6253\u75ab\u82d7\u70ba\u9632\u75ab\u624b\u6bb5\u800c\u8a00\uff0c\u53f0\u7063\u8ddd\u96e2\u5e73\u606fCOVID-19\u75ab\u60c5\u9084\u6709\u591a\u9060\u3002\u7531\u65bc\u76ee\u524d\u5e02\u9762\u4e0a\u7684\u75ab\u82d7\u5927\u591a\u9700\u8981\u6253\u5169\u5291\u624d\u7b97\u5b8c\u6210\u63a5\u7a2e\uff0c\u56e0\u6b64\u9019\u88e1\u4e5f\u5c07\u63a5\u7a2e\u4eba\u6b21\u5206\u70ba\u300c\u5df2\u63a5\u7a2e\u300d\u8207\u300c\u5145\u5206\u63a5\u7a2e\u300d\u5169\u7a2e\u3002"),r.a.createElement("p",null,"\u6839\u64da",r.a.createElement("a",{href:"https://www.who.int/zh/news-room/q-a-detail/herd-immunity-lockdowns-and-covid-19?gclid=Cj0KCQjw16KFBhCgARIsALB0g8K0rV9obZlpcbd2lFom_qKgbCe72ZnV_mqn8Z2AiNt5W3QRZFbMGCoaAshfEALw_wcB"},"\u4e16\u754c\u885b\u751f\u7d44\u7e54\u7684\u5efa\u8b70"),"\uff0c\u5c0d\u6297\u5927\u898f\u6a21\u50b3\u67d3\u7684\u6d41\u884c\u75c5\uff0c\u5c45\u5bb6\u9694\u96e2\u3001\u5c01\u9396\u7b49\u63aa\u65bd\u672c\u8eab\u4fbf\u6703\u5c0d\u500b\u4eba\u8207\u793e\u6703\u9020\u6210\u8ca0\u9762\u5f71\u97ff\uff0c\u662f\u70ba\u722d\u53d6\u6642\u9593\u4e0d\u5f97\u5df2\u800c\u70ba\u4e4b\u3002\u8981\u771f\u6b63\u5c0d\u6297COVID-19\uff0c\u4e16\u885b\u652f\u6301\u900f\u904e\u75ab\u82d7\u4f86\u9054\u5230\u300c\u7fa4\u9ad4\u514d\u75ab\u300d\u7684\u6548\u679c\u3002"),r.a.createElement("p",null,"\u8981\u5be6\u73fe\u300c\u7fa4\u9ad4\u514d\u75ab\u300d\uff0c\u5c31\u5f97\u8b93\u793e\u7fa4\u4e2d\u5927\u591a\u6578\u4eba\u90fd\u64c1\u6709\u6297\u9ad4\uff0c\u4eba\u6578\u4e00\u591a\uff0c\u75c5\u6bd2\u81ea\u7136\u5c31\u5c11\u4e86\u50b3\u64ad\u5a92\u4ecb\uff0c\u5f9e\u800c\u4e2d\u65b7\u50b3\u64ad\u93c8\u3002\u4eba\u8981\u53d6\u5f97\u6297\u9ad4\u6709\u5169\u7a2e\u624b\u6bb5\uff1a\u4e00\u662f\u8b93\u5927\u591a\u6578\u7684\u4eba\u90fd\u611f\u67d3\uff0c\u611f\u67d3\u904e\u5f8c\u81ea\u7136\u6703\u7522\u751f\u6297\u9ad4\uff0c\u4f46\u9019\u7a2e\u65b9\u6cd5\u5fc5\u7136\u6703\u5c0e\u81f4\u66f4\u591a\u75c5\u4f8b\u8207\u6b7b\u4ea1\u3002\u53e6\u4e00\u7a2e\u65b9\u6cd5\uff0c\u5c31\u662f\u65bd\u6253\u75ab\u82d7\u3002\u75ab\u82d7\u53ef\u4ee5\u5728\u4e0d\u8b93\u4eba\u751f\u75c5\u7684\u60c5\u6cc1\u4e0b\uff0c\u8a13\u7df4\u514d\u75ab\u7cfb\u7d71\u7522\u751f\u6297\u9ad4\uff0c\u6bd4\u8d77\u771f\u7684\u751f\u75c5\u662f\u5b89\u5168\u5f97\u591a\u7684\u505a\u6cd5\u3002"),r.a.createElement("p",null,"\u90a3\u9ebc\uff0c\u8981\u591a\u5c11\u4eba\u6253\u904e\u75ab\u82d7\u624d\u80fd\u9054\u5230\u7fa4\u9ad4\u514d\u75ab\u5462\uff1f\u8981\u8003\u616e\u7684\u689d\u4ef6\u4e3b\u8981\u6709\u4e8c\u3002\u9996\u5148\u662f\u6bcf\u7a2e\u75be\u75c5\u7684\u72c0\u6cc1\u4e0d\u540c\uff0c\u4f8b\u5982\u9ebb\u75b9\u9700\u898195%\u7684\u4eba\u53e3\u63a5\u7a2e\uff0c\u624d\u80fd\u4fdd\u8b77\u5269\u4e0b\u76845%\u3002\u5c31COVID-19\u4f86\u8aaa\uff0c\u5be6\u969b\u9700\u8981\u591a\u9ad8\u7684\u63a5\u7a2e\u7387\u76ee\u524d\u6c92\u6709\u4eba\u80fd\u5920\u80af\u5b9a\u3002\u4e0d\u904e\uff0c\u6839\u64da",r.a.createElement("a",{href:"https://wwwnc.cdc.gov/eid/article/27/5/20-4365_article"},"\u7f8e\u570b\u75be\u7ba1\u4e2d\u5fc3\u5728\u5361\u9054\u505a\u7684\u7814\u7a76"),"\uff0c\u793e\u7fa4\u4e2d\u82e5\u670965%\u81f370%\u7684\u4eba\u611f\u67d3\uff0c\u8a72\u793e\u7fa4\u5c31\u5f88\u63a5\u8fd1\u7fa4\u9ad4\u514d\u75ab\u3002"),r.a.createElement("p",null,"\u77e5\u9053\u4e86\u9019\u9ede\u4e4b\u5f8c\uff0c\u7b2c\u4e8c\u500b\u8981\u8003\u616e\u7684\u662f",r.a.createElement("a",{href:"https://www.thelancet.com/journals/lanmic/article/PIIS2666-5247(21)00069-0/fulltext"},"\u75ab\u82d7\u7684\u6548\u80fd"),"\u3002\u6bcf\u4e00\u6b3e\u75ab\u82d7\u7684\u6548\u80fd\u4e0d\u76e1\u76f8\u540c\uff0c\u82e5\u662f\u4f7f\u7528\u6548\u80fd\u7d0465%\u81f370%\u5de6\u53f3\u7684AstraZeneca-Oxford\u6216\u5b0c\u751f\u75ab\u82d7\uff0c\u5c31\u9700\u8981\u5168\u6c11\u65bd\u6253\u4f86\u9054\u5230\u7fa4\u9ad4\u514d\u75ab\uff1b\u82e5\u4f7f\u7528\u6548\u80fd\u905495%\u5de6\u53f3\u7684Pfizer-BioNTech\u6216Moderna-NIH\u75ab\u82d7\uff0c\u5247\u53ea\u970075%\u7684\u4eba\u53e3\u65bd\u6253\u5373\u53ef\u3002"),r.a.createElement(Ue,null))))},$e=function(){var e=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=!0;return Object(h.f)("https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/vaccinations/country_data/Taiwan.csv",h.c).then((function(t){e&&r(t)})),function(){e=!1}}),[]),a}();if(!e)return r.a.createElement(m,null);var t=[{heading:"\u75ab\u82d7\u7e3d\u6578",value:e[e.length-1].total_vaccinations.toLocaleString()},{heading:"\u5df2\u63a5\u7a2e\u4eba\u6578",value:e[e.length-1].people_vaccinated.toLocaleString()},{heading:"\u5145\u5206\u63a5\u7a2e\u4eba\u6578",value:e[e.length-1].people_fully_vaccinated.toLocaleString()}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(De,{title:"\u53f0\u7063 COVID-19 \u75ab\u82d7\u63a5\u7a2e\u4eba\u6b21"}),r.a.createElement(Le,{items:t}),r.a.createElement(Qe,{data:e}),r.a.createElement(Xe,{id:"\u53f0\u7063 COVID-19 \u75ab\u82d7\u63a5\u7a2e\u4eba\u6b21"}))},et=function(){return r.a.createElement("ul",{className:"flex-card-list"},r.a.createElement(d,null,r.a.createElement(P,null)),r.a.createElement(d,null,r.a.createElement(re,null)),r.a.createElement(d,null,r.a.createElement(Ce,null)),r.a.createElement(d,null,r.a.createElement($e,null)))},tt=a(31),at=a.n(tt),nt=a(249),rt=a(408),ct=a(913),lt=a(925),it=a(926),ot=a(923),st=a(914),ut=(a(927),a(918),a(915),a(910),a(920),a(916),a(921),function(e){if(e.ok)return e.json();throw Error(e.statusText)}),mt=function(e){return Object.entries(e).map((function(e){var t=Object(i.a)(e,2);return{x:t[0],y:t[1]}}))},dt=function(e){return e.map((function(e,t,a){return Object(rt.a)({},e,{y:t>0?e.y-a[t-1].y:0})}))},ft=function(e,t){return Number((e/t*100).toFixed(2))},ht=function(e,t,a){var r=Object(n.useState)(t),c=Object(i.a)(r,2),l=c[0],o=c[1],s=Object(n.useState)(e),u=Object(i.a)(s,2),m=u[0],d=u[1],f=Object(n.useState)(!0),h=Object(i.a)(f,2),v=h[0],E=h[1],p=Object(n.useState)(!1),g=Object(i.a)(p,2),b=g[0],y=g[1];return Object(n.useEffect)((function(){var e=!0;return function(){var t=Object(nt.a)(at.a.mark((function t(){var n;return at.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(m).then(ut);case 3:n=t.sent,e&&o(a&&a(n)||n),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),e&&y(!0),console.error(t.t0);case 11:e&&E(!1);case 12:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}()(),function(){e=!1}}),[a,m]),[{data:l,isLoading:v,isError:b},d]},vt=function(e){var t=e.data,a=e.chosen,c=e.setChosen,l=Object(n.useState)([]),o=Object(i.a)(l,2),s=o[0],u=o[1];return Object(n.useEffect)((function(){u(t.map((function(e){return{label:e.province?e.province+", "+e.country:e.country,value:e.province?e.province:e.country}})))}),[t]),r.a.createElement("div",{className:"dropdown-container"},"Select:"," ",r.a.createElement("select",{value:a,onChange:function(e){return c(e.currentTarget.value)}},s.map((function(e){var t=e.label,a=e.value;return r.a.createElement("option",{className:"region-name",key:t,value:a},t)}))))},Et=function(e){var t=e.data,a=e.x,n=e.y;return r.a.createElement("div",{className:"bar-chart"},r.a.createElement(ct.a,{containerComponent:r.a.createElement(lt.a,{labels:function(e){var t=e.datum;return t.x?"".concat(t.x,": ").concat(t._y):"".concat(t[a],": ").concat(t._y)},labelComponent:r.a.createElement(it.a,{constrainToVisibleArea:!0})}),padding:{top:20,bottom:40,left:60,right:20}},r.a.createElement(ot.a,{fixLabelOverlap:!0}),r.a.createElement(ot.a,{dependentAxis:!0,fixLabelOverlap:!0,style:{grid:{stroke:"#f3f5f6",strokeWidth:2,strokeDasharray:"15,15"}}}),r.a.createElement(st.a,{data:t,x:a,y:n})))},pt=function(){return r.a.createElement("div",{className:"lds-spinner"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))},gt=function(e){return r.a.createElement("div",{className:"radio-btn"},r.a.createElement("input",{id:e.id,type:"radio",onChange:e.changed,checked:e.isSelected}),r.a.createElement("label",{htmlFor:e.id},e.label))},bt=function(e){var t=e.items;return r.a.createElement("div",{className:"small-table"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,t.map((function(e){return r.a.createElement("th",{key:e.heading},e.heading)})))),r.a.createElement("tbody",null,r.a.createElement("tr",null,t.map((function(e,t){return r.a.createElement("td",{className:"numerical-data",key:t},e.datum.toLocaleString())}))))))},yt=function(e){var t=e.chart_type,a=ht("https://disease.sh/v3/covid-19/historical?lastdays=90",null),c=Object(i.a)(a,1)[0],l=c.data,o=c.isLoading,s=c.isError,u=Object(n.useState)("Taiwan"),m=Object(i.a)(u,2),d=m[0],f=m[1],h=Object(n.useState)({}),v=Object(i.a)(h,2),E=v[0],p=v[1],g={newCases:"Daily New Cases in ",newDeaths:"Daily Deaths in ",deathRate:"Fatality Rate in "};return Object(n.useEffect)((function(){if(l){var e=l.find((function(e){return e.province===d||!e.province&&e.country===d})),t=mt(e.timeline.cases),a=mt(e.timeline.deaths),n=dt(t),r=dt(a),c=t.map((function(e,t){return{x:e.x,y:ft(a[t].y,e.y)||0}}));p({country:e.country,province:e.province,cases:t,deaths:a,newCases:n,newDeaths:r,deathRate:c})}}),[l,d]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"chart-container"},r.a.createElement((function(e){var t=e.chart_type,a=e.area_name;return r.a.createElement("div",{className:"chart-title"},g[t],a)}),{chart_type:t,area_name:E.province?E.province+", "+E.country:E.country}),s&&r.a.createElement("div",null,"Something went wrong"),o?r.a.createElement(pt,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(vt,{data:l,chosen:d,setChosen:f}),r.a.createElement(bt,{items:function(e,t){return{newCases:[{heading:"Total cases",datum:t.cases?t.cases.slice(-1)[0].y:"loading"},{heading:"New cases",datum:t.newCases?t.newCases.slice(-1)[0].y:"loading"},{heading:"Growth Factor",datum:t.newCases?(t.newCases.slice(-1)[0].y/t.newCases.slice(-2)[0].y).toFixed(2):"loading"}],newDeaths:[{heading:"Total deaths",datum:t.deaths?t.deaths.slice(-1)[0].y:"loading"},{heading:"New deaths",datum:t.newDeaths?t.newDeaths.slice(-1)[0].y:"loading"},{heading:"Fatality Rate",datum:t.deathRate?t.deathRate.slice(-1)[0].y+"%":"loading"}],deathRate:[{heading:"Confirmed",datum:t.cases?t.cases.slice(-1)[0].y:"loading"},{heading:"Deaths",datum:t.deaths?t.deaths.slice(-1)[0].y:"loading"},{heading:"Fatality Rate",datum:t.deathRate?t.deathRate.slice(-1)[0].y+"%":"loading"}]}[e]}(t,E)}),r.a.createElement(Et,{data:E[t]}),r.a.createElement("p",{className:"footnote"},"Source: John Hopkins University CSSE (",r.a.createElement("a",{href:"https://github.com/NovelCOVID/API"},"NovelCOVID/API"),")"))))},Ot=function(){var e=ht("https://disease.sh/v2/countries",[]),t=Object(i.a)(e,1)[0],a=t.data,c=t.isLoading,l=t.isError,o=Object(n.useState)("cases"),s=Object(i.a)(o,2),u=s[0],m=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"chart-title"},"Areas with Outstanding Cases"),l&&r.a.createElement("div",null,"Something went wrong"),c?r.a.createElement(pt,null):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"radio-btn-container"},r.a.createElement(gt,{id:"1",changed:function(){return m("cases")},isSelected:"cases"===u,label:"Total cases"}),r.a.createElement(gt,{id:"2",changed:function(){return m("deaths")},isSelected:"deaths"===u,label:"Total deaths"}),r.a.createElement(gt,{id:"3",changed:function(){return m("todayCases")},isSelected:"todayCases"===u,label:"New cases"}),r.a.createElement(gt,{id:"4",changed:function(){return m("todayDeaths")},isSelected:"todayDeaths"===u,label:"New deaths"})),r.a.createElement("div",{className:"area-data-sets"},a.sort((function(e,t){return t[u]-e[u]})).slice(0,12).map((function(e){return r.a.createElement("div",{className:"data-set",key:e.country},r.a.createElement("div",{className:"country-name vertical-inverted-title"},e.country),r.a.createElement("div",{className:"set-title"},"Confirmed"),r.a.createElement("div",{className:"confirmed-count numerical-data"},e.cases.toLocaleString()),r.a.createElement("div",{className:"smaller-numbers numerical-data"},"(+",e.todayCases.toLocaleString(),")"),r.a.createElement("div",{className:"set-title"},"Deaths"),r.a.createElement("div",{className:"dead-count numerical-data"},e.deaths),r.a.createElement("div",{className:"smaller-numbers numerical-data"},"(+",e.todayDeaths,")"),r.a.createElement("div",{className:"set-title"},"Death Rate"),r.a.createElement("div",{className:"current-dead-rate numerical-data"},ft(e.deaths,e.cases),"%"))}))),r.a.createElement("p",{className:"footnote"},"Source: Johns Hopkins University Center for Systems Science and Engineering (",r.a.createElement("a",{href:"https://github.com/NovelCOVID/API"},"NovelCOVID / API"),")")))};var wt=function(){return r.a.createElement("div",{className:"app-title"},r.a.createElement("h1",null,"Covid",r.a.createElement("span",{className:"title-numerals"},"-19")," Dashboard"),r.a.createElement("h2",{className:"title-date"},function(){var e=new Date;return e.getFullYear()+"/"+(e.getMonth()+1)+"/"+e.getDate()}()))},kt=function(e){var t=e.view,a=e.setView,n=[{name:"Global",view_name:"global",className:"global"===t?"active view-button":"view-button"},{name:"\u53f0\u7063\u7248",view_name:"taiwan",className:"taiwan"===t?"active view-button":"view-button"}];return r.a.createElement("div",{className:"nav"},n.map((function(e){return r.a.createElement(xt,Object.assign({setView:a},e,{key:e.view_name}))})))},xt=function(e){var t=e.name,a=e.view_name,n=e.className,c=e.setView;return r.a.createElement("button",{onClick:function(e){e.preventDefault(),Object(u.setCookie)("view",a),c(a)},type:"button",className:n},t)},jt=a(94),Nt=a.n(jt),_t=function(e){var t=e.colorScale,a=e.tickSpacing,n=void 0===a?20:a,c=e.tickSize,l=void 0===c?10:c,i=e.tickTextOffset,o=void 0===i?20:i,s=e.onHover,u=e.hoveredValue,m=e.fadeOpacity,d=void 0===m?.2:m;return t.domain().map((function(e,a){return r.a.createElement("g",{key:t(e),className:Nt.a.legend,transform:"translate(0, ".concat(a*n,")"),onMouseEnter:function(){return s(e)},onMouseLeave:function(){return s(null)},opacity:u&&e!==u?d:1},r.a.createElement("circle",{fill:t(e),r:l}),r.a.createElement("text",{dy:".32em",x:o},e))}))},St=function(e){var t=e.items;e.dataType,e.dataValue;return r.a.createElement("div",{className:"small-table"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Total"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{className:"numerical-data"},t.reduce((function(e,t){return e+t.value}),0).toLocaleString())))))},Ct=function(e){var t=e.pieLabelPosition,a=e.dataValue,n=e.d,c=e.percentage,l=e.className,i=e.labelOffsetY,o=void 0===i?18:i;return r.a.createElement(r.a.Fragment,null,r.a.createElement("text",{className:l,transform:"translate(".concat(t,")"),textAnchor:"middle",dominantBaseline:"middle"},r.a.createElement("tspan",{className:"num",x:"0",dy:-o,fill:"black"},c,"%"),r.a.createElement("tspan",{x:"0",dy:o,fill:"#635F5D"},a(n.data).toLocaleString())))},Dt=function(e){var t=e.pieData,a=e.pieArc,n=e.colorPie,c=e.colorValue,l=e.dataType,i=e.dataValue,o=e.onHover,s=e.hoveredValue,u=e.fadeOpacity,m=void 0===u?.2:u;return n(t).map((function(e){var n=l(e.data),u=a.centroid(e);e.endAngle-e.startAngle<.25&&(u[0]*=2.2,u[1]*=2.2);var d=(i(e.data)/Object(h.s)(t,(function(e){return e.value}))*100).toFixed(1);return r.a.createElement("g",{className:Nt.a.pieChart,opacity:s&&n!==s?m:1,onMouseEnter:function(){return o(n)},onClick:function(){return o(n)},onMouseLeave:function(){return o(null)},key:l(e.data)},r.a.createElement("path",{fill:c(e.data),d:a(e)}),r.a.createElement(Ct,{pieLabelPosition:u,dataValue:i,d:e,percentage:d,className:Nt.a.pieLabelStroke}),r.a.createElement(Ct,{pieLabelPosition:u,dataValue:i,d:e,percentage:d,className:Nt.a.pieLabel}))}))},Lt=function(e){var t=e.children,a=e.id;return r.a.createElement("div",{className:"wrap-collapsible"},r.a.createElement("input",{id:a,className:"toggle",type:"checkbox"}),r.a.createElement("label",{htmlFor:a,className:"lbl-toggle"},"What does this chart tell us?"),r.a.createElement("div",{className:"collapsible-content"},r.a.createElement("div",{className:"content-inner"},t)))},At=window.innerWidth<1e3?window.innerWidth:1e3,Vt=At>480?.6*At:.7*At,Ft=.66*At/2,Mt=.7*Ft,Pt=.66*At,Tt=Vt/2,Ht=Object(h.a)().innerRadius(0).outerRadius(Mt),Wt=function(e){return e.case},Rt=function(e){return e.value},Bt=function(e){return e.color},It=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],c=t[1],l=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=!0;return Object(h.j)("https://disease.sh/v3/covid-19/all").then((function(t){e&&r(t)})),function(){e=!1}}),[]),a}();if(!l)return r.a.createElement(m,null);var o=[{case:"Deaths",value:l.deaths,color:"#BD2D28"},{case:"Recovered",value:l.recovered,color:"#6BBBA1"},{case:"Active",value:l.active,color:"#E25A42"}],s=Object(h.l)().sort(null).value(Rt),u=Object(h.o)().domain(o.map(Wt)).range(o.map(Bt));return r.a.createElement(r.a.Fragment,null,r.a.createElement((function(e){var t=e.title;return r.a.createElement("div",{className:"chart-title"},t)}),{title:"Worldwide Cases Overview"}),r.a.createElement(St,{items:o,dataType:Wt,dataValue:Rt}),r.a.createElement("svg",{viewBox:"0 0 ".concat(At," ").concat(Vt),preserveAspectRatio:"xMinYMid"},r.a.createElement("g",{transform:"translate(".concat(Ft,",").concat(Vt/2,")")},r.a.createElement(Dt,{pieData:o,colorPie:s,colorValue:Bt,pieArc:Ht,dataType:Wt,dataValue:Rt,onHover:c,hoveredValue:a,fadeOpacity:.3})),r.a.createElement("g",{transform:"translate(".concat(Pt,", ").concat(Tt,")")},r.a.createElement("text",{className:Nt.a.legendLabel,x:-7,y:-26},"Cases"),r.a.createElement(_t,{colorScale:u,tickSpacing:26,tickSize:8,tickTextOffset:16,onHover:c,hoveredValue:a,fadeOpacity:.3}))),r.a.createElement(Lt,{id:"Worldwide Cases Overview"},r.a.createElement("p",null,"This chart gives a rough overview of COVID-19 pandemic currently spreading around the world. The total number at the top left corner shows a number of confirmed cases ever tested positive. Since not everyone has been tested, this can only represent the cases we know so far."),r.a.createElement("p",null,'All tested positive cases are further divided into three categories as shown in the pie chart: active, recovered, and deaths. The recovered percentage is intended to give us an idea of how far we are from global recovery. The "clock", however, can turn back when the virus is spreading rapidly. Active cases represents the people still suffering from the disease. Most active cases will recover, but some will not. According to'," ",r.a.createElement("a",{href:"https://www.nytimes.com/interactive/2020/world/asia/china-coronavirus-contain.html"},"an early report"," "),"by ",r.a.createElement("i",null,"the New York Times"),", the fatality rate for those infected is likely to be lower than 3%."),r.a.createElement((function(){return r.a.createElement("p",{className:"footnote"},"Data source: Worldometers (",r.a.createElement("a",{href:"https://github.com/disease-sh/api"},"disease.sh"),")")}),null)))},Yt=Object(h.u)("%Y-%m-%d"),zt=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=!0;return Object(h.f)("https://raw.githubusercontent.com/owid/covid-19-data/master/public/data/jhu/new_cases.csv").then((function(t){e&&r(function(e){return e.map((function(e){return{date:Yt(e.date),newCases:+e.World}}))}(t))})),function(){e=!1}}),[]),a},Gt=function(e){var t=e.title;return r.a.createElement("div",{className:"chart-title"},t)},Jt=function(e){var t=e.items;return r.a.createElement("div",{className:"small-table"},r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,t.map((function(e,t){return r.a.createElement("th",{key:t},e.heading)})))),r.a.createElement("tbody",null,r.a.createElement("tr",null,t.map((function(e,t){return r.a.createElement("td",{className:"numerical-data",key:t},e.value)}))))))},Zt=a(52),Kt=a.n(Zt),qt=function(e){var t=e.xScale,a=e.innerHeight,c=e.tickFormat,l=e.tickCount,i=void 0===l?6:l,o=e.tickOffset,s=void 0===o?3:o,u=Object(n.useRef)();return Object(n.useEffect)((function(){var e=Object(h.r)(u.current),n=Object(h.d)(t).ticks(i,c).tickSize(-a).tickPadding(s);e.call(n)}),[t,a,c,s,i]),r.a.createElement("g",{ref:u,className:Kt.a.tick,transform:"translate(0, ".concat(a,")")})},Qt=function(e){var t=e.yScale,a=e.innerWidth,c=e.tickFormat,l=e.tickOffset,i=void 0===l?3:l,o=Object(n.useRef)();return Object(n.useEffect)((function(){var e=Object(h.r)(o.current),n=Object(h.e)(t).tickSize(a).tickPadding(i).tickFormat(c);e.call(n)}),[t,a,c,i]),r.a.createElement("g",{ref:o,className:Kt.a.tick,transform:"translate(".concat(a,", 0)")})},Ut=function(e){var t=e.value,a=e.xScale,n=e.innerHeight,c=a(t),l=n;return r.a.createElement("line",{className:Kt.a.markerLine,x1:c,y1:0,x2:c,y2:l})},Xt=function(e){var t=e.margin,a=e.data,c=e.areaGenerator,l=e.onHover,i=e.innerWidth,o=e.innerHeight;return Object(n.useMemo)((function(){var e=a.map((function(e){return[c.x()(e),c.y()(e)]})),n=he.a.from(e).voronoi([0,0,i+t.right,o]);return r.a.createElement("g",{className:Kt.a.voronoi},e.map((function(e,t){return r.a.createElement("path",{key:t,onPointerEnter:function(){return l(a[t])},d:n.renderCell(t)})})))}),[a,c,o,i,l,t.right])},$t=window.innerWidth<1e3?window.innerWidth:1e3,ea=$t>480?.6*$t:.8*$t,ta={top:20,right:0,bottom:40,left:65},aa=function(e){return e.date},na=Object(h.t)("%b, %Y"),ra=Object(h.t)("%-m/%-d, %y"),ca=function(e){return e.newCases},la=Object(h.i)(".2s"),ia=function(e){return la(e)},oa=function(e){var t=e.data,a=Object(n.useState)(),c=Object(i.a)(a,2),l=c[0],o=c[1],s=ea-ta.top-ta.bottom,u=$t-ta.left-ta.right,m=Object(n.useMemo)((function(){return Object(h.p)().domain(Object(h.h)(t,aa)).range([0,u]).nice()}),[t,u]),d=Object(n.useMemo)((function(){return Object(h.n)().domain([0,Object(h.k)(t,ca)]).range([s,0]).nice()}),[t,s]),f=Object(n.useCallback)(o,[o]),v=Object(n.useMemo)((function(){return Object(h.b)().x((function(e){return m(aa(e))})).y1((function(e){return d(ca(e))})).y0(d(0)).curve(h.g)}),[m,d]),E=function(e){var t=e.activeData,a=e.className;return r.a.createElement("text",{className:a,textAnchor:"end",x:0,y:-5},r.a.createElement("tspan",{x:"-10",dy:"0",fontWeight:"bold"},t.newCases.toLocaleString()),r.a.createElement("tspan",{x:"-10",dy:"1.5em"},ra(t.date)))};return r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{viewBox:"0 0 ".concat($t," ").concat(ea),preserveAspectRatio:"xMinYMid"},r.a.createElement("g",{transform:"translate(".concat(ta.left,", ").concat(ta.top,")")},r.a.createElement(qt,{innerHeight:s,xScale:m,tickFormat:na,tickOffset:7,tickCount:$t>480?6:2}),r.a.createElement(Qt,{innerWidth:u,yScale:d,tickOffset:7,tickFormat:ia}),r.a.createElement("g",{className:Kt.a.marks},r.a.createElement("path",{d:v(t)})),l?r.a.createElement(r.a.Fragment,null,r.a.createElement("g",{className:Kt.a.marks},r.a.createElement("path",{d:v(t)})),r.a.createElement(Ut,{value:l.date,xScale:m,innerHeight:s}),r.a.createElement("g",{transform:"translate(".concat(v.x()(l),", ").concat(v.y1()(l),")")},r.a.createElement("circle",{className:Kt.a.dataPoint,r:5}),r.a.createElement(E,{activeData:l,className:Kt.a.tooltipStroke}),r.a.createElement(E,{activeData:l,className:Kt.a.tooltip}))):null,r.a.createElement(Xt,{margin:ta,onHover:f,data:t,areaGenerator:v,innerWidth:u,innerHeight:s}))))},sa=function(e){var t=e.children,a=e.id;return r.a.createElement("div",{className:"wrap-collapsible"},r.a.createElement("input",{id:a,className:"toggle",type:"checkbox"}),r.a.createElement("label",{htmlFor:a,className:"lbl-toggle"},"What does this chart tell us?"),r.a.createElement("div",{className:"collapsible-content"},r.a.createElement("div",{className:"content-inner"},t)))},ua=function(e,t){return e.reduce((function(e,a){return e+a[t]}),0)},ma=function(){return r.a.createElement("p",{className:"footnote"},"Data source: Center for Systems Science and Engineering (CSSE) at Johns Hopkins University (",r.a.createElement("a",{href:"https://github.com/owid/covid-19-data/tree/master/public/data/jhu"},"Our Wolrd in Data"),")")},da=function(){var e=zt();if(!e)return r.a.createElement(m,null);var t=ua(e.slice(-7),"newCases")/7,a=ua(e.slice(-14,-7),"newCases")/7,n=[{heading:"Average previous week",value:Math.round(a).toLocaleString()},{heading:"Average this week",value:Math.round(t).toLocaleString()},{heading:"Growth factor",value:(t/a).toFixed(2)}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Gt,{title:"Daily New Cases Worldwide"}),r.a.createElement(Jt,{items:n}),r.a.createElement(oa,{data:e}),r.a.createElement(sa,{id:"Daily New Cases Worldwide"},r.a.createElement("p",null,'This chart is intended to show how fast the viruses are spreading over time. Each data point represents the number of people tested positive on that day, therefore "new cases".'),r.a.createElement("p",null,'During a contagious disease\'s growing period, an infected person is likely to spread the virus to more than one healthy person, so the latter days will see more new cases than the previous days. For example, if we have 10 new cases today but only 5 new cases yesterday, it can mean each of those 5 people passed the disease to 2 more people during the day. So, the "2" is the "growth factor" listed here above the chart. Only when the growth factor constantly goes below 1, have we the chance to see an end to the pandemic.'),r.a.createElement("p",null,"Since most societies work in a weekly basis, we can see the data regularly fluctuates inside of a week. To avoid misintepretation, this chart calculates the growth factor with weekly averages."),r.a.createElement(ma,null)))},fa=a(118),ha=a.n(fa),va=function(e){var t=e.xScale,a=e.innerHeight,n=e.tickFormat,c=e.tickOffset,l=void 0===c?3:c,i=e.tickCount,o=void 0===i?6:i;return(t.ticks(o).map((function(e){return r.a.createElement("g",{className:ha.a.tick,key:e,transform:"translate(".concat(t(e),", 0)")},r.a.createElement("line",{y2:a}),r.a.createElement("text",{y:a+l,dy:"0.71em",style:{textAnchor:"middle"}},n(e)))})))},Ea=function(e){var t=e.countryScale,a=e.ageScale,n=e.width,c=e.margin,l=e.tickOffset,i=void 0===l?3:l;return a.domain().map((function(e){return r.a.createElement("g",{key:e,className:ha.a.tick,transform:"translate(0,".concat(a(e)+a.bandwidth()/2,")")},r.a.createElement("rect",{x:-c.left,y:-a.bandwidth()/2-4,width:n,height:a.bandwidth()+8}),r.a.createElement("text",{dy:".32em",x:-c.left+i,style:{fontSize:"1.1em",fontWeight:"bold",textAnchor:"start"}},e),t.domain().map((function(e){return r.a.createElement("text",{key:e,dy:".72em",x:-i,y:t(e)-a.bandwidth()/2,style:{textAnchor:"end",dominantBaseline:"middle"}},e)})))}))},pa=function(e){var t=e.data,a=e.ageGroups,n=e.ageScale,c=e.xScale,l=e.countryScale,i=e.countryValue,o=e.colorScale,s=e.tooltipFormat,u=e.onHover,m=e.hoveredValue,d=e.fadeOpacity,f=void 0===d?.2:d;return t.map((function(e){return a.map((function(t){return r.a.createElement("g",{key:i(e)+t,className:ha.a.marks,onMouseEnter:function(){return u(i(e))},onMouseLeave:function(){return u(null)},opacity:m&&m!==i(e)?f:1},r.a.createElement("rect",{x:0,y:n(t)+l(i(e)),width:c(e[t]),height:l.bandwidth(),fill:o(i(e))},r.a.createElement("title",null,"".concat(t,": ").concat(s(e[t])))),r.a.createElement("text",{x:c(e[t])+3,y:n(t)+l(i(e)),dy:".68em",style:{textAnchor:"start",dominantBaseline:"middle"}},s(e[t])))}))}))},ga=window.innerWidth<1e3?window.innerWidth:1e3,ba=ga>480?.9*ga:2*ga,ya={top:20,right:40,bottom:30,left:170},Oa=function(e){return e.Country},wa=function(e){return e+"%"},ka=ba-ya.top-ya.bottom,xa=ga-ya.left-ya.right,ja=function(e){var t=e.data,a=Object(n.useState)(null),c=Object(i.a)(a,2),l=c[0],o=c[1],s=t.columns.slice(1),u=Object(n.useMemo)((function(){return Object(h.n)().domain([0,Object(h.k)(t,(function(e){return Object(h.k)(s,(function(t){return e[t]}))}))]).range([0,xa]).nice()}),[s,t]),m=Object(n.useMemo)((function(){return Object(h.m)().domain(s).range([0,ka]).paddingInner(.15)}),[s]),d=Object(n.useMemo)((function(){return Object(h.m)().domain(t.map(Oa)).range([m.bandwidth(),0]).paddingInner(.1)}),[m,t]),f=Object(n.useMemo)((function(){return Object(h.o)().domain(t.map(Oa)).range(h.q)}),[t]);return r.a.createElement(r.a.Fragment,null,r.a.createElement("svg",{viewBox:"0 0 ".concat(ga," ").concat(ba),preserveAspectRatio:"xMinYMid"},r.a.createElement("g",{transform:"translate(".concat(ya.left,", ").concat(ya.top,")")},r.a.createElement(va,{innerHeight:ka,xScale:u,tickFormat:wa,tickOffset:8}),r.a.createElement(Ea,{countryScale:d,ageScale:m,margin:ya,width:ga}),r.a.createElement(pa,{data:t,ageScale:m,ageGroups:s,xScale:u,countryScale:d,countryValue:Oa,colorScale:f,tooltipFormat:wa,onHover:o,hoveredValue:l,fadeOpacity:.3}))))},Na=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"footnote"},"Data sources: Chinese Center for Disease Control and Prevention (CDC); Spanish Ministry of Health; Korea Centers for Disease Control and Prevention (KCDC); Onder G, Rezza G, Brusaferro S. Case-Fatality Rate and Characteristics of Patients Dying in Relation to COVID-19 in Italy. JAMA. (This is a remake of"," ",r.a.createElement("a",{href:"https://ourworldindata.org/mortality-risk-covid#case-fatality-rate-of-covid-19-by-age"},"the same chart")," ","by Hannah Ritchie and Max Roser published in OurWorldinData.org)"),r.a.createElement("p",{className:"footnote"},"Licensed under CC-BY by the authors Hannah Ritchie and Max Roser."))},_a=function(e){var t=e.id;return r.a.createElement("div",{className:"wrap-collapsible"},r.a.createElement("input",{id:t,className:"toggle",type:"checkbox"}),r.a.createElement("label",{htmlFor:t,className:"lbl-toggle"},"What does this chart tell us?"),r.a.createElement("div",{className:"collapsible-content"},r.a.createElement("div",{className:"content-inner"},r.a.createElement("p",null,"This chart gives us a rough idea of which age groups are most at risk to COVID-19. If we know which groups are most likely to die from the disease, precautions and resouces like vaccines can be directed to the ones who need them most. According to this chart, the elderly are most likely to die from COVID-19."),r.a.createElement("p",null,"The data presented in the chart are calculated from the number of deaths divided by the number of confirmed cases in each age group. Since COVID-19 is still an ongoing pandemic, these numbers can change over time and conditions. There are two main limitations to keep in mind when interpreting this chart:"),r.a.createElement("ol",null,r.a.createElement("li",null,"Since not everyone is tested within the population, we do not know the real number of infected cases."),r.a.createElement("li",null,"Some infected individuals are still alive at the time of recording, but will eventually die from the disease.")),r.a.createElement(Na,null))))},Sa=function(e){var t=e.title;return r.a.createElement("div",{className:"chart-title"},t)},Ca=function(){var e=function(){var e=Object(n.useState)(null),t=Object(i.a)(e,2),a=t[0],r=t[1];return Object(n.useEffect)((function(){var e=!0;return Object(h.f)("https://gist.githubusercontent.com/mgeorgetw/965bfe365ab8e70e2ee34c9a5d4d594a/raw/COVID19CaseFatalityRatesByAge.csv",h.c).then((function(t){e&&r(t)})),function(){e=!1}}),[]),a}();return e?r.a.createElement(r.a.Fragment,null,r.a.createElement(Sa,{title:"Case fatality rates by age"}),r.a.createElement(ja,{data:e}),r.a.createElement(_a,{id:"caseFatalityRetes"})):r.a.createElement(m,null)},Da=a(252),La=a.n(Da),Aa=a(255),Va=a(253),Fa=function(){return r.a.createElement("ul",{className:"flex-card-list"},r.a.createElement(d,null,r.a.createElement(It,null)),r.a.createElement(d,null,r.a.createElement(da,null)),r.a.createElement(d,null,r.a.createElement(Ot,null)),r.a.createElement(d,null,r.a.createElement(yt,{area:"Taiwan",chart_type:"newCases"})),r.a.createElement(d,null,r.a.createElement(yt,{area:"Taiwan",chart_type:"newDeaths"})),r.a.createElement(d,null,r.a.createElement(Ca,null)))},Ma=function(){var e=Object(n.useState)("global"),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){return Object(u.cookieExists)("view")?c(Object(u.findCookie)("view")):Object(u.setCookie)("view","global"),La.a.init({mainElement:"body",onRefresh:function(){window.location.reload()},iconArrow:s.a.renderToString(r.a.createElement(Va.a,{icon:Aa.a})),iconRefreshing:s.a.renderToString(r.a.createElement(Va.a,{icon:Aa.a,spin:!0}))}),function(){La.a.destroyAll()}}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(wt,null),r.a.createElement(kt,{view:a,setView:c}),"global"===a?r.a.createElement(Fa,null):r.a.createElement(et,null),r.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Ma,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},94:function(e,t,a){e.exports={pieChart:"OverviewPie_pieChart___bMnr",pieLabel:"OverviewPie_pieLabel__3LAAf",pieLabelStroke:"OverviewPie_pieLabelStroke__2jZQ6",legendLabel:"OverviewPie_legendLabel__3jHkC",legend:"OverviewPie_legend__3kb26",hideshow:"OverviewPie_hideshow__1f2ru"}}},[[535,1,2]]]);
//# sourceMappingURL=main.36381ad2.chunk.js.map